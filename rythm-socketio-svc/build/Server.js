/*! For license information please see Server.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(function(){try{return require("bufferutil")}catch(e){}}(),function(){try{return require("utf-8-validate")}catch(e){}}()):"function"==typeof define&&define.amd?define(["bufferutil","utf-8-validate"],t):"object"==typeof exports?exports.index=t(function(){try{return require("bufferutil")}catch(e){}}(),function(){try{return require("utf-8-validate")}catch(e){}}()):e.index=t(e.bufferutil,e["utf-8-validate"])}(global,(function(e,t){return(()=>{var r={3878:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvUtil=void 0;var i=r(8957);r(9738).config();var s=new i.SecretsManager({credentials:{accessKeyId:"AKIA3KQG2ZWGP3LPVXGJ",secretAccessKey:"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"},region:"us-west-2"}),a=function(){function e(){}return e.getSecret=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,s.getSecretValue({SecretId:e})];case 1:return t=r.sent(),console.log("// Getting secret for secretid: "+e+"."),[2,t.SecretString]}}))}))},e.getEnv=function(e){var t=process.env[e];return console.log("// Getting environment variable "+e+" value is: "+t+"."),t},e}();t.EnvUtil=a},6746:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(4552).Kafka,s=r(8605),a=r(2730),c=r(3878);console.log("// 11:33");var p=s.createServer(),u=new a.Server(p,{cors:{methods:["GET","PUT","POST"],credentials:!1,origin:"*"}});n(void 0,void 0,void 0,(function(){var e,t,r,n,s,a;return o(this,(function(o){switch(o.label){case 0:return[4,c.EnvUtil.getSecret("confluent_sasl_plain_username")];case 1:return e=o.sent(),[4,c.EnvUtil.getSecret("confluent_sasl_plain_password")];case 2:return t=o.sent(),r=c.EnvUtil.getEnv("KAFKA_BOOTSTRAP_SERVERS"),n=c.EnvUtil.getEnv("KAFKA_TOPIC"),s=new i({clientId:"socketio-app",brokers:[r],ssl:!0,sasl:{mechanism:"plain",username:e,password:t}}),[4,(a=s.consumer({groupId:"rythm-socketio-group"})).connect()];case 3:return o.sent(),[4,a.subscribe({topic:n,fromBeginning:!1})];case 4:return o.sent(),[4,a.run({eachMessage:function(e){var t=e.message;u.emit(n,t.value.toString()),console.log(t.value.toString())}})];case 5:return o.sent(),[2]}}))})),u.on("connection",(function(e){return n(void 0,void 0,void 0,(function(){return o(this,(function(e){return console.log("// A user connected."),[2]}))}))})),p.listen(3e3),console.log("// Server online.")},8957:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CancelRotateSecretCommand:()=>Uo,CancelRotateSecretRequest:()=>Er,CancelRotateSecretResponse:()=>kr,CreateSecretCommand:()=>$o,CreateSecretRequest:()=>Rr,CreateSecretResponse:()=>Pr,DecryptionFailure:()=>qr,DeleteResourcePolicyCommand:()=>Ko,DeleteResourcePolicyRequest:()=>Fr,DeleteResourcePolicyResponse:()=>zr,DeleteSecretCommand:()=>Go,DeleteSecretRequest:()=>Vr,DeleteSecretResponse:()=>Ur,DescribeSecretCommand:()=>Wo,DescribeSecretRequest:()=>$r,DescribeSecretResponse:()=>Gr,EncryptionFailure:()=>Lr,Filter:()=>Wr,GetRandomPasswordCommand:()=>Jo,GetRandomPasswordRequest:()=>Jr,GetRandomPasswordResponse:()=>Hr,GetResourcePolicyCommand:()=>Ho,GetResourcePolicyRequest:()=>Qr,GetResourcePolicyResponse:()=>Zr,GetSecretValueCommand:()=>Qo,GetSecretValueRequest:()=>Yr,GetSecretValueResponse:()=>Xr,InternalServiceError:()=>Cr,InvalidNextTokenException:()=>en,InvalidParameterException:()=>Ar,InvalidRequestException:()=>Or,LimitExceededException:()=>Mr,ListSecretVersionIdsCommand:()=>Zo,ListSecretVersionIdsRequest:()=>sn,ListSecretVersionIdsResponse:()=>cn,ListSecretsCommand:()=>Yo,ListSecretsRequest:()=>rn,ListSecretsResponse:()=>on,MalformedPolicyDocumentException:()=>Br,PreconditionNotMetException:()=>jr,PublicPolicyException:()=>pn,PutResourcePolicyCommand:()=>Xo,PutResourcePolicyRequest:()=>un,PutResourcePolicyResponse:()=>ln,PutSecretValueCommand:()=>ei,PutSecretValueRequest:()=>dn,PutSecretValueResponse:()=>mn,ResourceExistsException:()=>Dr,ResourceNotFoundException:()=>_r,RestoreSecretCommand:()=>ti,RestoreSecretRequest:()=>fn,RestoreSecretResponse:()=>hn,RotateSecretCommand:()=>ri,RotateSecretRequest:()=>gn,RotateSecretResponse:()=>vn,RotationRulesType:()=>Kr,SecretListEntry:()=>nn,SecretVersionsListEntry:()=>an,SecretsManager:()=>ci,SecretsManagerClient:()=>An,SortOrderType:()=>tn,Tag:()=>Nr,TagResourceCommand:()=>ni,TagResourceRequest:()=>yn,UntagResourceCommand:()=>oi,UntagResourceRequest:()=>bn,UpdateSecretCommand:()=>ii,UpdateSecretRequest:()=>xn,UpdateSecretResponse:()=>wn,UpdateSecretVersionStageCommand:()=>si,UpdateSecretVersionStageRequest:()=>In,UpdateSecretVersionStageResponse:()=>Sn,ValidateResourcePolicyCommand:()=>ai,ValidateResourcePolicyRequest:()=>Tn,ValidateResourcePolicyResponse:()=>kn,ValidationErrorsEntry:()=>En,paginateListSecretVersionIds:()=>fi,paginateListSecrets:()=>li});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function a(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function c(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function l(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof u?Promise.resolve(r.value.v).then(c,p):l(i[0][2],r)}catch(e){l(i[0][3],e)}var r}function c(e){a("next",e)}function p(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}Object.create,Object.create;const d=JSON.parse('{"u2":"@aws-sdk/client-secrets-manager","i8":"3.0.0"}');var m=function(){return(m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var f=function(e){var t=e.endpoint,r=e.urlParser;if("string"==typeof t){var n=Promise.resolve(r(t));return function(){return n}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},h=function(e){return t=void 0,r=void 0,o=function(){var t,r,n,o,i;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(s){switch(s.label){case 0:return t=e.tls,r=void 0===t||t,[4,e.region()];case 1:if(n=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(n)];case 2:if(!(o=(null!==(i=s.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+o)]}}))},new((n=void 0)||(n=Promise))((function(e,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,a)}c((o=o.apply(t,r||[])).next())}));var t,r,n,o},g={environmentVariableSelector:function(e){return e.AWS_REGION},configFileSelector:function(e){return e.region},default:function(){throw new Error("Region is missing")}},v=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function b(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var x=function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this,t)||this;return n.tryNextLink=r,n}return function(e,t){function r(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error);function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){var t,r,n=Promise.reject(new x("No providers in chain")),o=function(e){n=n.catch((function(t){if(null==t?void 0:t.tryNextLink)return e();throw t}))};try{for(var i=b(e),s=i.next();!s.done;s=i.next())o(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}}var I=function(e,t,r){var n,o;if(void 0===t)return function(){return o||(n=e(),o=!0),n};var i=!1;return function(){return s=void 0,a=void 0,p=function(){var s;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(a){switch(a.label){case 0:return o||(n=e(),o=!0),i?[2,n]:[4,n];case 1:return s=a.sent(),r&&!r(s)?(i=!0,[2,s]):t(s)?[2,n=e()]:[2,s]}}))},new((c=void 0)||(c=Promise))((function(e,t){function r(e){try{o(p.next(e))}catch(e){t(e)}}function n(e){try{o(p.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(r,n)}o((p=p.apply(s,a||[])).next())}));var s,a,c,p}},S=function(){return(S=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function T(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function E(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var k=r(8835);const C=require("buffer");var A=r(8605);function O(e){return new Promise((function(t,r){var n=(0,A.request)(S({method:"GET"},e));n.on("error",(function(e){r(Object.assign(new x("Unable to connect to instance metadata service"),e))})),n.on("timeout",(function(){r(new Error("TimeoutError"))})),n.on("response",(function(e){var n=e.statusCode,o=void 0===n?400:n;(o<200||300<=o)&&r(Object.assign(new x("Error response received from instance metadata service"),{statusCode:o}));var i=[];e.on("data",(function(e){i.push(e)})),e.on("end",(function(){t(C.Buffer.concat(i))}))})),n.end()}))}var _=function(e){return Boolean(e)&&"object"==typeof e&&"string"==typeof e.AccessKeyId&&"string"==typeof e.SecretAccessKey&&"string"==typeof e.Token&&"string"==typeof e.Expiration},N=function(e){return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}},R=function(e){var t=e.maxRetries,r=void 0===t?0:t,n=e.timeout;return{maxRetries:r,timeout:void 0===n?1e3:n}},P=function(e,t){for(var r=e(),n=0;n<t;n++)r=r.catch(e);return r},L="AWS_CONTAINER_CREDENTIALS_FULL_URI",M="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",B="AWS_CONTAINER_AUTHORIZATION_TOKEN";function j(e,t){if(process.env[B]){var r=t.headers,n=void 0===r?{}:r;n.Authorization=process.env[B],t.headers=n}return O(S(S({},t),{timeout:e})).then((function(e){return e.toString()}))}var D="169.254.170.2",q={localhost:!0,"127.0.0.1":!0},F={"http:":!0,"https:":!0},z="169.254.169.254",V="/latest/meta-data/iam/security-credentials/",U=function(e){return T(void 0,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,O(S(S({},e),{host:z,path:V}))];case 1:return[2,t.sent().toString()]}}))}))},$=function(e,t){return T(void 0,void 0,void 0,(function(){var r,n,o;return E(this,(function(i){switch(i.label){case 0:return o=(n=JSON).parse,[4,O(S(S({},t),{host:z,path:V+e}))];case 1:if(r=o.apply(n,[i.sent().toString()]),!_(r))throw new x("Invalid response received from instance metadata service.");return[2,N(r)]}}))}))},K=function(){return(K=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function G(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}var J=r(5747),H=r(2087),Q=r(5622),Z=function(){return{}},Y=function(e){void 0===e&&(e={});var t=e.filepath,r=void 0===t?process.env.AWS_SHARED_CREDENTIALS_FILE||(0,Q.join)(oe(),".aws","credentials"):t,n=e.configFilepath,o=void 0===n?process.env.AWS_CONFIG_FILE||(0,Q.join)(oe(),".aws","config"):n;return Promise.all([ne(o).then(re).then(ee).catch(Z),ne(r).then(re).catch(Z)]).then((function(e){var t=W(e,2);return{configFile:t[0],credentialsFile:t[1]}}))},X=/^profile\s(["'])?([^\1]+)\1$/,ee=function(e){var t,r,n={};try{for(var o=G(Object.keys(e)),i=o.next();!i.done;i=o.next()){var s=i.value,a=void 0;if("default"===s)n.default=e.default;else if(a=X.exec(s)){var c=W(a,3),p=(c[0],c[1],c[2]);p&&(n[p]=e[s])}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},te=["__proto__","profile __proto__"],re=function(e){var t,r,n,o={};try{for(var i=G(e.split(/\r?\n/)),s=i.next();!s.done;s=i.next()){var a=s.value,c=(a=a.split(/(^|\s)[;#]/)[0]).match(/^\s*\[([^\[\]]+)]\s*$/);if(c){if(n=c[1],te.includes(n))throw new Error('Found invalid profile name "'+n+'"')}else if(n){var p=a.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);p&&(o[n]=o[n]||{},o[n][p[1]]=p[2])}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o},ne=function(e){return new Promise((function(t,r){(0,J.readFile)(e,"utf8",(function(e,n){e?r(e):t(n)}))}))},oe=function(){var e=process.env,t=e.HOME,r=e.USERPROFILE,n=e.HOMEPATH,o=e.HOMEDRIVE,i=void 0===o?"C:"+Q.sep:o;return t||r||(n?""+i+n:(0,H.homedir)())};function ie(e){return Boolean(e)&&"object"==typeof e&&"string"==typeof e.aws_access_key_id&&"string"==typeof e.aws_secret_access_key&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1}function se(e){return void 0===e&&(e={}),function(){return pe(e).then((function(t){return ce(ae(e),t,e)}))}}function ae(e){return e.profile||process.env.AWS_PROFILE||"default"}function ce(e,t,r,n){return void 0===n&&(n={}),o=this,i=void 0,a=function(){var o,i,s,a,c,p,u,l,d,m,f,h,g;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(v){switch(v.label){case 0:if(o=t[e],Object.keys(n).length>0&&ie(o))return[2,ue(o)];if(y=o,!(Boolean(y)&&"object"==typeof y&&"string"==typeof y.role_arn&&"string"==typeof y.source_profile&&["undefined","string"].indexOf(typeof y.role_session_name)>-1&&["undefined","string"].indexOf(typeof y.external_id)>-1&&["undefined","string"].indexOf(typeof y.mfa_serial)>-1))return[3,4];if(i=o.external_id,s=o.mfa_serial,a=o.role_arn,c=o.role_session_name,p=void 0===c?"aws-sdk-js-"+Date.now():c,u=o.source_profile,!r.roleAssumer)throw new x("Profile "+e+" requires a role to be assumed, but no role assumption callback was provided.",!1);if(u in n)throw new x("Detected a cycle attempting to resolve credentials for profile "+ae(r)+". Profiles visited: "+Object.keys(n).join(", "),!1);if(l=ce(u,t,r,K(K({},n),((g={})[u]=!0,g))),d={RoleArn:a,RoleSessionName:p,ExternalId:i},!s)return[3,2];if(!r.mfaCodeProvider)throw new x("Profile "+e+" requires multi-factor authentication, but no MFA code callback was provided.",!1);return d.SerialNumber=s,m=d,[4,r.mfaCodeProvider(s)];case 1:m.TokenCode=v.sent(),v.label=2;case 2:return h=(f=r).roleAssumer,[4,l];case 3:return[2,h.apply(f,[v.sent(),d])];case 4:if(ie(o))return[2,ue(o)];throw new x("Profile "+e+" could not be found or parsed in shared credentials file.")}var y}))},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function n(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,n)}c((a=a.apply(o,i||[])).next())}));var o,i,s,a}function pe(e){var t=e.loadedConfig;return(void 0===t?Y(e):t).then((function(e){var t=e.configFile,r=e.credentialsFile;return K(K({},t),r)}))}function ue(e){return Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token})}const le=require("child_process");function de(e){return void 0===e&&(e={}),function(){return pe(e).then((function(t){return function(e,t,r){return n=this,o=void 0,s=function(){var r,n;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(o){switch(o.label){case 0:return r=t[e],t[e]?void 0===(n=r.credential_process)?[3,2]:[4,(i=n,new Promise((function(e,t){(0,le.exec)(i,(function(r,n){r?t(r):e(n.trim())}))}))).then((function(t){var r;try{r=JSON.parse(t)}catch(t){throw Error("Profile "+e+" credential_process returned invalid JSON.")}var n,o=r.Version,i=r.AccessKeyId,s=r.SecretAccessKey,a=r.SessionToken,c=r.Expiration;if(1!==o)throw Error("Profile "+e+" credential_process did not return Version 1.");if(void 0===i||void 0===s)throw Error("Profile "+e+" credential_process returned invalid credentials.");if(c){var p=new Date;if(new Date(c)<p)throw Error("Profile "+e+" credential_process returned expired credentials.");n=Math.floor(new Date(c).valueOf()/1e3)}return{accessKeyId:i,secretAccessKey:s,sessionToken:a,expirationUnix:n}})).catch((function(e){throw new x(e.message)}))]:[3,4];case 1:return[2,o.sent()];case 2:throw new x("Profile "+e+" did not contain credential_process.");case 3:return[3,5];case 4:throw new x("Profile "+e+" could not be found in shared credentials file.");case 5:return[2]}var i}))},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}c((s=s.apply(n,o||[])).next())}));var n,o,i,s}(ae(e),t)}))}}var me=function(e){return"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)},fe=function(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=e.byteLength-t),!me(e))throw new TypeError('The "input" argument must be ArrayBuffer. Received type '+typeof e+" ("+e+")");return C.Buffer.from(e,t,r)},he=function(e,t){if("string"!=typeof e)throw new TypeError('The "input" argument must be of type string. Received type '+typeof e+" ("+e+")");return t?C.Buffer.from(e,t):C.Buffer.from(e)},ge=r(6417),ve=function(){function e(e,t){this.hash=t?(0,ge.createHmac)(e,ye(t)):(0,ge.createHash)(e)}return e.prototype.update=function(e,t){this.hash.update(ye(e,t))},e.prototype.digest=function(){return Promise.resolve(this.hash.digest())},e}();function ye(e,t){return C.Buffer.isBuffer(e)?e:"string"==typeof e?he(e,t):ArrayBuffer.isView(e)?fe(e.buffer,e.byteOffset,e.byteLength):fe(e)}var be=function(){return(be=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function xe(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function we(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Ie={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high"},Se=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),Te=function(){return(Te=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ee(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}var ke=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,r=new e(Te(Te({},this),{headers:Te({},this.headers)}));return r.query&&(r.query=(t=r.query,Object.keys(t).reduce((function(e,r){var n,o=t[r];return Te(Te({},e),((n={})[r]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ee(arguments[t]));return e}(o):o,n))}),{}))),r},e}(),Ce=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Ae=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Oe=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],_e=[500,502,503,504],Ne=function(e){var t,r;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||Ae.includes(e.name)||1==(null===(r=e.$retryable)||void 0===r?void 0:r.throttling)},Re=r(5877),Pe=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Le=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return Ce.includes(e.name)}(e)||Ne(e)||function(e){var t;return Oe.includes(e.name)||_e.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Me=function(){function e(e,t){var r,n,o,i,s,a,c;this.maxAttemptsProvider=e,this.retryDecider=null!==(r=null==t?void 0:t.retryDecider)&&void 0!==r?r:Le,this.delayDecider=null!==(n=null==t?void 0:t.delayDecider)&&void 0!==n?n:Pe,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=500,s=500,a=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return a(e)<=s},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=a(e);return s-=t,t},releaseRetryTokens:function(e){s+=null!=e?e:1,s=Math.min(s,i)}}))}return e.prototype.shouldRetry=function(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return xe(this,void 0,void 0,(function(){var e;return we(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return xe(this,void 0,void 0,(function(){var r,n,o,i,s,a,c,p;return we(this,(function(u){switch(u.label){case 0:return n=0,o=0,[4,this.getMaxAttempts()];case 1:i=u.sent(),s=t.request,ke.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,Re.v4)()),a=function(){var a,p,u,l,d;return we(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,5]),ke.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(n+1)+"; max="+i),[4,e(t)];case 1:return a=m.sent(),p=a.response,u=a.output,c.retryQuota.releaseRetryTokens(r),u.$metadata.attempts=n+1,u.$metadata.totalRetryDelay=o,[2,{value:{response:p,output:u}}];case 2:return l=m.sent(),n++,c.shouldRetry(l,n,i)?(r=c.retryQuota.retrieveRetryTokens(l),d=c.delayDecider(Ne(l)?500:100,n),o+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return m.sent(),[2,"continue"];case 4:throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=n,l.$metadata.totalRetryDelay=o,l;case 5:return[2]}}))},c=this,u.label=2;case 2:return[5,a()];case 3:return"object"==typeof(p=u.sent())?[2,p.value]:[3,2];case 4:return[2]}}))}))},e}(),Be={environmentVariableSelector:function(e){var t=e.AWS_MAX_ATTEMPTS;if(t){var r=parseInt(t);if(Number.isNaN(r))throw new Error('Environment variable AWS_MAX_ATTEMPTS mast be a number, got "'+t+'"');return r}},configFileSelector:function(e){var t=e.max_attempts;if(t){var r=parseInt(t);if(Number.isNaN(r))throw new Error('Shared config file entry max_attempts mast be a number, got "'+t+'"');return r}},default:3},je=function(){return(je=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function De(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function qe(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Fe=function(e,t){var r,n=e.environmentVariableSelector,o=e.configFileSelector,i=e.default;return void 0===t&&(t={}),I(w((r=n,function(){return De(void 0,void 0,void 0,(function(){var e;return qe(this,(function(t){try{if(void 0===(e=r(process.env)))throw new Error;return[2,e]}catch(e){throw new x(e.message||"Cannot load config from environment variables with getter: "+r)}return[2]}))}))}),function(e,t){void 0===t&&(t={});var r=t.preferredFile,n=void 0===r?"config":r,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["preferredFile"]);return function(){return De(void 0,void 0,void 0,(function(){var t,r,i,s,a,c,p,u,l,d,m;return qe(this,(function(f){switch(f.label){case 0:return t=o.loadedConfig,r=void 0===t?Y(o):t,i=o.profile,s=void 0===i?process.env.AWS_PROFILE||"default":i,[4,r];case 1:a=f.sent(),c=a.configFile,p=a.credentialsFile,u=p[s]||{},l=c[s]||{},d="config"===n?je(je({},u),l):je(je({},l),u);try{if(void 0===(m=e(d)))throw new Error;return[2,m]}catch(t){throw new x(t.message||"Cannot load config for profile "+s+" in SDK configuration files with getter: "+e)}return[2]}}))}))}}(o,t),function(e){return"function"==typeof e?function(){return De(void 0,void 0,void 0,(function(){return qe(this,(function(t){return[2,e()]}))}))}:(t=e,function(){return Promise.resolve(t)});var t}(i)))};var ze=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Ve)},Ve=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function Ue(e){var t,r,n=[];try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var s=i.value,a=e[s];if(s=ze(s),Array.isArray(a))for(var c=0,p=a.length;c<p;c++)n.push(s+"="+ze(a[c]));else{var u=s;(a||"string"==typeof a)&&(u+="="+ze(a)),n.push(u)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n.join("&")}var $e=r(7211),Ke=["ECONNRESET","EPIPE","ETIMEDOUT"],Ge=function(e,t){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},We=function(){return(We=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Je(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}var Qe=function(e){var t,r,n={};try{for(var o=Je(Object.keys(e)),i=o.next();!i.done;i=o.next()){var s=i.value,a=e[s];n[s]=Array.isArray(a)?a.join(","):a}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},Ze=r(2413);function Ye(e,t){"100-continue"===(t.headers.Expect||t.headers.expect)?e.on("continue",(function(){Xe(e,t.body)})):Xe(e,t.body)}function Xe(e,t){t instanceof Ze.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var et=function(){function e(e){var t=void 0===e?{}:e,r=t.connectionTimeout,n=t.socketTimeout,o=t.httpAgent,i=t.httpsAgent;this.metadata={handlerProtocol:"http/1.1"},this.connectionTimeout=r,this.socketTimeout=n,this.httpAgent=o||new A.Agent({keepAlive:!0}),this.httpsAgent=i||new $e.Agent({keepAlive:!0})}return e.prototype.destroy=function(){this.httpAgent.destroy(),this.httpsAgent.destroy()},e.prototype.handle=function(e,t){var r=this,n=(void 0===t?{}:t).abortSignal;return new Promise((function(t,o){if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",void o(i)}var s="https:"===e.protocol,a=Ue(e.query||{}),c={headers:e.headers,host:e.hostname,method:e.method,path:a?e.path+"?"+a:e.path,port:e.port,agent:s?r.httpsAgent:r.httpAgent},p=(s?$e.request:A.request)(c,(function(e){var r=new Se({statusCode:e.statusCode||-1,headers:Qe(e.headers),body:e});t({response:r})}));p.on("error",(function(e){Ke.includes(e.code)?o(Object.assign(e,{name:"TimeoutError"})):o(e)})),function(e,t,r){void 0===r&&(r=0),r&&e.on("socket",(function(n){if(n.connecting){var o=setTimeout((function(){e.destroy(),t(Object.assign(new Error("Socket timed out without establishing a connection within "+r+" ms"),{name:"TimeoutError"}))}),r);n.on("connect",(function(){clearTimeout(o)}))}}))}(p,o,r.connectionTimeout),function(e,t,r){void 0===r&&(r=0),e.setTimeout(r,(function(){e.destroy(),t(Object.assign(new Error("Connection timed out after "+r+" ms"),{name:"TimeoutError"}))}))}(p,o,r.socketTimeout),n&&(n.onabort=function(){p.abort();var e=new Error("Request aborted");e.name="AbortError",o(e)}),Ye(p,e)}))},e}();const tt=require("http2");!function(){function e(e){var t=void 0===e?{}:e,r=t.requestTimeout,n=t.sessionTimeout;this.metadata={handlerProtocol:"h2"},this.requestTimeout=r,this.sessionTimeout=n,this.connectionPool=new Map}e.prototype.destroy=function(){var e,t;try{for(var r=Je(this.connectionPool),n=r.next();!n.done;n=r.next()){var o=He(n.value,2);o[0],o[1].destroy()}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.connectionPool.clear()},e.prototype.handle=function(e,t){var r=this,n=(void 0===t?{}:t).abortSignal;return new Promise((function(t,o){var i;if(null==n?void 0:n.aborted){var s=new Error("Request aborted");return s.name="AbortError",void o(s)}var a=e.hostname,c=e.method,p=e.port,u=e.protocol,l=e.path,d=Ue(e.query||{}),m=r.getSession(u+"//"+a+(p?":"+p:"")).request(We(We({},e.headers),((i={})[tt.constants.HTTP2_HEADER_PATH]=d?l+"?"+d:l,i[tt.constants.HTTP2_HEADER_METHOD]=c,i)));m.on("response",(function(e){var r=new Se({statusCode:e[":status"]||-1,headers:Qe(e),body:m});t({response:r})})),m.on("error",o),m.on("frameError",o),m.on("aborted",o);var f=r.requestTimeout;f&&m.setTimeout(f,(function(){m.close();var e=new Error("Stream timed out because of no activity for "+f+" ms");e.name="TimeoutError",o(e)})),n&&(n.onabort=function(){m.close();var e=new Error("Request aborted");e.name="AbortError",o(e)}),Ye(m,e)}))},e.prototype.getSession=function(e){var t=this.connectionPool,r=t.get(e);if(r)return r;var n=(0,tt.connect)(e);t.set(e,n);var o=this.sessionTimeout;return o&&n.setTimeout(o,(function(){n.close(),t.delete(e)})),n}}();var rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bufferedBytes=[],t}return function(e,t){function r(){this.constructor=e}Ge(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype._write=function(e,t,r){this.bufferedBytes.push(e),r()},t}(Ze.Writable);function nt(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}const ot=require("process");var it,st,at,ct=r.n(ot),pt="secretsmanager.{region}.amazonaws.com",ut=new Set(["ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),lt=new Set(["cn-north-1","cn-northwest-1"]),dt=new Set(["us-iso-east-1"]),mt=new Set(["us-isob-east-1"]),ft=new Set(["us-gov-east-1","us-gov-west-1"]),ht=i(i({},{apiVersion:"2017-10-17",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var r=void 0;switch(e){case"ap-east-1":r={hostname:"secretsmanager.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":r={hostname:"secretsmanager.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"secretsmanager.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"secretsmanager.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"secretsmanager.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"secretsmanager.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"secretsmanager.ca-central-1.amazonaws.com",partition:"aws"};break;case"eu-central-1":r={hostname:"secretsmanager.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"secretsmanager.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"secretsmanager.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"secretsmanager.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"secretsmanager.eu-west-3.amazonaws.com",partition:"aws"};break;case"me-south-1":r={hostname:"secretsmanager.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":r={hostname:"secretsmanager.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"secretsmanager.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1-fips":r={hostname:"secretsmanager-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"us-east-2":r={hostname:"secretsmanager.us-east-2.amazonaws.com",partition:"aws"};break;case"us-east-2-fips":r={hostname:"secretsmanager-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"us-gov-east-1":r={hostname:"secretsmanager.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-east-1-fips":r={hostname:"secretsmanager-fips.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":r={hostname:"secretsmanager.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1-fips":r={hostname:"secretsmanager-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-west-1":r={hostname:"secretsmanager.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-1-fips":r={hostname:"secretsmanager-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"us-west-2":r={hostname:"secretsmanager.us-west-2.amazonaws.com",partition:"aws"};break;case"us-west-2-fips":r={hostname:"secretsmanager-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;default:ut.has(e)&&(r={hostname:pt.replace("{region}",e),partition:"aws"}),lt.has(e)&&(r={hostname:"secretsmanager.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),dt.has(e)&&(r={hostname:"secretsmanager.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),mt.has(e)&&(r={hostname:"secretsmanager.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),ft.has(e)&&(r={hostname:"secretsmanager.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===r&&(r={hostname:pt.replace("{region}",e),partition:"aws"})}return Promise.resolve(r)},serviceId:"secretsmanager"}),{runtime:"node",base64Decoder:function(e){var t=he(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},base64Encoder:function(e){return fe(e.buffer,e.byteOffset,e.byteLength).toString("base64")},bodyLengthChecker:function(e){return e?"string"==typeof e?Buffer.from(e).length:"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:"string"==typeof e.path?(0,J.lstatSync)(e.path).size:void 0:0},credentialDefaultProvider:function(e){void 0===e&&(e={});var t=e.profile,r=(void 0===t?process.env.AWS_PROFILE:t)?se(e):w((function(){var e=process.env.AWS_ACCESS_KEY_ID,t=process.env.AWS_SECRET_ACCESS_KEY,r=process.env.AWS_CREDENTIAL_EXPIRATION;return e&&t?Promise.resolve({accessKeyId:e,secretAccessKey:t,sessionToken:process.env.AWS_SESSION_TOKEN,expiration:r?new Date(r):void 0}):Promise.reject(new x("Unable to find environment variable credentials."))}),se(e),de(e),function(e){return process.env[M]||process.env[L]?function(e){var t=this;void 0===e&&(e={});var r=R(e),n=r.timeout,o=r.maxRetries;return function(){return function(){if(process.env[M])return Promise.resolve({hostname:D,path:process.env[M]});if(process.env[L]){var e=(0,k.parse)(process.env[L]);return e.hostname&&e.hostname in q?e.protocol&&e.protocol in F?Promise.resolve(S(S({},e),{port:e.port?parseInt(e.port,10):void 0})):Promise.reject(new x(e.protocol+" is not a valid container metadata service protocol",!1)):Promise.reject(new x(e.hostname+" is not a valid container metadata service hostname",!1))}return Promise.reject(new x("The container metadata credential provider cannot be used unless the "+M+" or "+L+" environment variable is set",!1))}().then((function(e){return P((function(){return T(t,void 0,void 0,(function(){var t,r,o;return E(this,(function(i){switch(i.label){case 0:return o=(r=JSON).parse,[4,j(n,e)];case 1:if(t=o.apply(r,[i.sent()]),!_(t))throw new x("Invalid response received from instance metadata service.");return[2,N(t)]}}))}))}),o)}))}}(e):process.env.AWS_EC2_METADATA_DISABLED?function(){return Promise.reject(new x("EC2 Instance Metadata Service access disabled"))}:function(e){void 0===e&&(e={});var t=!1,r=R(e),n=r.timeout,o=r.maxRetries,i=function(e,r){return T(void 0,void 0,void 0,(function(){var n;return E(this,(function(o){switch(o.label){case 0:return[4,P((function(){return T(void 0,void 0,void 0,(function(){var e,n;return E(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,U(r)];case 1:return e=o.sent(),[3,3];case 2:throw 401===(n=o.sent()).statusCode&&(t=!1),n;case 3:return[2,e]}}))}))}),e)];case 1:return n=o.sent().trim(),[2,P((function(){return T(void 0,void 0,void 0,(function(){var e,o;return E(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,$(n,r)];case 1:return e=i.sent(),[3,3];case 2:throw 401===(o=i.sent()).statusCode&&(t=!1),o;case 3:return[2,e]}}))}))}),e)]}}))}))};return function(){return T(void 0,void 0,void 0,(function(){var e,r;return E(this,(function(s){switch(s.label){case 0:return t?[2,i(o,{timeout:n})]:[3,1];case 1:e=void 0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,(a={timeout:n},T(void 0,void 0,void 0,(function(){return E(this,(function(e){return[2,O(S(S({},a),{host:z,path:"/latest/api/token",method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}))]}))})))];case 3:return e=s.sent().toString(),[3,5];case 4:if(400===(null==(r=s.sent())?void 0:r.statusCode))throw Object.assign(r,{message:"EC2 Metadata token request returned error"});return("TimeoutError"===r.message||[403,404,405].includes(r.statusCode))&&(t=!0),[2,i(o,{timeout:n})];case 5:return[2,i(o,{timeout:n,headers:{"x-aws-ec2-metadata-token":e}})]}var a}))}))}}(e)}(e));return I(r,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration}))},defaultUserAgent:(it=d.u2,st=d.i8,at=ct().platform+"/"+ct().version,ct().env.AWS_EXECUTION_ENV&&(at+=" exec-env/"+ct().env.AWS_EXECUTION_ENV),"aws-sdk-nodejs-v3-"+it+"/"+st+" "+at),maxAttempts:Fe(Be),region:Fe(g,{preferredFile:"credentials"}),requestHandler:new et,sha256:ve.bind(null,"sha256"),streamCollector:function(e){return new Promise((function(t,r){var n=new rt;e.pipe(n),e.on("error",(function(e){n.end(),r(e)})),n.on("error",r),n.on("finish",(function(){var e=new Uint8Array(Buffer.concat(this.bufferedBytes));t(e)}))}))},urlParser:function(e){var t,r=new URL(e),n=r.hostname,o=void 0===n?"localhost":n,i=r.pathname,s=void 0===i?"/":i,a=r.port,c=r.protocol,p=void 0===c?"https:":c,u=r.search;return u&&(t=function(e){var t,r,n={};if(e=e.replace(/^\?/,""))try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),i=o.next();!i.done;i=o.next()){var s=nt(i.value.split("="),2),a=s[0],c=s[1],p=void 0===c?null:c;a=decodeURIComponent(a),p&&(p=decodeURIComponent(p)),a in n?Array.isArray(n[a])?n[a].push(p):n[a]=[n[a],p]:n[a]=p}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}(u)),{hostname:o,port:a?parseInt(a):void 0,protocol:p,path:s,query:t}},utf8Decoder:function(e){var t=he(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},utf8Encoder:function(e){return fe(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}}),gt=function(){return(gt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var vt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware"},yt=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(r){return function(n){return o=t,i=void 0,a=function(){var t,o,i,s,a;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(c){return t=n.request,ke.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf("content-length")&&void 0!==(s=e(o))&&(t.headers=gt(gt({},t.headers),((a={})["content-length"]=String(s),a)))),[2,r(gt(gt({},n),{request:t}))]}))},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function n(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,n)}c((a=a.apply(o,i||[])).next())}));var o,i,s,a}}}(e.bodyLengthChecker),vt)}}};var bt={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"]},xt=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(r){return n=void 0,o=void 0,s=function(){var n,o;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(i){return ke.isInstance(r.request)?(n=r.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname),[2,t(r)]):[2,t(r)]}))},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}c((s=s.apply(n,o||[])).next())}));var n,o,i,s}}}(e),bt)}}};var wt={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize"},It=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(r){return n=void 0,o=void 0,s=function(){var n,o,i,s;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(a){switch(a.label){case 0:return n=t.logger,[4,e(r)];case 1:return o=a.sent(),n?(i=o.response,"function"==typeof n.info&&n.info({metadata:{statusCode:i.statusCode,requestId:null!==(s=i.headers["x-amzn-requestid"])&&void 0!==s?s:i.headers["x-amzn-request-id"],extendedRequestId:i.headers["x-amz-id-2"],cfId:i.headers["x-amz-cf-id"]}}),[2,o]):[2,o]}}))},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}c((s=s.apply(n,o||[])).next())}));var n,o,i,s}}),wt)}}},St=function(){return(St=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Tt(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function Et(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var kt=function(){return(kt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ct(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function At(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function Ot(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _t(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}var Nt="X-Amz-Signature",Rt="X-Amz-Security-Token",Pt="authorization",Lt="X-Amz-Date".toLowerCase(),Mt=[Pt,Lt,"date"],Bt=Nt.toLowerCase(),jt="x-amz-content-sha256",Dt=Rt.toLowerCase(),qt={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Ft=/^proxy-/,zt=/^sec-/,Vt="AWS4-HMAC-SHA256-PAYLOAD",Ut="aws4_request",$t={},Kt=[];function Gt(e,t,r){return e+"/"+t+"/"+r+"/"+Ut}for(var Wt={},Jt={},Ht=0;Ht<256;Ht++){var Qt=Ht.toString(16).toLowerCase();1===Qt.length&&(Qt="0"+Qt),Wt[Ht]=Qt,Jt[Qt]=Ht}function Zt(e){for(var t="",r=0;r<e.byteLength;r++)t+=Wt[e[r]];return t}function Yt(e,t,r){var n,o,i=e.headers,s={};try{for(var a=Ot(Object.keys(i).sort()),c=a.next();!c.done;c=a.next()){var p=c.value,u=p.toLowerCase();(u in qt||(null==t?void 0:t.has(u))||Ft.test(u)||zt.test(u))&&(!r||r&&!r.has(u))||(s[u]=i[p].trim().replace(/\s+/g," "))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return s}function Xt(e,t){var r=e.headers,n=e.body;return Ct(this,void 0,void 0,(function(){var e,o,i,s,a,c,p;return At(this,(function(u){switch(u.label){case 0:try{for(e=Ot(Object.keys(r)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===jt)return[2,r[i]]}catch(e){c={error:e}}finally{try{o&&!o.done&&(p=e.return)&&p.call(e)}finally{if(c)throw c.error}}return null!=n?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof n||ArrayBuffer.isView(n)||me(n)?((s=new t).update(n),a=Zt,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[u.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}}))}))}function er(e){var t=e.headers,r=e.query,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["headers","query"]);return kt(kt({},n),{headers:kt({},t),query:r?tr(r):void 0})}function tr(e){return Object.keys(e).reduce((function(t,r){var n,o=e[r];return kt(kt({},t),((n={})[r]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_t(arguments[t]));return e}(o):o,n))}),{})}function rr(e){var t,r;e="function"==typeof e.clone?e.clone():er(e);try{for(var n=Ot(Object.keys(e.headers)),o=n.next();!o.done;o=n.next()){var i=o.value;Mt.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e}var nr=function(){function e(e){var t=e.applyChecksum,r=e.credentials,n=e.region,o=e.service,i=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=sr(n),this.credentialProvider=ar(r)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ct(this,void 0,void 0,(function(){var r,n,o,i,s,a,c,p,u,l,d,m,f,h,g,v,y,b,x,w,I,S,T,E;return At(this,(function(k){switch(k.label){case 0:return r=t.signingDate,n=void 0===r?new Date:r,o=t.expiresIn,i=void 0===o?3600:o,s=t.unsignableHeaders,a=t.unhoistableHeaders,c=t.signableHeaders,p=t.signingRegion,u=t.signingService,[4,this.credentialProvider()];case 1:return l=k.sent(),null==p?[3,2]:(m=p,[3,4]);case 2:return[4,this.regionProvider()];case 3:m=k.sent(),k.label=4;case 4:return d=m,f=or(n),h=f.longDate,g=f.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(v=Gt(g,d,null!=u?u:this.service),y=function(e,t){var r,n,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():er(e),s=i.headers,a=i.query,c=void 0===a?{}:a;try{for(var p=Ot(Object.keys(s)),u=p.next();!u.done;u=p.next()){var l=u.value,d=l.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(d))||(c[l]=s[l],delete s[l])}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}return kt(kt({},e),{headers:s,query:c})}(rr(e),{unhoistableHeaders:a}),l.sessionToken&&(y.query[Rt]=l.sessionToken),y.query["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",y.query["X-Amz-Credential"]=l.accessKeyId+"/"+v,y.query["X-Amz-Date"]=h,y.query["X-Amz-Expires"]=i.toString(10),b=Yt(y,s,c),y.query["X-Amz-SignedHeaders"]=ir(b),x=y.query,w=Nt,I=this.getSignature,S=[h,v,this.getSigningKey(l,d,g,u)],T=this.createCanonicalRequest,E=[y,b],[4,Xt(e,this.sha256)]);case 5:return[4,I.apply(this,S.concat([T.apply(this,E.concat([k.sent()]))]))];case 6:return x[w]=k.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return Ct(this,void 0,void 0,(function(){return At(this,(function(r){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var r=e.headers,n=e.payload,o=t.signingDate,i=void 0===o?new Date:o,s=t.priorSignature,a=t.signingRegion,c=t.signingService;return Ct(this,void 0,void 0,(function(){var e,t,o,p,u,l,d,m,f,h,g;return At(this,(function(v){switch(v.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=v.sent(),v.label=3;case 3:return e=t,o=or(i),p=o.shortDate,u=o.longDate,l=Gt(p,e,null!=c?c:this.service),[4,Xt({headers:{},body:n},this.sha256)];case 4:return d=v.sent(),(m=new this.sha256).update(r),h=Zt,[4,m.digest()];case 5:return f=h.apply(void 0,[v.sent()]),g=[Vt,u,l,s,f,d].join("\n"),[2,this.signString(g,{signingDate:i,signingRegion:e,signingService:c})]}}))}))},e.prototype.signString=function(e,t){var r=void 0===t?{}:t,n=r.signingDate,o=void 0===n?new Date:n,i=r.signingRegion,s=r.signingService;return Ct(this,void 0,void 0,(function(){var t,r,n,a,c,p,u,l;return At(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==i?[3,2]:(n=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:n=d.sent(),d.label=4;case 4:return r=n,a=or(o).shortDate,u=(p=this.sha256).bind,[4,this.getSigningKey(t,r,a,s)];case 5:return(c=new(u.apply(p,[void 0,d.sent()]))).update(e),l=Zt,[4,c.digest()];case 6:return[2,l.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var r=void 0===t?{}:t,n=r.signingDate,o=void 0===n?new Date:n,i=r.signableHeaders,s=r.unsignableHeaders,a=r.signingRegion,c=r.signingService;return Ct(this,void 0,void 0,(function(){var t,r,n,p,u,l,d,m,f,h,g;return At(this,(function(v){switch(v.label){case 0:return[4,this.credentialProvider()];case 1:return t=v.sent(),null==a?[3,2]:(n=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:n=v.sent(),v.label=4;case 4:return r=n,p=rr(e),u=or(o),l=u.longDate,d=u.shortDate,m=Gt(d,r,null!=c?c:this.service),p.headers[Lt]=l,t.sessionToken&&(p.headers[Dt]=t.sessionToken),[4,Xt(p,this.sha256)];case 5:return f=v.sent(),!function(e,t){var r,n;e=e.toLowerCase();try{for(var o=Ot(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1}(jt,p.headers)&&this.applyChecksum&&(p.headers[jt]=f),h=Yt(p,s,i),[4,this.getSignature(l,m,this.getSigningKey(t,r,d,c),this.createCanonicalRequest(p,h,f))];case 6:return g=v.sent(),p.headers[Pt]="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+m+", SignedHeaders="+ir(h)+", Signature="+g,[2,p]}}))}))},e.prototype.createCanonicalRequest=function(e,t,r){var n=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,r,n=e.query,o=void 0===n?{}:n,i=[],s={},a=function(e){if(e.toLowerCase()===Bt)return"continue";i.push(e);var t=o[e];"string"==typeof t?s[e]=ze(e)+"="+ze(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,r){return t.concat([ze(e)+"="+ze(r)])}),[]).join("&"))};try{for(var c=Ot(Object.keys(o).sort()),p=c.next();!p.done;p=c.next())a(p.value)}catch(e){t={error:e}}finally{try{p&&!p.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return i.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+n.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+n.join(";")+"\n"+r},e.prototype.createStringToSign=function(e,t,r){return Ct(this,void 0,void 0,(function(){var n,o;return At(this,(function(i){switch(i.label){case 0:return(n=new this.sha256).update(r),[4,n.digest()];case 1:return o=i.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+Zt(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,r,n){return Ct(this,void 0,void 0,(function(){var o,i,s,a,c;return At(this,(function(p){switch(p.label){case 0:return[4,this.createStringToSign(e,t,n)];case 1:return o=p.sent(),a=(s=this.sha256).bind,[4,r];case 2:return(i=new(a.apply(s,[void 0,p.sent()]))).update(o),c=Zt,[4,i.digest()];case 3:return[2,c.apply(void 0,[p.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,r,n){return function(e,t,r,n,o){var i=r+":"+n+":"+o+":"+t.accessKeyId+":"+t.sessionToken;if(i in $t)return $t[i];for(Kt.push(i);Kt.length>50;)delete $t[Kt.shift()];return $t[i]=new Promise((function(s,a){var c,p,u=Promise.resolve("AWS4"+t.secretAccessKey),l=function(t){(u=u.then((function(r){return n=t,(o=new e(r)).update(n),o.digest();var n,o}))).catch((function(){}))};try{for(var d=Ot([r,n,o,Ut]),m=d.next();!m.done;m=d.next())l(m.value)}catch(e){c={error:e}}finally{try{m&&!m.done&&(p=d.return)&&p.call(d)}finally{if(c)throw c.error}}u.then(s,(function(e){delete $t[i],a(e)}))}))}(this.sha256,e,r,t,n||this.service)},e}(),or=function(e){var t,r=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.substr(0,8)}},ir=function(e){return Object.keys(e).sort().join(";")},sr=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},ar=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function cr(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function pr(e){return function(t,r){return function(n){return Tt(this,void 0,void 0,(function(){var o,i,s,a,c,p,u,l,d;return Et(this,(function(m){switch(m.label){case 0:return ke.isInstance(n.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(n)];case 1:return i=m.sent(),[3,3];case 2:i=e.signer,m.label=3;case 3:return o=i,a=t,c=[St({},n)],d={},[4,o.sign(n.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:r.signing_region,signingService:r.signing_service})];case 4:return[4,a.apply(void 0,[St.apply(void 0,c.concat([(d.request=m.sent(),d)]))])];case 5:return s=m.sent(),p=s.response.headers,(u=p&&(p.date||p.Date))&&(f=l=Date.parse(u),h=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(h).getTime()-f)>=3e5&&(e.systemClockOffset=l-Date.now())),[2,s]}var f,h}))}))}}}var ur={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware"},lr=function(){return(lr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},dr={name:"getUserAgentMiddleware",step:"build",tags:["SET_USER_AGENT","USER_AGENT"]},mr=function(){return(mr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function fr(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function hr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fr(arguments[t]));return e}var gr=function(){var e=[],t=[],r=new Set,n=function(r){return e.forEach((function(e){r.add(e.middleware,mr({},e))})),t.forEach((function(e){r.addRelativeTo(e.middleware,mr({},e))})),r},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,hr(o(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,hr(o(e)))})),t},i={add:function(t,n){void 0===n&&(n={});var o=n.name,i=mr({step:"initialize",priority:"normal",middleware:t},n);if(o){if(r.has(o))throw new Error("Duplicate middleware name '"+o+"'");r.add(o)}e.push(i)},addRelativeTo:function(e,n){var o=n.name,i=mr({middleware:e},n);if(o){if(r.has(o))throw new Error("Duplicated middleware name '"+o+"'");r.add(o)}t.push(i)},clone:function(){return n(gr())},use:function(e){e.applyToStack(i)},remove:function(n){return"string"==typeof n?function(n){var o=!1,i=function(e){return!e.name||e.name!==n||(o=!0,r.delete(n),!1)};return e=e.filter(i),t=t.filter(i),o}(n):function(n){var o=!1,i=function(e){return e.middleware!==n||(o=!0,e.name&&r.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(n)},removeByTag:function(n){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(n)||(i&&r.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=n(gr());return t.use(e),t},applyToStack:n,resolve:function(r,n){var i,s;try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var r,n=[],i=[],s={};return e.forEach((function(e){var t=mr(mr({},e),{before:[],after:[]});t.name&&(s[t.name]=t),n.push(t)})),t.forEach((function(e){var t=mr(mr({},e),{before:[],after:[]});t.name&&(s[t.name]=t),i.push(t)})),i.forEach((function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(r=n,r.sort((function(e,t){return vr[t.step]-vr[e.step]||yr[t.priority||"normal"]-yr[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,hr(t)),e}),[]).map((function(e){return e.middleware}))}().reverse()),c=a.next();!c.done;c=a.next())r=(0,c.value)(r,n)}catch(e){i={error:e}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}return r}};return i},vr={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},yr={high:3,normal:2,low:1},br=function(){function e(e){this.middlewareStack=gr(),this.config=e}return e.prototype.send=function(e,t,r){var n="function"!=typeof t?t:void 0,o="function"==typeof t?t:r,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),xr=function(){this.middlewareStack=gr()},wr=function(e,t){return(wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Ir(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function Sr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ir(arguments[t]));return e}var Tr=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Sr([null],arguments)),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Tr.prototype=Object.create(String.prototype,{constructor:{value:Tr,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Tr,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function r(){this.constructor=e}wr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(Tr);var Er,kr,Cr,Ar,Or,_r,Nr,Rr,Pr,Lr,Mr,Br,jr,Dr,qr,Fr,zr,Vr,Ur,$r,Kr,Gr,Wr,Jr,Hr,Qr,Zr,Yr,Xr,en,tn,rn,nn,on,sn,an,cn,pn,un,ln,dn,mn,fn,hn,gn,vn,yn,bn,xn,wn,In,Sn,Tn,En,kn,Cn="***SensitiveInformation***",An=function(e){function t(t){var r,n,o,s,a=this,c=function(e){if(!e.region)throw new Error("Region is missing");return m(m({},e),{region:v(e.region)})}(i(i({},ht),t)),p=function(e){var t=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}(e.maxAttempts);return be(be({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new Me(t)})}(function(e){var t,r=this,n=cr(e.credentials||e.credentialDefaultProvider(e)),o=e.signingEscapePath,i=void 0===o||o,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,c=e.sha256;return t=e.signer?cr(e.signer):function(){return cr(e.region)().then((function(t){return Tt(r,void 0,void 0,(function(){return Et(this,(function(r){switch(r.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[r.sent()||{},t]]}}))}))})).then((function(t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(t,2),o=r[0],s=r[1],a=o.signingRegion,p=o.signingService;return e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||p||e.serviceId,new nr({credentials:n,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:i})}))},St(St({},e),{systemClockOffset:a,signingEscapePath:i,credentials:n,signer:t})}(m(m({},r=c),{tls:null===(n=r.tls)||void 0===n||n,endpoint:r.endpoint?f(r):function(){return h(r)},isCustomEndpoint:!!r.endpoint})));return(a=e.call(this,p)||this).config=p,a.middlewareStack.use((o=a.config,{applyToStack:function(e){e.addRelativeTo(pr(o),ur)}})),a.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(r){return xe(void 0,void 0,void 0,(function(){return we(this,(function(n){return[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),Ie)}}}(a.config)),a.middlewareStack.use((s=a.config,{applyToStack:function(e){var t;e.add((t=s,function(e){return function(r){var n=r.request;if(!ke.isInstance(n))return e(r);var o=n.headers,i="node"===t.runtime?"user-agent":"x-amz-user-agent";return o[i]?o[i]+=" "+t.defaultUserAgent:o[i]=""+t.defaultUserAgent,t.customUserAgent&&(o[i]+=" "+t.customUserAgent),e(lr(lr({},r),{request:n}))}}),dr)}})),a.middlewareStack.use(yt(a.config)),a.middlewareStack.use(xt(a.config)),a.middlewareStack.use(It(a.config)),a}return o(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(br);!function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Er||(Er={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(kr||(kr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Cr||(Cr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Ar||(Ar={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Or||(Or={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(_r||(_r={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Nr||(Nr={})),function(e){e.filterSensitiveLog=function(e){return i(i(i({},e),e.SecretBinary&&{SecretBinary:Cn}),e.SecretString&&{SecretString:Cn})}}(Rr||(Rr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Pr||(Pr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Lr||(Lr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Mr||(Mr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Br||(Br={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(jr||(jr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Dr||(Dr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(qr||(qr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Fr||(Fr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(zr||(zr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Vr||(Vr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Ur||(Ur={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}($r||($r={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Kr||(Kr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Gr||(Gr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Wr||(Wr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Jr||(Jr={})),function(e){e.filterSensitiveLog=function(e){return i(i({},e),e.RandomPassword&&{RandomPassword:Cn})}}(Hr||(Hr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Qr||(Qr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Zr||(Zr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Yr||(Yr={})),function(e){e.filterSensitiveLog=function(e){return i(i(i({},e),e.SecretBinary&&{SecretBinary:Cn}),e.SecretString&&{SecretString:Cn})}}(Xr||(Xr={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(en||(en={})),function(e){e.asc="asc",e.desc="desc"}(tn||(tn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(rn||(rn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(nn||(nn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(on||(on={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(sn||(sn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(an||(an={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(cn||(cn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(pn||(pn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(un||(un={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(ln||(ln={})),function(e){e.filterSensitiveLog=function(e){return i(i(i({},e),e.SecretBinary&&{SecretBinary:Cn}),e.SecretString&&{SecretString:Cn})}}(dn||(dn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(mn||(mn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(fn||(fn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(hn||(hn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(gn||(gn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(vn||(vn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(yn||(yn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(bn||(bn={})),function(e){e.filterSensitiveLog=function(e){return i(i(i({},e),e.SecretBinary&&{SecretBinary:Cn}),e.SecretString&&{SecretString:Cn})}}(xn||(xn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(wn||(wn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(In||(In={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Sn||(Sn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(Tn||(Tn={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(En||(En={})),function(e){e.filterSensitiveLog=function(e){return i({},e)}}(kn||(kn={}));var On=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],f={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(f.body=a.sent(),f)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,8]}return[3,10];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 8:return l=[{}],[4,io(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 10:d=r.body,s=d.code||d.Code||s,o=i(i({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=11;case 11:return m=o.message||o.Message||s,o.message=m,delete o.Message,[2,Promise.reject(Object.assign(new Error(m),o))]}}))}))},_n=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f,h,g,v,y,b;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],b={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(b.body=a.sent(),b)])),s="UnknownError",s=Bo(e,r.body)){case"EncryptionFailure":case"com.amazonaws.secretsmanager#EncryptionFailure":return[3,2];case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,4];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,6];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,8];case"LimitExceededException":case"com.amazonaws.secretsmanager#LimitExceededException":return[3,10];case"MalformedPolicyDocumentException":case"com.amazonaws.secretsmanager#MalformedPolicyDocumentException":return[3,12];case"PreconditionNotMetException":case"com.amazonaws.secretsmanager#PreconditionNotMetException":return[3,14];case"ResourceExistsException":case"com.amazonaws.secretsmanager#ResourceExistsException":return[3,16];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,18]}return[3,20];case 2:return c=[{}],[4,Hn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 4:return p=[{}],[4,Qn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 6:return u=[{}],[4,Yn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 8:return l=[{}],[4,Xn(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 10:return d=[{}],[4,eo(r,t)];case 11:return o=i.apply(void 0,[i.apply(void 0,d.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 12:return m=[{}],[4,to(r,t)];case 13:return o=i.apply(void 0,[i.apply(void 0,m.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 14:return f=[{}],[4,ro(r,t)];case 15:return o=i.apply(void 0,[i.apply(void 0,f.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 16:return h=[{}],[4,oo(r,t)];case 17:return o=i.apply(void 0,[i.apply(void 0,h.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 18:return g=[{}],[4,io(r,t)];case 19:return o=i.apply(void 0,[i.apply(void 0,g.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 20:v=r.body,s=v.code||v.Code||s,o=i(i({},v),{name:""+s,message:v.message||v.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=21;case 21:return y=o.message||o.Message||s,o.message=y,delete o.Message,[2,Promise.reject(Object.assign(new Error(y),o))]}}))}))},Nn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],m={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(m.body=a.sent(),m)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,6]}return[3,8];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 4:return p=[{}],[4,Xn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 6:return u=[{}],[4,io(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 8:l=r.body,s=l.code||l.Code||s,o=i(i({},l),{name:""+s,message:l.message||l.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=9;case 9:return d=o.message||o.Message||s,o.message=d,delete o.Message,[2,Promise.reject(Object.assign(new Error(d),o))]}}))}))},Rn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],f={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(f.body=a.sent(),f)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,8]}return[3,10];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 8:return l=[{}],[4,io(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 10:d=r.body,s=d.code||d.Code||s,o=i(i({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=11;case 11:return m=o.message||o.Message||s,o.message=m,delete o.Message,[2,Promise.reject(Object.assign(new Error(m),o))]}}))}))},Pn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],d={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(d.body=a.sent(),d)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,4]}return[3,6];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,7];case 4:return p=[{}],[4,io(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,7];case 6:u=r.body,s=u.code||u.Code||s,o=i(i({},u),{name:""+s,message:u.message||u.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=7;case 7:return l=o.message||o.Message||s,o.message=l,delete o.Message,[2,Promise.reject(Object.assign(new Error(l),o))]}}))}))},Ln=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],m={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(m.body=a.sent(),m)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6]}return[3,8];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 8:l=r.body,s=l.code||l.Code||s,o=i(i({},l),{name:""+s,message:l.message||l.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=9;case 9:return d=o.message||o.Message||s,o.message=d,delete o.Message,[2,Promise.reject(Object.assign(new Error(d),o))]}}))}))},Mn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],m={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(m.body=a.sent(),m)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,6]}return[3,8];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 4:return p=[{}],[4,Xn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 6:return u=[{}],[4,io(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 8:l=r.body,s=l.code||l.Code||s,o=i(i({},l),{name:""+s,message:l.message||l.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=9;case 9:return d=o.message||o.Message||s,o.message=d,delete o.Message,[2,Promise.reject(Object.assign(new Error(d),o))]}}))}))},Bn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f,h;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],h={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(h.body=a.sent(),h)])),s="UnknownError",s=Bo(e,r.body)){case"DecryptionFailure":case"com.amazonaws.secretsmanager#DecryptionFailure":return[3,2];case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,4];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,6];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,8];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,10]}return[3,12];case 2:return c=[{}],[4,Jn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 4:return p=[{}],[4,Qn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 6:return u=[{}],[4,Yn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 8:return l=[{}],[4,Xn(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 10:return d=[{}],[4,io(r,t)];case 11:return o=i.apply(void 0,[i.apply(void 0,d.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 12:m=r.body,s=m.code||m.Code||s,o=i(i({},m),{name:""+s,message:m.message||m.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=13;case 13:return f=o.message||o.Message||s,o.message=f,delete o.Message,[2,Promise.reject(Object.assign(new Error(f),o))]}}))}))},jn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],m={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(m.body=a.sent(),m)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidNextTokenException":case"com.amazonaws.secretsmanager#InvalidNextTokenException":return[3,4];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,6]}return[3,8];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 4:return p=[{}],[4,Zn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 6:return u=[{}],[4,Yn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 8:l=r.body,s=l.code||l.Code||s,o=i(i({},l),{name:""+s,message:l.message||l.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=9;case 9:return d=o.message||o.Message||s,o.message=d,delete o.Message,[2,Promise.reject(Object.assign(new Error(d),o))]}}))}))},Dn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],m={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(m.body=a.sent(),m)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidNextTokenException":case"com.amazonaws.secretsmanager#InvalidNextTokenException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,6]}return[3,8];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 4:return p=[{}],[4,Zn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 6:return u=[{}],[4,io(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,9];case 8:l=r.body,s=l.code||l.Code||s,o=i(i({},l),{name:""+s,message:l.message||l.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=9;case 9:return d=o.message||o.Message||s,o.message=d,delete o.Message,[2,Promise.reject(Object.assign(new Error(d),o))]}}))}))},qn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f,h,g;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],g={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(g.body=a.sent(),g)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6];case"MalformedPolicyDocumentException":case"com.amazonaws.secretsmanager#MalformedPolicyDocumentException":return[3,8];case"PublicPolicyException":case"com.amazonaws.secretsmanager#PublicPolicyException":return[3,10];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,12]}return[3,14];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,15];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,15];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,15];case 8:return l=[{}],[4,to(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,15];case 10:return d=[{}],[4,no(r,t)];case 11:return o=i.apply(void 0,[i.apply(void 0,d.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,15];case 12:return m=[{}],[4,io(r,t)];case 13:return o=i.apply(void 0,[i.apply(void 0,m.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,15];case 14:f=r.body,s=f.code||f.Code||s,o=i(i({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=15;case 15:return h=o.message||o.Message||s,o.message=h,delete o.Message,[2,Promise.reject(Object.assign(new Error(h),o))]}}))}))},Fn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f,h,g,v;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],v={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(v.body=a.sent(),v)])),s="UnknownError",s=Bo(e,r.body)){case"EncryptionFailure":case"com.amazonaws.secretsmanager#EncryptionFailure":return[3,2];case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,4];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,6];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,8];case"LimitExceededException":case"com.amazonaws.secretsmanager#LimitExceededException":return[3,10];case"ResourceExistsException":case"com.amazonaws.secretsmanager#ResourceExistsException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,14]}return[3,16];case 2:return c=[{}],[4,Hn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,17];case 4:return p=[{}],[4,Qn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,17];case 6:return u=[{}],[4,Yn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,17];case 8:return l=[{}],[4,Xn(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,17];case 10:return d=[{}],[4,eo(r,t)];case 11:return o=i.apply(void 0,[i.apply(void 0,d.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,17];case 12:return m=[{}],[4,oo(r,t)];case 13:return o=i.apply(void 0,[i.apply(void 0,m.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,17];case 14:return f=[{}],[4,io(r,t)];case 15:return o=i.apply(void 0,[i.apply(void 0,f.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,17];case 16:h=r.body,s=h.code||h.Code||s,o=i(i({},h),{name:""+s,message:h.message||h.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=17;case 17:return g=o.message||o.Message||s,o.message=g,delete o.Message,[2,Promise.reject(Object.assign(new Error(g),o))]}}))}))},zn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],f={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(f.body=a.sent(),f)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,8]}return[3,10];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 8:return l=[{}],[4,io(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 10:d=r.body,s=d.code||d.Code||s,o=i(i({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=11;case 11:return m=o.message||o.Message||s,o.message=m,delete o.Message,[2,Promise.reject(Object.assign(new Error(m),o))]}}))}))},Vn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],f={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(f.body=a.sent(),f)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,8]}return[3,10];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 8:return l=[{}],[4,io(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 10:d=r.body,s=d.code||d.Code||s,o=i(i({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=11;case 11:return m=o.message||o.Message||s,o.message=m,delete o.Message,[2,Promise.reject(Object.assign(new Error(m),o))]}}))}))},Un=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],f={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(f.body=a.sent(),f)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,8]}return[3,10];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 8:return l=[{}],[4,io(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 10:d=r.body,s=d.code||d.Code||s,o=i(i({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=11;case 11:return m=o.message||o.Message||s,o.message=m,delete o.Message,[2,Promise.reject(Object.assign(new Error(m),o))]}}))}))},$n=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],f={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(f.body=a.sent(),f)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,8]}return[3,10];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 8:return l=[{}],[4,io(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,11];case 10:d=r.body,s=d.code||d.Code||s,o=i(i({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=11;case 11:return m=o.message||o.Message||s,o.message=m,delete o.Message,[2,Promise.reject(Object.assign(new Error(m),o))]}}))}))},Kn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f,h,g,v,y,b;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],b={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(b.body=a.sent(),b)])),s="UnknownError",s=Bo(e,r.body)){case"EncryptionFailure":case"com.amazonaws.secretsmanager#EncryptionFailure":return[3,2];case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,4];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,6];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,8];case"LimitExceededException":case"com.amazonaws.secretsmanager#LimitExceededException":return[3,10];case"MalformedPolicyDocumentException":case"com.amazonaws.secretsmanager#MalformedPolicyDocumentException":return[3,12];case"PreconditionNotMetException":case"com.amazonaws.secretsmanager#PreconditionNotMetException":return[3,14];case"ResourceExistsException":case"com.amazonaws.secretsmanager#ResourceExistsException":return[3,16];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,18]}return[3,20];case 2:return c=[{}],[4,Hn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 4:return p=[{}],[4,Qn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 6:return u=[{}],[4,Yn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 8:return l=[{}],[4,Xn(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 10:return d=[{}],[4,eo(r,t)];case 11:return o=i.apply(void 0,[i.apply(void 0,d.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 12:return m=[{}],[4,to(r,t)];case 13:return o=i.apply(void 0,[i.apply(void 0,m.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 14:return f=[{}],[4,ro(r,t)];case 15:return o=i.apply(void 0,[i.apply(void 0,f.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 16:return h=[{}],[4,oo(r,t)];case 17:return o=i.apply(void 0,[i.apply(void 0,h.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 18:return g=[{}],[4,io(r,t)];case 19:return o=i.apply(void 0,[i.apply(void 0,g.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,21];case 20:v=r.body,s=v.code||v.Code||s,o=i(i({},v),{name:""+s,message:v.message||v.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=21;case 21:return y=o.message||o.Message||s,o.message=y,delete o.Message,[2,Promise.reject(Object.assign(new Error(y),o))]}}))}))},Gn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f,h;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],h={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(h.body=a.sent(),h)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6];case"LimitExceededException":case"com.amazonaws.secretsmanager#LimitExceededException":return[3,8];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,10]}return[3,12];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 8:return l=[{}],[4,eo(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 10:return d=[{}],[4,io(r,t)];case 11:return o=i.apply(void 0,[i.apply(void 0,d.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 12:m=r.body,s=m.code||m.Code||s,o=i(i({},m),{name:""+s,message:m.message||m.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=13;case 13:return f=o.message||o.Message||s,o.message=f,delete o.Message,[2,Promise.reject(Object.assign(new Error(f),o))]}}))}))},Wn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o,s,c,p,u,l,d,m,f,h;return a(this,(function(a){switch(a.label){case 0:return n=[i({},e)],h={},[4,Mo(e.body,t)];case 1:switch(r=i.apply(void 0,n.concat([(h.body=a.sent(),h)])),s="UnknownError",s=Bo(e,r.body)){case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":return[3,2];case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":return[3,4];case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":return[3,6];case"MalformedPolicyDocumentException":case"com.amazonaws.secretsmanager#MalformedPolicyDocumentException":return[3,8];case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":return[3,10]}return[3,12];case 2:return c=[{}],[4,Qn(r,t)];case 3:return o=i.apply(void 0,[i.apply(void 0,c.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 4:return p=[{}],[4,Yn(r,t)];case 5:return o=i.apply(void 0,[i.apply(void 0,p.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 6:return u=[{}],[4,Xn(r,t)];case 7:return o=i.apply(void 0,[i.apply(void 0,u.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 8:return l=[{}],[4,to(r,t)];case 9:return o=i.apply(void 0,[i.apply(void 0,l.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 10:return d=[{}],[4,io(r,t)];case 11:return o=i.apply(void 0,[i.apply(void 0,d.concat([a.sent()])),{name:s,$metadata:Ro(e)}]),[3,13];case 12:m=r.body,s=m.code||m.Code||s,o=i(i({},m),{name:""+s,message:m.message||m.Message||s,$fault:"client",$metadata:Ro(e)}),a.label=13;case 13:return f=o.message||o.Message||s,o.message=f,delete o.Message,[2,Promise.reject(Object.assign(new Error(f),o))]}}))}))},Jn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=mo(r,t),[2,i({name:"DecryptionFailure",$fault:"client",$metadata:Ro(e)},n)]}))}))},Hn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=fo(r,t),[2,i({name:"EncryptionFailure",$fault:"client",$metadata:Ro(e)},n)]}))}))},Qn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=ho(r,t),[2,i({name:"InternalServiceError",$fault:"server",$metadata:Ro(e)},n)]}))}))},Zn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=go(r,t),[2,i({name:"InvalidNextTokenException",$fault:"client",$metadata:Ro(e)},n)]}))}))},Yn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=vo(r,t),[2,i({name:"InvalidParameterException",$fault:"client",$metadata:Ro(e)},n)]}))}))},Xn=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=yo(r,t),[2,i({name:"InvalidRequestException",$fault:"client",$metadata:Ro(e)},n)]}))}))},eo=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=bo(r,t),[2,i({name:"LimitExceededException",$fault:"client",$metadata:Ro(e)},n)]}))}))},to=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=xo(r,t),[2,i({name:"MalformedPolicyDocumentException",$fault:"client",$metadata:Ro(e)},n)]}))}))},ro=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=wo(r,t),[2,i({name:"PreconditionNotMetException",$fault:"client",$metadata:Ro(e)},n)]}))}))},no=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=Io(r,t),[2,i({name:"PublicPolicyException",$fault:"client",$metadata:Ro(e)},n)]}))}))},oo=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=So(r,t),[2,i({name:"ResourceExistsException",$fault:"client",$metadata:Ro(e)},n)]}))}))},io=function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r=e.body,n=To(r,t),[2,i({name:"ResourceNotFoundException",$fault:"client",$metadata:Ro(e)},n)]}))}))},so=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return i(i({},void 0!==e.Key&&null!==e.Key&&{Key:e.Key}),void 0!==e.Values&&null!==e.Values&&{Values:ao(e.Values,t)})}(e,t)}))},ao=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},co=function(e,t){return i({},void 0!==e.AutomaticallyAfterDays&&null!==e.AutomaticallyAfterDays&&{AutomaticallyAfterDays:e.AutomaticallyAfterDays})},po=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},uo=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},lo=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return i(i({},void 0!==e.Key&&null!==e.Key&&{Key:e.Key}),void 0!==e.Value&&null!==e.Value&&{Value:e.Value})}(e)}))},mo=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},fo=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},ho=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},go=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},vo=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},yo=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},bo=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},xo=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},wo=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},Io=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},So=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},To=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0}},Eo=function(e,t){return{AutomaticallyAfterDays:void 0!==e.AutomaticallyAfterDays&&null!==e.AutomaticallyAfterDays?e.AutomaticallyAfterDays:void 0}},ko=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,CreatedDate:void 0!==e.CreatedDate&&null!==e.CreatedDate?new Date(Math.round(1e3*e.CreatedDate)):void 0,DeletedDate:void 0!==e.DeletedDate&&null!==e.DeletedDate?new Date(Math.round(1e3*e.DeletedDate)):void 0,Description:void 0!==e.Description&&null!==e.Description?e.Description:void 0,KmsKeyId:void 0!==e.KmsKeyId&&null!==e.KmsKeyId?e.KmsKeyId:void 0,LastAccessedDate:void 0!==e.LastAccessedDate&&null!==e.LastAccessedDate?new Date(Math.round(1e3*e.LastAccessedDate)):void 0,LastChangedDate:void 0!==e.LastChangedDate&&null!==e.LastChangedDate?new Date(Math.round(1e3*e.LastChangedDate)):void 0,LastRotatedDate:void 0!==e.LastRotatedDate&&null!==e.LastRotatedDate?new Date(Math.round(1e3*e.LastRotatedDate)):void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,OwningService:void 0!==e.OwningService&&null!==e.OwningService?e.OwningService:void 0,RotationEnabled:void 0!==e.RotationEnabled&&null!==e.RotationEnabled?e.RotationEnabled:void 0,RotationLambdaARN:void 0!==e.RotationLambdaARN&&null!==e.RotationLambdaARN?e.RotationLambdaARN:void 0,RotationRules:void 0!==e.RotationRules&&null!==e.RotationRules?Eo(e.RotationRules,t):void 0,SecretVersionsToStages:void 0!==e.SecretVersionsToStages&&null!==e.SecretVersionsToStages?Oo(e.SecretVersionsToStages,t):void 0,Tags:void 0!==e.Tags&&null!==e.Tags?_o(e.Tags,t):void 0}}(e,t)}))},Co=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CreatedDate:void 0!==e.CreatedDate&&null!==e.CreatedDate?new Date(Math.round(1e3*e.CreatedDate)):void 0,LastAccessedDate:void 0!==e.LastAccessedDate&&null!==e.LastAccessedDate?new Date(Math.round(1e3*e.LastAccessedDate)):void 0,VersionId:void 0!==e.VersionId&&null!==e.VersionId?e.VersionId:void 0,VersionStages:void 0!==e.VersionStages&&null!==e.VersionStages?Ao(e.VersionStages,t):void 0}}(e,t)}))},Ao=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Oo=function(e,t){return Object.entries(e).reduce((function(e,r){var n,o=c(r,2),s=o[0],a=o[1];return null===a?e:i(i({},e),((n={})[s]=Ao(a,t),n))}),{})},_o=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Key:void 0!==e.Key&&null!==e.Key?e.Key:void 0,Value:void 0!==e.Value&&null!==e.Value?e.Value:void 0}}(e)}))},No=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CheckName:void 0!==e.CheckName&&null!==e.CheckName?e.CheckName:void 0,ErrorMessage:void 0!==e.ErrorMessage&&null!==e.ErrorMessage?e.ErrorMessage:void 0}}(e)}))},Ro=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},Po=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Lo=function(e,t,r,n,o){return s(void 0,void 0,void 0,(function(){var i,s,c,p,u,l;return a(this,(function(a){switch(a.label){case 0:return[4,e.endpoint()];case 1:return i=a.sent(),s=i.hostname,c=i.protocol,p=void 0===c?"https":c,u=i.port,l={protocol:p,hostname:s,port:u,method:"POST",path:r,headers:t},void 0!==n&&(l.hostname=n),void 0!==o&&(l.body=o),[2,new ke(l)]}}))}))},Mo=function(e,t){return function(e,t){return Po(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Bo=function(e,t){var r,n=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(r=e.headers,"x-amzn-errortype",Object.keys(r).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?n(e.headers[o]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):""},jo=function(){return(jo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Do(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function qo(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Fo={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"]},zo={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"]};function Vo(e,t,r){return{applyToStack:function(n){n.add(function(e,t){return function(r,n){return function(o){return Do(void 0,void 0,void 0,(function(){var i,s,a,c,p;return qo(this,(function(u){switch(u.label){case 0:return i=n.logger,s=n.outputFilterSensitiveLog,[4,r(o)];case 1:return a=u.sent().response,[4,t(a,e)];case 2:return(c=u.sent()).$metadata,p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(c,["$metadata"]),"function"==typeof(null==i?void 0:i.info)&&i.info({output:s(p)}),[2,{response:a,output:c}]}}))}))}}}(e,r),Fo),n.add(function(e,t){return function(r,n){return function(o){return Do(void 0,void 0,void 0,(function(){var i,s,a;return qo(this,(function(c){switch(c.label){case 0:return i=n.logger,s=n.inputFilterSensitiveLog,"function"==typeof(null==i?void 0:i.info)&&i.info({input:s(o.input)}),[4,t(o.input,e)];case 1:return a=c.sent(),[2,r(jo(jo({},o),{request:a}))]}}))}))}}}(e,t),zo)}}}var Uo=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="CancelRotateSecretCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:Er.filterSensitiveLog,outputFilterSensitiveLog:kr.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.CancelRotateSecret"},n=JSON.stringify(function(e,t){return i({},void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,On(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,VersionId:void 0!==e.VersionId&&null!==e.VersionId?e.VersionId:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),$o=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="CreateSecretCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:Rr.filterSensitiveLog,outputFilterSensitiveLog:Pr.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.CreateSecret"},n=JSON.stringify(function(e,t){var r;return i(i(i(i(i(i({ClientRequestToken:null!==(r=e.ClientRequestToken)&&void 0!==r?r:(0,Re.v4)()},void 0!==e.Description&&null!==e.Description&&{Description:e.Description}),void 0!==e.KmsKeyId&&null!==e.KmsKeyId&&{KmsKeyId:e.KmsKeyId}),void 0!==e.Name&&null!==e.Name&&{Name:e.Name}),void 0!==e.SecretBinary&&null!==e.SecretBinary&&{SecretBinary:t.base64Encoder(e.SecretBinary)}),void 0!==e.SecretString&&null!==e.SecretString&&{SecretString:e.SecretString}),void 0!==e.Tags&&null!==e.Tags&&{Tags:lo(e.Tags,t)})}(e,t)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,_n(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,VersionId:void 0!==e.VersionId&&null!==e.VersionId?e.VersionId:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),Ko=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="DeleteResourcePolicyCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:Fr.filterSensitiveLog,outputFilterSensitiveLog:zr.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.DeleteResourcePolicy"},n=JSON.stringify(function(e,t){return i({},void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Nn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),Go=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="DeleteSecretCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:Vr.filterSensitiveLog,outputFilterSensitiveLog:Ur.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.DeleteSecret"},n=JSON.stringify(function(e,t){return i(i(i({},void 0!==e.ForceDeleteWithoutRecovery&&null!==e.ForceDeleteWithoutRecovery&&{ForceDeleteWithoutRecovery:e.ForceDeleteWithoutRecovery}),void 0!==e.RecoveryWindowInDays&&null!==e.RecoveryWindowInDays&&{RecoveryWindowInDays:e.RecoveryWindowInDays}),void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Rn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,DeletionDate:void 0!==e.DeletionDate&&null!==e.DeletionDate?new Date(Math.round(1e3*e.DeletionDate)):void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),Wo=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="DescribeSecretCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:$r.filterSensitiveLog,outputFilterSensitiveLog:Gr.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.DescribeSecret"},n=JSON.stringify(function(e,t){return i({},void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Pn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,CreatedDate:void 0!==e.CreatedDate&&null!==e.CreatedDate?new Date(Math.round(1e3*e.CreatedDate)):void 0,DeletedDate:void 0!==e.DeletedDate&&null!==e.DeletedDate?new Date(Math.round(1e3*e.DeletedDate)):void 0,Description:void 0!==e.Description&&null!==e.Description?e.Description:void 0,KmsKeyId:void 0!==e.KmsKeyId&&null!==e.KmsKeyId?e.KmsKeyId:void 0,LastAccessedDate:void 0!==e.LastAccessedDate&&null!==e.LastAccessedDate?new Date(Math.round(1e3*e.LastAccessedDate)):void 0,LastChangedDate:void 0!==e.LastChangedDate&&null!==e.LastChangedDate?new Date(Math.round(1e3*e.LastChangedDate)):void 0,LastRotatedDate:void 0!==e.LastRotatedDate&&null!==e.LastRotatedDate?new Date(Math.round(1e3*e.LastRotatedDate)):void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,OwningService:void 0!==e.OwningService&&null!==e.OwningService?e.OwningService:void 0,RotationEnabled:void 0!==e.RotationEnabled&&null!==e.RotationEnabled?e.RotationEnabled:void 0,RotationLambdaARN:void 0!==e.RotationLambdaARN&&null!==e.RotationLambdaARN?e.RotationLambdaARN:void 0,RotationRules:void 0!==e.RotationRules&&null!==e.RotationRules?Eo(e.RotationRules,t):void 0,Tags:void 0!==e.Tags&&null!==e.Tags?_o(e.Tags,t):void 0,VersionIdsToStages:void 0!==e.VersionIdsToStages&&null!==e.VersionIdsToStages?Oo(e.VersionIdsToStages,t):void 0}}(r,t),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),Jo=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="GetRandomPasswordCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:Jr.filterSensitiveLog,outputFilterSensitiveLog:Hr.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.GetRandomPassword"},n=JSON.stringify(function(e,t){return i(i(i(i(i(i(i(i({},void 0!==e.ExcludeCharacters&&null!==e.ExcludeCharacters&&{ExcludeCharacters:e.ExcludeCharacters}),void 0!==e.ExcludeLowercase&&null!==e.ExcludeLowercase&&{ExcludeLowercase:e.ExcludeLowercase}),void 0!==e.ExcludeNumbers&&null!==e.ExcludeNumbers&&{ExcludeNumbers:e.ExcludeNumbers}),void 0!==e.ExcludePunctuation&&null!==e.ExcludePunctuation&&{ExcludePunctuation:e.ExcludePunctuation}),void 0!==e.ExcludeUppercase&&null!==e.ExcludeUppercase&&{ExcludeUppercase:e.ExcludeUppercase}),void 0!==e.IncludeSpace&&null!==e.IncludeSpace&&{IncludeSpace:e.IncludeSpace}),void 0!==e.PasswordLength&&null!==e.PasswordLength&&{PasswordLength:e.PasswordLength}),void 0!==e.RequireEachIncludedType&&null!==e.RequireEachIncludedType&&{RequireEachIncludedType:e.RequireEachIncludedType})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Ln(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{RandomPassword:void 0!==e.RandomPassword&&null!==e.RandomPassword?e.RandomPassword:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),Ho=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="GetResourcePolicyCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:Qr.filterSensitiveLog,outputFilterSensitiveLog:Zr.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.GetResourcePolicy"},n=JSON.stringify(function(e,t){return i({},void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Mn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,ResourcePolicy:void 0!==e.ResourcePolicy&&null!==e.ResourcePolicy?e.ResourcePolicy:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),Qo=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="GetSecretValueCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:Yr.filterSensitiveLog,outputFilterSensitiveLog:Xr.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.GetSecretValue"},n=JSON.stringify(function(e,t){return i(i(i({},void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId}),void 0!==e.VersionId&&null!==e.VersionId&&{VersionId:e.VersionId}),void 0!==e.VersionStage&&null!==e.VersionStage&&{VersionStage:e.VersionStage})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Bn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,CreatedDate:void 0!==e.CreatedDate&&null!==e.CreatedDate?new Date(Math.round(1e3*e.CreatedDate)):void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,SecretBinary:void 0!==e.SecretBinary&&null!==e.SecretBinary?t.base64Decoder(e.SecretBinary):void 0,SecretString:void 0!==e.SecretString&&null!==e.SecretString?e.SecretString:void 0,VersionId:void 0!==e.VersionId&&null!==e.VersionId?e.VersionId:void 0,VersionStages:void 0!==e.VersionStages&&null!==e.VersionStages?Ao(e.VersionStages,t):void 0}}(r,t),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),Zo=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="ListSecretVersionIdsCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:sn.filterSensitiveLog,outputFilterSensitiveLog:cn.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.ListSecretVersionIds"},n=JSON.stringify(function(e,t){return i(i(i(i({},void 0!==e.IncludeDeprecated&&null!==e.IncludeDeprecated&&{IncludeDeprecated:e.IncludeDeprecated}),void 0!==e.MaxResults&&null!==e.MaxResults&&{MaxResults:e.MaxResults}),void 0!==e.NextToken&&null!==e.NextToken&&{NextToken:e.NextToken}),void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Dn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,NextToken:void 0!==e.NextToken&&null!==e.NextToken?e.NextToken:void 0,Versions:void 0!==e.Versions&&null!==e.Versions?Co(e.Versions,t):void 0}}(r,t),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),Yo=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="ListSecretsCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:rn.filterSensitiveLog,outputFilterSensitiveLog:on.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.ListSecrets"},n=JSON.stringify(function(e,t){return i(i(i(i({},void 0!==e.Filters&&null!==e.Filters&&{Filters:so(e.Filters,t)}),void 0!==e.MaxResults&&null!==e.MaxResults&&{MaxResults:e.MaxResults}),void 0!==e.NextToken&&null!==e.NextToken&&{NextToken:e.NextToken}),void 0!==e.SortOrder&&null!==e.SortOrder&&{SortOrder:e.SortOrder})}(e,t)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,jn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{NextToken:void 0!==e.NextToken&&null!==e.NextToken?e.NextToken:void 0,SecretList:void 0!==e.SecretList&&null!==e.SecretList?ko(e.SecretList,t):void 0}}(r,t),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),Xo=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="PutResourcePolicyCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:un.filterSensitiveLog,outputFilterSensitiveLog:ln.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.PutResourcePolicy"},n=JSON.stringify(function(e,t){return i(i(i({},void 0!==e.BlockPublicPolicy&&null!==e.BlockPublicPolicy&&{BlockPublicPolicy:e.BlockPublicPolicy}),void 0!==e.ResourcePolicy&&null!==e.ResourcePolicy&&{ResourcePolicy:e.ResourcePolicy}),void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,qn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),ei=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="PutSecretValueCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:dn.filterSensitiveLog,outputFilterSensitiveLog:mn.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.PutSecretValue"},n=JSON.stringify(function(e,t){var r;return i(i(i(i({ClientRequestToken:null!==(r=e.ClientRequestToken)&&void 0!==r?r:(0,Re.v4)()},void 0!==e.SecretBinary&&null!==e.SecretBinary&&{SecretBinary:t.base64Encoder(e.SecretBinary)}),void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId}),void 0!==e.SecretString&&null!==e.SecretString&&{SecretString:e.SecretString}),void 0!==e.VersionStages&&null!==e.VersionStages&&{VersionStages:po(e.VersionStages,t)})}(e,t)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Fn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,VersionId:void 0!==e.VersionId&&null!==e.VersionId?e.VersionId:void 0,VersionStages:void 0!==e.VersionStages&&null!==e.VersionStages?Ao(e.VersionStages,t):void 0}}(r,t),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),ti=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="RestoreSecretCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:fn.filterSensitiveLog,outputFilterSensitiveLog:hn.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.RestoreSecret"},n=JSON.stringify(function(e,t){return i({},void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,zn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),ri=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="RotateSecretCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:gn.filterSensitiveLog,outputFilterSensitiveLog:vn.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.RotateSecret"},n=JSON.stringify(function(e,t){var r;return i(i(i({ClientRequestToken:null!==(r=e.ClientRequestToken)&&void 0!==r?r:(0,Re.v4)()},void 0!==e.RotationLambdaARN&&null!==e.RotationLambdaARN&&{RotationLambdaARN:e.RotationLambdaARN}),void 0!==e.RotationRules&&null!==e.RotationRules&&{RotationRules:co(e.RotationRules,t)}),void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e,t)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Vn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,VersionId:void 0!==e.VersionId&&null!==e.VersionId?e.VersionId:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),ni=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="TagResourceCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:yn.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.TagResource"},n=JSON.stringify(function(e,t){return i(i({},void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId}),void 0!==e.Tags&&null!==e.Tags&&{Tags:lo(e.Tags,t)})}(e,t)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return e.statusCode>=300?[2,Un(e,t)]:[4,Po(e.body,t)];case 1:return n.sent(),r={$metadata:Ro(e)},[2,Promise.resolve(r)]}}))}))}(e,t)},t}(xr),oi=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="UntagResourceCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:bn.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.UntagResource"},n=JSON.stringify(function(e,t){return i(i({},void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId}),void 0!==e.TagKeys&&null!==e.TagKeys&&{TagKeys:uo(e.TagKeys)})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return e.statusCode>=300?[2,$n(e,t)]:[4,Po(e.body,t)];case 1:return n.sent(),r={$metadata:Ro(e)},[2,Promise.resolve(r)]}}))}))}(e,t)},t}(xr),ii=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="UpdateSecretCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:xn.filterSensitiveLog,outputFilterSensitiveLog:wn.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.UpdateSecret"},n=JSON.stringify(function(e,t){var r;return i(i(i(i(i({ClientRequestToken:null!==(r=e.ClientRequestToken)&&void 0!==r?r:(0,Re.v4)()},void 0!==e.Description&&null!==e.Description&&{Description:e.Description}),void 0!==e.KmsKeyId&&null!==e.KmsKeyId&&{KmsKeyId:e.KmsKeyId}),void 0!==e.SecretBinary&&null!==e.SecretBinary&&{SecretBinary:t.base64Encoder(e.SecretBinary)}),void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId}),void 0!==e.SecretString&&null!==e.SecretString&&{SecretString:e.SecretString})}(e,t)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Kn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0,VersionId:void 0!==e.VersionId&&null!==e.VersionId?e.VersionId:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),si=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="UpdateSecretVersionStageCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:In.filterSensitiveLog,outputFilterSensitiveLog:Sn.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.UpdateSecretVersionStage"},n=JSON.stringify(function(e,t){return i(i(i(i({},void 0!==e.MoveToVersionId&&null!==e.MoveToVersionId&&{MoveToVersionId:e.MoveToVersionId}),void 0!==e.RemoveFromVersionId&&null!==e.RemoveFromVersionId&&{RemoveFromVersionId:e.RemoveFromVersionId}),void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId}),void 0!==e.VersionStage&&null!==e.VersionStage&&{VersionStage:e.VersionStage})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Gn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{ARN:void 0!==e.ARN&&null!==e.ARN?e.ARN:void 0,Name:void 0!==e.Name&&null!==e.Name?e.Name:void 0}}(r),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),ai=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return o(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Vo(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),o=t.logger,i="SecretsManagerClient",s="ValidateResourcePolicyCommand",a={logger:o,clientName:i,commandName:s,inputFilterSensitiveLog:Tn.filterSensitiveLog,outputFilterSensitiveLog:kn.filterSensitiveLog};"function"==typeof o.info&&o.info({clientName:i,commandName:s});var c=t.requestHandler;return n.resolve((function(e){return c.handle(e.request,r||{})}),a)},t.prototype.serialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n;return a(this,(function(o){return r={"content-type":"application/x-amz-json-1.1","X-Amz-Target":"secretsmanager.ValidateResourcePolicy"},n=JSON.stringify(function(e,t){return i(i({},void 0!==e.ResourcePolicy&&null!==e.ResourcePolicy&&{ResourcePolicy:e.ResourcePolicy}),void 0!==e.SecretId&&null!==e.SecretId&&{SecretId:e.SecretId})}(e)),[2,Lo(t,r,"/",void 0,n)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return s(void 0,void 0,void 0,(function(){var r,n,o;return a(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Wn(e,t)]:[4,Mo(e.body,t)];case 1:return r=s.sent(),n=function(e,t){return{PolicyValidationPassed:void 0!==e.PolicyValidationPassed&&null!==e.PolicyValidationPassed?e.PolicyValidationPassed:void 0,ValidationErrors:void 0!==e.ValidationErrors&&null!==e.ValidationErrors?No(e.ValidationErrors,t):void 0}}(r,t),o=i({$metadata:Ro(e)},n),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(xr),ci=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.cancelRotateSecret=function(e,t,r){var n=new Uo(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.createSecret=function(e,t,r){var n=new $o(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.deleteResourcePolicy=function(e,t,r){var n=new Ko(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.deleteSecret=function(e,t,r){var n=new Go(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.describeSecret=function(e,t,r){var n=new Wo(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.getRandomPassword=function(e,t,r){var n=new Jo(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.getResourcePolicy=function(e,t,r){var n=new Ho(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.getSecretValue=function(e,t,r){var n=new Qo(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.listSecrets=function(e,t,r){var n=new Yo(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.listSecretVersionIds=function(e,t,r){var n=new Zo(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.putResourcePolicy=function(e,t,r){var n=new Xo(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.putSecretValue=function(e,t,r){var n=new ei(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.restoreSecret=function(e,t,r){var n=new ti(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.rotateSecret=function(e,t,r){var n=new ri(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.tagResource=function(e,t,r){var n=new ni(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.untagResource=function(e,t,r){var n=new oi(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.updateSecret=function(e,t,r){var n=new ii(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.updateSecretVersionStage=function(e,t,r){var n=new si(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t.prototype.validateResourcePolicy=function(e,t,r){var n=new ai(e);if("function"==typeof t)this.send(n,t);else{if("function"!=typeof r)return this.send(n,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(n,t||{},r)}},t}(An),pi=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return s(void 0,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,e.send.apply(e,p([new Yo(t)],r))];case 1:return[2,n.sent()]}}))}))},ui=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return s(void 0,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,e.listSecrets.apply(e,p([t],r))];case 1:return[2,n.sent()]}}))}))};function li(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return l(this,arguments,(function(){var n,o,i;return a(this,(function(s){switch(s.label){case 0:n=e.startingToken||void 0,o=!0,s.label=1;case 1:return o?(t.NextToken=n,t.MaxResults=e.pageSize,e.client instanceof ci?[4,u(ui.apply(void 0,p([e.client,t],r)))]:[3,3]):[3,9];case 2:return i=s.sent(),[3,6];case 3:return e.client instanceof An?[4,u(pi.apply(void 0,p([e.client,t],r)))]:[3,5];case 4:return i=s.sent(),[3,6];case 5:throw new Error("Invalid client, expected SecretsManager | SecretsManagerClient");case 6:return[4,u(i)];case 7:return[4,s.sent()];case 8:return s.sent(),n=i.NextToken,o=!!n,[3,1];case 9:return[4,u(void 0)];case 10:return[2,s.sent()]}}))}))}var di=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return s(void 0,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,e.send.apply(e,p([new Zo(t)],r))];case 1:return[2,n.sent()]}}))}))},mi=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return s(void 0,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,e.listSecretVersionIds.apply(e,p([t],r))];case 1:return[2,n.sent()]}}))}))};function fi(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return l(this,arguments,(function(){var n,o,i;return a(this,(function(s){switch(s.label){case 0:n=e.startingToken||void 0,o=!0,s.label=1;case 1:return o?(t.NextToken=n,t.MaxResults=e.pageSize,e.client instanceof ci?[4,u(mi.apply(void 0,p([e.client,t],r)))]:[3,3]):[3,9];case 2:return i=s.sent(),[3,6];case 3:return e.client instanceof An?[4,u(di.apply(void 0,p([e.client,t],r)))]:[3,5];case 4:return i=s.sent(),[3,6];case 5:throw new Error("Invalid client, expected SecretsManager | SecretsManagerClient");case 6:return[4,u(i)];case 7:return[4,s.sent()];case 8:return s.sent(),n=i.NextToken,o=!!n,[3,1];case 9:return[4,u(void 0)];case 10:return[2,s.sent()]}}))}))}},9078:(e,t,r)=>{"use strict";var n=r(159),o=r(983);function i(e){if(!(this instanceof i))return new i(e);this.headers=e.headers,this.negotiator=new n(e)}function s(e){return-1===e.indexOf("/")?o.lookup(e):e}function a(e){return"string"==typeof e}e.exports=i,i.prototype.type=i.prototype.types=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}if(!t||0===t.length)return this.negotiator.mediaTypes();if(!this.headers.accept)return t[0];var n=t.map(s),o=this.negotiator.mediaTypes(n.filter(a)),i=o[0];return!!i&&t[n.indexOf(i)]},i.prototype.encoding=i.prototype.encodings=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return t&&0!==t.length?this.negotiator.encodings(t)[0]||!1:this.negotiator.encodings()},i.prototype.charset=i.prototype.charsets=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return t&&0!==t.length?this.negotiator.charsets(t)[0]||!1:this.negotiator.charsets()},i.prototype.lang=i.prototype.langs=i.prototype.language=i.prototype.languages=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return t&&0!==t.length?this.negotiator.languages(t)[0]||!1:this.negotiator.languages()}},7936:(e,t,r)=>{var n=r(6417),o=function(){};o.prototype.getRandomBytes=function(e){var t=4096,r=this;if((e=e||12)>t)return n.randomBytes(e);var o=parseInt(t/e),i=parseInt(.85*o);if(!i)return n.randomBytes(e);if(null==this.bytesBufferIndex&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==o&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(-1==this.bytesBufferIndex||this.bytesBufferIndex>i)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,n.randomBytes(t,(function(e,t){r.bytesBuffer=t,r.bytesBufferIndex=0,r.isGeneratingBytes=!1}))),-1==this.bytesBufferIndex))return n.randomBytes(e);var s=this.bytesBuffer.slice(e*this.bytesBufferIndex,e*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,s},o.prototype.generateId=function(){var e=Buffer.alloc(15);return e.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,e.writeInt32BE(this.sequenceNumber,11),n.randomBytes?this.getRandomBytes(12).copy(e):[0,4,8].forEach((function(t){e.writeInt32BE(Math.random()*Math.pow(2,32)|0,t)})),e.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()},e.exports=new o},8767:e=>{function t(e){if(e)return function(e){for(var r in t.prototype)e[r]=t.prototype[r];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},7846:(e,t,r)=>{!function(){"use strict";var t=r(7418),n=r(5181),o={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function i(e){return"string"==typeof e||e instanceof String}function s(e,t){if(Array.isArray(t)){for(var r=0;r<t.length;++r)if(s(e,t[r]))return!0;return!1}return i(t)?e===t:t instanceof RegExp?t.test(e):!!t}function a(e,t){var r,n=t.headers.origin,o=[];return e.origin&&"*"!==e.origin?i(e.origin)?(o.push([{key:"Access-Control-Allow-Origin",value:e.origin}]),o.push([{key:"Vary",value:"Origin"}])):(r=s(n,e.origin),o.push([{key:"Access-Control-Allow-Origin",value:!!r&&n}]),o.push([{key:"Vary",value:"Origin"}])):o.push([{key:"Access-Control-Allow-Origin",value:"*"}]),o}function c(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function p(e){var t=e.exposedHeaders;return t?(t.join&&(t=t.join(",")),t&&t.length?{key:"Access-Control-Expose-Headers",value:t}:null):null}function u(e,t){for(var r=0,o=e.length;r<o;r++){var i=e[r];i&&(Array.isArray(i)?u(i,t):"Vary"===i.key&&i.value?n(t,i.value):i.value&&t.setHeader(i.key,i.value))}}e.exports=function(e){var r=null;return r="function"==typeof e?e:function(t,r){r(null,e)},function(e,n,i){r(e,(function(r,s){if(r)i(r);else{var l=t({},o,s),d=null;l.origin&&"function"==typeof l.origin?d=l.origin:l.origin&&(d=function(e,t){t(null,l.origin)}),d?d(e.headers.origin,(function(t,r){t||!r?i(t):(l.origin=r,function(e,t,r,n){var o=[];"OPTIONS"===(t.method&&t.method.toUpperCase&&t.method.toUpperCase())?(o.push(a(e,t)),o.push(c(e)),o.push(function(e){var t=e.methods;return t.join&&(t=e.methods.join(",")),{key:"Access-Control-Allow-Methods",value:t}}(e)),o.push(function(e,t){var r=e.allowedHeaders||e.headers,n=[];return r?r.join&&(r=r.join(",")):(r=t.headers["access-control-request-headers"],n.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),r&&r.length&&n.push([{key:"Access-Control-Allow-Headers",value:r}]),n}(e,t)),o.push(function(e){var t=("number"==typeof e.maxAge||e.maxAge)&&e.maxAge.toString();return t&&t.length?{key:"Access-Control-Max-Age",value:t}:null}(e)),o.push(p(e)),u(o,r),e.preflightContinue?n():(r.statusCode=e.optionsSuccessStatus,r.setHeader("Content-Length","0"),r.end())):(o.push(a(e,t)),o.push(c(e)),o.push(p(e)),u(o,r),n())}(l,e,n,i))})):i()}}))}}}()},9738:(e,t,r)=>{const n=r(5747),o=r(5622);function i(e){console.log(`[dotenv][DEBUG] ${e}`)}const s=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,a=/\\n/g,c=/\n|\r|\r\n/;function p(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(c).forEach((function(e,t){const o=e.match(s);if(null!=o){const e=o[1];let t=o[2]||"";const r=t.length-1,i='"'===t[0]&&'"'===t[r];"'"===t[0]&&"'"===t[r]||i?(t=t.substring(1,r),i&&(t=t.replace(a,"\n"))):t=t.trim(),n[e]=t}else r&&i(`did not match key and value when parsing line ${t+1}: ${e}`)})),n}e.exports.config=function(e){let t=o.resolve(process.cwd(),".env"),r="utf8",s=!1;e&&(null!=e.path&&(t=e.path),null!=e.encoding&&(r=e.encoding),null!=e.debug&&(s=!0));try{const e=p(n.readFileSync(t,{encoding:r}),{debug:s});return Object.keys(e).forEach((function(t){Object.prototype.hasOwnProperty.call(process.env,t)?s&&i(`"${t}" is already defined in \`process.env\` and will not be overwritten`):process.env[t]=e[t]})),{parsed:e}}catch(e){return{error:e}}},e.exports.parse=p},1712:e=>{const t=Object.create(null);t.open="0",t.close="1",t.ping="2",t.pong="3",t.message="4",t.upgrade="5",t.noop="6";const r=Object.create(null);Object.keys(t).forEach((e=>{r[t[e]]=e})),e.exports={PACKET_TYPES:t,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},4050:(e,t,r)=>{const{PACKET_TYPES_REVERSE:n,ERROR_PACKET:o}=r(1712),i=(e,t)=>{const r=Buffer.isBuffer(e);switch(t){case"arraybuffer":return r?s(e):e;case"nodebuffer":default:return e}},s=e=>{const t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e[t];return t};e.exports=(e,t)=>{if("string"!=typeof e)return{type:"message",data:i(e,t)};const r=e.charAt(0);if("b"===r){const r=Buffer.from(e.substring(1),"base64");return{type:"message",data:i(r,t)}}return n[r]?e.length>1?{type:n[r],data:e.substring(1)}:{type:n[r]}:o}},7559:(e,t,r)=>{const{PACKET_TYPES:n}=r(1712);e.exports=({type:e,data:t},r,o)=>{if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){return o(((e,t)=>t?e:"b"+e.toString("base64"))((e=>Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):Buffer.from(e.buffer,e.byteOffset,e.byteLength))(t),r))}return o(n[e]+(t||""))}},9743:(e,t,r)=>{const n=r(7559),o=r(4050),i=String.fromCharCode(30);e.exports={protocol:4,encodePacket:n,encodePayload:(e,t)=>{const r=e.length,o=new Array(r);let s=0;e.forEach(((e,a)=>{n(e,!1,(e=>{o[a]=e,++s===r&&t(o.join(i))}))}))},decodePacket:o,decodePayload:(e,t)=>{const r=e.split(i),n=[];for(let e=0;e<r.length;e++){const i=o(r[e],t);if(n.push(i),"error"===i.type)break}return n}}},2731:(e,t,r)=>{const n=r(8605),o=r(4319);function i(e,t){const r=new o(t);return r.attach(e,t),r}(t=e.exports=function(){return arguments.length&&arguments[0]instanceof n.Server?i.apply(this,arguments):new o(arguments)}).protocol=1,t.Server=o,t.Socket=r(6539),t.Transport=r(4214),t.transports=r(43),t.parser=r(9743),t.listen=function(e,r,o){"function"==typeof r&&(o=r,r={});const i=n.createServer((function(e,t){t.writeHead(501),t.end("Not Implemented")})),s=t.attach(i,r);return s.httpServer=i,i.listen(e,o),s},t.attach=i},4319:(e,t,r)=>{const n=r(1191),o=r(8835).parse,i=r(7936),s=r(43),a=r(8614).EventEmitter,c=r(6539),p=r(847)("engine"),u=r(1944);class l extends a{constructor(e={}){super(),this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:process.env.EIO_WS_ENGINE||"ws",pingTimeout:5e3,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:Object.keys(s),allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:!1!==e.cookie.path,sameSite:"lax"},e.cookie)),this.opts.cors&&(this.corsMiddleware=r(7846)(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}init(){if(!~this.opts.transports.indexOf("websocket"))return;this.ws&&this.ws.close();const e="ws"===this.opts.wsEngine?r(8777):r(7854)(this.opts.wsEngine);this.ws=new e.Server({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize})}upgrades(e){return this.opts.allowUpgrades&&s[e].upgradesTo||[]}verify(e,t,r){const n=e._query.transport;if(!~this.opts.transports.indexOf(n))return p('unknown transport "%s"',n),r(l.errors.UNKNOWN_TRANSPORT,!1);if(function(e){if((e+="").length<1)return!1;if(!m[e.charCodeAt(0)])return p('invalid header, index 0, char "%s"',e.charCodeAt(0)),!0;if(e.length<2)return!1;if(!m[e.charCodeAt(1)])return p('invalid header, index 1, char "%s"',e.charCodeAt(1)),!0;if(e.length<3)return!1;if(!m[e.charCodeAt(2)])return p('invalid header, index 2, char "%s"',e.charCodeAt(2)),!0;if(e.length<4)return!1;if(!m[e.charCodeAt(3)])return p('invalid header, index 3, char "%s"',e.charCodeAt(3)),!0;for(let t=4;t<e.length;++t)if(!m[e.charCodeAt(t)])return p('invalid header, index "%i", char "%s"',t,e.charCodeAt(t)),!0;return!1}(e.headers.origin))return e.headers.origin=null,p("origin header invalid"),r(l.errors.BAD_REQUEST,!1);const o=e._query.sid;return o?this.clients.hasOwnProperty(o)?t||this.clients[o].transport.name===n?void r(null,!0):(p("bad request: unexpected transport without upgrade"),r(l.errors.BAD_REQUEST,!1)):(p('unknown sid "%s"',o),r(l.errors.UNKNOWN_SID,!1)):"GET"!==e.method?r(l.errors.BAD_HANDSHAKE_METHOD,!1):this.opts.allowRequest?this.opts.allowRequest(e,r):r(null,!0)}prepare(e){e._query||(e._query=~e.url.indexOf("?")?n.parse(o(e.url).query):{})}close(){p("closing all open clients");for(let e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.ws&&(p("closing webSocketServer"),this.ws.close()),this}handleRequest(e,t){p('handling "%s" http request "%s"',e.method,e.url),this.prepare(e),e.res=t;const r=(r,n)=>{n?e._query.sid?(p("setting new request for existing client"),this.clients[e._query.sid].transport.onRequest(e)):this.handshake(e._query.transport,e):d(0,t,r)};this.corsMiddleware?this.corsMiddleware.call(null,e,t,(()=>{this.verify(e,!1,r)})):this.verify(e,!1,r)}generateId(e){return i.generateId()}async handshake(e,t){let r;try{r=await this.generateId(t)}catch(e){return p("error while generating an id"),void d(0,t.res,l.errors.BAD_REQUEST)}p('handshaking client "%s"',r);try{var n=new s[e](t);"polling"===e?(n.maxHttpBufferSize=this.opts.maxHttpBufferSize,n.httpCompression=this.opts.httpCompression):"websocket"===e&&(n.perMessageDeflate=this.opts.perMessageDeflate),t._query&&t._query.b64?n.supportsBinary=!1:n.supportsBinary=!0}catch(r){return p('error handshaking to transport "%s"',e),void d(0,t.res,l.errors.BAD_REQUEST)}const o=new c(r,this,n,t),i=this;this.opts.cookie&&n.on("headers",(e=>{e["Set-Cookie"]=u.serialize(this.opts.cookie.name,r,this.opts.cookie)})),n.onRequest(t),this.clients[r]=o,this.clientsCount++,o.once("close",(function(){delete i.clients[r],i.clientsCount--})),this.emit("connection",o)}handleUpgrade(e,t,r){this.prepare(e);const n=this;this.verify(e,!0,(function(o,i){if(!i)return void function(e,t){if(e.on("error",(()=>{p("ignoring error from closed connection")})),e.writable){const r=l.errorMessages.hasOwnProperty(t)?l.errorMessages[t]:String(t||""),n=Buffer.byteLength(r);e.write("HTTP/1.1 400 Bad Request\r\nConnection: close\r\nContent-type: text/html\r\nContent-Length: "+n+"\r\n\r\n"+r)}e.destroy()}(t,o);const s=Buffer.from(r);r=null,n.ws.handleUpgrade(e,t,s,(function(t){n.onWebSocket(e,t)}))}))}onWebSocket(e,t){if(t.on("error",n),void 0!==s[e._query.transport]&&!s[e._query.transport].prototype.handlesUpgrades)return p("transport doesnt handle upgraded requests"),void t.close();const r=e._query.sid;if(e.websocket=t,r){const o=this.clients[r];if(o)if(o.upgrading)p("transport has already been trying to upgrade"),t.close();else if(o.upgraded)p("transport had already been upgraded"),t.close();else{p("upgrading existing transport"),t.removeListener("error",n);const r=new s[e._query.transport](e);e._query&&e._query.b64?r.supportsBinary=!1:r.supportsBinary=!0,r.perMessageDeflate=this.perMessageDeflate,o.maybeUpgrade(r)}else p("upgrade attempt for closed client"),t.close()}else t.removeListener("error",n),this.handshake(e._query.transport,e);function n(){p("websocket error before upgrade")}}attach(e,t){const r=this;let n=((t=t||{}).path||"/engine.io").replace(/\/$/,"");const o=t.destroyUpgradeTimeout||1e3;function i(e){return n===e.url.substr(0,n.length)}n+="/";const s=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("close",r.close.bind(r)),e.on("listening",r.init.bind(r)),e.on("request",(function(t,o){if(i(t))p('intercepting request for path "%s"',n),r.handleRequest(t,o);else{let r=0;const n=s.length;for(;r<n;r++)s[r].call(e,t,o)}})),~r.opts.transports.indexOf("websocket")&&e.on("upgrade",(function(e,n,s){i(e)?r.handleUpgrade(e,n,s):!1!==t.destroyUpgrade&&setTimeout((function(){if(n.writable&&n.bytesWritten<=0)return n.end()}),o)}))}}function d(e,t,r){const n={"Content-Type":"application/json"};if(!l.errorMessages.hasOwnProperty(r))return t.writeHead(403,n),void t.end(JSON.stringify({code:l.errors.FORBIDDEN,message:r||l.errorMessages[l.errors.FORBIDDEN]}));void 0!==t&&(t.writeHead(400,n),t.end(JSON.stringify({code:r,message:l.errorMessages[r]})))}l.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4},l.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden"},e.exports=l;const m=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},6539:(e,t,r)=>{const n=r(8614),o=r(847)("engine:socket");e.exports=class extends n{constructor(e,t,r,n){super(),this.id=e,this.server=t,this.upgrading=!1,this.upgraded=!1,this.readyState="opening",this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.request=n,n.websocket&&n.websocket._socket?this.remoteAddress=n.websocket._socket.remoteAddress:this.remoteAddress=n.connection.remoteAddress,this.checkIntervalTimer=null,this.upgradeTimeoutTimer=null,this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(r),this.onOpen()}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),this.schedulePing()}onPacket(e){if("open"===this.readyState)switch(o("packet"),this.emit("packet",e),this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout),e.type){case"pong":o("got pong"),this.schedulePing(),this.emit("heartbeat");break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o("packet received with closed socket")}onError(e){o("transport error"),this.onClose("transport error",e)}schedulePing(){clearTimeout(this.pingIntervalTimer),this.pingIntervalTimer=setTimeout((()=>{o("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout(this.server.opts.pingTimeout)}),this.server.opts.pingInterval)}resetPingTimeout(e){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((()=>{"closed"!==this.readyState&&this.onClose("ping timeout")}),e)}setTransport(e){const t=this.onError.bind(this),r=this.onPacket.bind(this),n=this.flush.bind(this),o=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",t),this.transport.on("packet",r),this.transport.on("drain",n),this.transport.once("close",o),this.setupSendCallback(),this.cleanupFn.push((function(){e.removeListener("error",t),e.removeListener("packet",r),e.removeListener("drain",n),e.removeListener("close",o)}))}maybeUpgrade(e){o('might upgrade socket transport from "%s" to "%s"',this.transport.name,e.name),this.upgrading=!0;const t=this;function r(r){"ping"===r.type&&"probe"===r.data?(e.send([{type:"pong",data:"probe"}]),t.emit("upgrading",e),clearInterval(t.checkIntervalTimer),t.checkIntervalTimer=setInterval(n,100)):"upgrade"===r.type&&"closed"!==t.readyState?(o("got upgrade packet - upgrading"),i(),t.transport.discard(),t.upgraded=!0,t.clearTransport(),t.setTransport(e),t.emit("upgrade",e),t.schedulePing(),t.flush(),"closing"===t.readyState&&e.close((function(){t.onClose("forced close")}))):(i(),e.close())}function n(){"polling"===t.transport.name&&t.transport.writable&&(o("writing a noop packet to polling for fast upgrade"),t.transport.send([{type:"noop"}]))}function i(){t.upgrading=!1,clearInterval(t.checkIntervalTimer),t.checkIntervalTimer=null,clearTimeout(t.upgradeTimeoutTimer),t.upgradeTimeoutTimer=null,e.removeListener("packet",r),e.removeListener("close",a),e.removeListener("error",s),t.removeListener("close",c)}function s(t){o("client did not complete upgrade - %s",t),i(),e.close(),e=null}function a(){s("transport closed")}function c(){s("socket closed")}t.upgradeTimeoutTimer=setTimeout((function(){o("client did not complete upgrade - closing transport"),i(),"open"===e.readyState&&e.close()}),this.server.opts.upgradeTimeout),e.on("packet",r),e.once("close",a),e.once("error",s),t.once("close",c)}clearTransport(){let e;const t=this.cleanupFn.length;for(let r=0;r<t;r++)e=this.cleanupFn.shift(),e();this.transport.on("error",(function(){o("error triggered by discarded transport")})),this.transport.close(),clearTimeout(this.pingTimeoutTimer)}onClose(e,t){if("closed"!==this.readyState){this.readyState="closed",clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=null,clearTimeout(this.upgradeTimeoutTimer);const r=this;process.nextTick((function(){r.writeBuffer=[]})),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,t)}}setupSendCallback(){const e=this;function t(){if(e.sentCallbackFn.length>0){const t=e.sentCallbackFn.splice(0,1)[0];if("function"==typeof t)o("executing send callback"),t(e.transport);else if(Array.isArray(t)){o("executing batch send callback");const r=t.length;let n=0;for(;n<r;n++)"function"==typeof t[n]&&t[n](e.transport)}}}this.transport.on("drain",t),this.cleanupFn.push((function(){e.transport.removeListener("drain",t)}))}send(e,t,r){return this.sendPacket("message",e,t,r),this}write(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"==typeof r&&(n=r,r=null),(r=r||{}).compress=!1!==r.compress,"closing"!==this.readyState&&"closed"!==this.readyState){o('sending packet "%s" (%s)',e,t);const i={type:e,options:r};t&&(i.data=t),this.emit("packetCreate",i),this.writeBuffer.push(i),n&&this.packetsFn.push(n),this.flush()}}flush(){if("closed"!==this.readyState&&this.transport.writable&&this.writeBuffer.length){o("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer);const e=this.writeBuffer;this.writeBuffer=[],this.transport.supportsFraming?this.sentCallbackFn.push.apply(this.sentCallbackFn,this.packetsFn):this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[],this.transport.send(e),this.emit("drain"),this.server.emit("drain",this)}}getAvailableUpgrades(){const e=[],t=this.server.upgrades(this.transport.name);let r=0;const n=t.length;for(;r<n;++r){const n=t[r];-1!==this.server.opts.transports.indexOf(n)&&e.push(n)}return e}close(e){"open"===this.readyState&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",this.closeTransport.bind(this,e)):this.closeTransport(e))}closeTransport(e){e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}}},4214:(e,t,r)=>{const n=r(8614),o=r(9743),i=r(847)("engine:transport");function s(){}e.exports=class extends n{constructor(e){super(),this.readyState="open",this.discarded=!1}discard(){this.discarded=!0}onRequest(e){i("setting request"),this.req=e}close(e){"closed"!==this.readyState&&"closing"!==this.readyState&&(this.readyState="closing",this.doClose(e||s))}onError(e,t){if(this.listeners("error").length){const r=new Error(e);r.type="TransportError",r.description=t,this.emit("error",r)}else i("ignored transport error %s (%s)",e,t)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(o.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}}},43:(e,t,r)=>{const n=r(4815),o=r(5730);e.exports=t={polling:function(e){return"string"==typeof e._query.j?new o(e):new n(e)},websocket:r(1882)},t.polling.upgradesTo=["websocket"]},5730:(e,t,r)=>{const n=r(4815),o=r(1191),i=/\\\\n/g,s=/(\\)?\\n/g;e.exports=class extends n{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){"string"==typeof(e=o.parse(e).d)&&(e=e.replace(s,(function(e,t){return t?e:"\n"})),super.onData(e.replace(i,"\\n")))}doWrite(e,t,r){const n=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+n+this.foot,super.doWrite(e,t,r)}}},4815:(e,t,r)=>{const n=r(4214),o=r(9743),i=r(8761),s=r(9078),a=r(847)("engine:polling"),c={gzip:i.createGzip,deflate:i.createDeflate};e.exports=class extends n{constructor(e){super(e),this.closeTimeout=3e4,this.maxHttpBufferSize=null,this.httpCompression=null}get name(){return"polling"}onRequest(e){const t=e.res;"GET"===e.method?this.onPollRequest(e,t):"POST"===e.method?this.onDataRequest(e,t):(t.writeHead(500),t.end())}onPollRequest(e,t){if(this.req)return a("request overlap"),this.onError("overlap from client"),t.writeHead(500),void t.end();a("setting request"),this.req=e,this.res=t;const r=this;function n(){r.onError("poll connection closed prematurely")}e.cleanup=function(){e.removeListener("close",n),r.req=r.res=null},e.on("close",n),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(a("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq)return this.onError("data request overlap from client"),t.writeHead(500),void t.end();this.dataReq=e,this.dataRes=t;let r="";const n=this;function o(){e.removeListener("data",s),e.removeListener("end",a),e.removeListener("close",i),n.dataReq=n.dataRes=r=null}function i(){o(),n.onError("data request connection closed prematurely")}function s(t){let o;r+=t,o=Buffer.byteLength(r),o>n.maxHttpBufferSize&&(r="",e.connection.destroy())}function a(){n.onData(r),t.writeHead(200,n.headers(e,{"Content-Type":"text/html","Content-Length":2})),t.end("ok"),o()}e.on("close",i),e.setEncoding("utf8"),e.on("data",s),e.on("end",a)}onData(e){a('received "%s"',e);const t=this;o.decodePayload(e).forEach((function(e){if("close"===e.type)return a("got xhr close packet"),t.onClose(),!1;t.onPacket(e)}))}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(a("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const t=this;o.encodePayload(e,(r=>{const n=e.some((function(e){return e.options&&e.options.compress}));t.write(r,{compress:n})}))}write(e,t){a('writing "%s"',e);const r=this;this.doWrite(e,t,(function(){r.req.cleanup()}))}doWrite(e,t,r){const n=this,o="string"==typeof e,i={"Content-Type":o?"text/plain; charset=UTF-8":"application/octet-stream"};if(!this.httpCompression||!t.compress)return void c(e);if((o?Buffer.byteLength(e):e.length)<this.httpCompression.threshold)return void c(e);const a=s(this.req).encodings(["gzip","deflate"]);function c(e){i["Content-Length"]="string"==typeof e?Buffer.byteLength(e):e.length,n.res.writeHead(200,n.headers(n.req,i)),n.res.end(e),r()}a?this.compress(e,a,(function(e,t){if(e)return n.res.writeHead(500),n.res.end(),void r(e);i["Content-Encoding"]=a,c(t)})):c(e)}compress(e,t,r){a("compressing");const n=[];let o=0;c[t](this.httpCompression).on("error",r).on("data",(function(e){n.push(e),o+=e.length})).on("end",(function(){r(null,Buffer.concat(n,o))})).end(e)}doClose(e){a("closing");const t=this;let r;function n(){clearTimeout(r),e(),t.onClose()}this.dataReq&&(a("aborting ongoing data request"),this.dataReq.destroy()),this.writable?(a("transport writable - closing right away"),this.send([{type:"close"}]),n()):this.discarded?(a("transport discarded - closing right away"),n()):(a("transport not writable - buffering orderly close"),this.shouldClose=n,r=setTimeout(n,this.closeTimeout))}headers(e,t){t=t||{};const r=e.headers["user-agent"];return r&&(~r.indexOf(";MSIE")||~r.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),this.emit("headers",t),t}}},1882:(e,t,r)=>{const n=r(4214),o=r(9743),i=r(847)("engine:ws");e.exports=class extends n{constructor(e){super(e),this.socket=e.websocket,this.socket.on("message",this.onData.bind(this)),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.socket.on("headers",(e=>{this.emit("headers",e)})),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}onData(e){i('received "%s"',e),super.onData(e)}send(e){for(var t=this,r=0;r<e.length;r++){var n=e[r];o.encodePacket(n,t.supportsBinary,s)}function s(e){i('writing "%s"',e);var r={};n.options&&(r.compress=n.options.compress),t.perMessageDeflate&&("string"==typeof e?Buffer.byteLength(e):e.length)<t.perMessageDeflate.threshold&&(r.compress=!1),t.writable=!1,t.socket.send(e,r,a)}function a(e){if(e)return t.onError("write error",e.stack);t.writable=!0,t.emit("drain")}}doClose(e){i("closing"),this.socket.close(),e&&e()}}},7854:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=7854,e.exports=t},1944:(e,t)=>{"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},a=e.split(o),c=i.decode||r,p=0;p<a.length;p++){var u=a[p],l=u.indexOf("=");if(!(l<0)){var d=u.substr(0,l).trim(),m=u.substr(++l,u.length).trim();'"'==m[0]&&(m=m.slice(1,-1)),null==n[d]&&(n[d]=s(m,c))}}return n},t.serialize=function(e,t,r){var o=r||{},s=o.encode||n;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var c=e+"="+a;if(null!=o.maxAge){var p=o.maxAge-0;if(isNaN(p)||!isFinite(p))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(p)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return c};var r=decodeURIComponent,n=encodeURIComponent,o=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(t){return e}}},9447:(e,t,r)=>{t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(8974)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},8974:(e,t,r)=>{e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function s(...e){if(!s.enabled)return;const t=s,o=Number(new Date),i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return r;a++;const i=n.formatters[o];if("function"==typeof i){const n=e[a];r=i.call(t,n),e.splice(a,1),a--}return r})),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=o,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function o(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map((e=>"-"+e))].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(7325),Object.keys(e).forEach((t=>{n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},847:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(9447):e.exports=r(877)},877:(e,t,r)=>{const n=r(3867),o=r(1669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=r(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(8974)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},7325:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,p=typeof e;if("string"===p&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===p&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6560:e=>{"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},4552:(e,t,r)=>{const n=r(873),o=r(6996),i=r(737),s=r(8691),a=r(2972),c=r(5320),p=r(8279),u=r(7666),l=r(3595),d=r(4517),m=r(8203),{LEVELS:f}=r(354);e.exports={Kafka:n,PartitionAssigners:o,AssignerProtocol:i,Partitioners:s,logLevel:f,CompressionTypes:a.Types,CompressionCodecs:a.Codecs,ResourceTypes:c,ConfigResourceTypes:p,AclResourceTypes:u,AclOperationTypes:l,AclPermissionTypes:d,ResourcePatternTypes:m}},5151:e=>{"use strict";e.exports=JSON.parse('{"_from":"kafkajs@^1.15.0","_id":"kafkajs@1.15.0","_inBundle":false,"_integrity":"sha512-yjPyEnQCkPxAuQLIJnY5dI+xnmmgXmhuOQ1GVxClG5KTOV/rJcW1qA3UfvyEJKTp/RTSqQnUR3HJsKFvHyTpNg==","_location":"/kafkajs","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"kafkajs@^1.15.0","name":"kafkajs","escapedName":"kafkajs","rawSpec":"^1.15.0","saveSpec":null,"fetchSpec":"^1.15.0"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/kafkajs/-/kafkajs-1.15.0.tgz","_shasum":"a5ada0d933edca2149177393562be6fb0875ec3a","_spec":"kafkajs@^1.15.0","_where":"/Users/brandon/Dev/scratch/rythm-aws/rythm-socketio-serv","author":{"name":"Tulio Ornelas","email":"ornelas.tulio@gmail.com"},"bugs":{"url":"https://github.com/tulios/kafkajs/issues"},"bundleDependencies":false,"dependencies":{},"deprecated":false,"description":"A modern Apache Kafka client for node.js","devDependencies":{"@types/node":"^12.0.8","@typescript-eslint/typescript-estree":"^1.10.2","eslint":"^6.8.0","eslint-config-prettier":"^6.0.0","eslint-config-standard":"^13.0.1","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^11.0.0","eslint-plugin-prettier":"^3.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.0","execa":"^2.0.3","glob":"^7.1.4","husky":"^3.0.1","ip":"^1.1.5","jest":"^25.1.0","jest-circus":"^25.1.0","jest-extended":"^0.11.2","jest-junit":"^10.0.0","jsonwebtoken":"^8.5.1","lint-staged":"^9.2.0","mockdate":"^2.0.5","prettier":"^1.18.2","semver":"^6.2.0","typescript":"^3.8.3","uuid":"^3.3.2"},"engines":{"node":">=10.13.0"},"homepage":"https://kafka.js.org","keywords":["kafka","sasl","scram"],"license":"MIT","lint-staged":{"*.js":["prettier --write","git add"]},"main":"index.js","name":"kafkajs","repository":{"type":"git","url":"git+https://github.com/tulios/kafkajs.git"},"scripts":{"format":"find . -path ./node_modules -prune -o -path ./coverage -prune -o -path ./website -prune -o -name \'*.js\' -print0 | xargs -0 prettier --write","jest":"export KAFKA_VERSION=${KAFKA_VERSION:=\'2.4\'} && NODE_ENV=test echo \\"KAFKA_VERSION: ${KAFKA_VERSION}\\" && KAFKAJS_DEBUG_PROTOCOL_BUFFERS=1 jest","lint":"find . -path ./node_modules -prune -o -path ./coverage -prune -o -path ./website -prune -o -name \'*.js\' -print0 | xargs -0 eslint","precommit":"lint-staged","test":"yarn lint && JEST_JUNIT_OUTPUT_NAME=test-report.xml ./scripts/testWithKafka.sh \'yarn jest --ci --maxWorkers=4 --no-watchman --forceExit\'","test:debug":"NODE_ENV=test KAFKAJS_DEBUG_PROTOCOL_BUFFERS=1 node --inspect-brk $(yarn bin 2>/dev/null)/jest --detectOpenHandles --runInBand --watch","test:group:admin":"yarn jest --forceExit --testPathPattern \'src/admin/.*\'","test:group:admin:ci":"JEST_JUNIT_OUTPUT_NAME=test-report.xml ./scripts/testWithKafka.sh \\"yarn test:group:admin --ci --maxWorkers=4 --no-watchman\\"","test:group:broker":"yarn jest --forceExit --testPathPattern \'src/broker/.*\'","test:group:broker:ci":"JEST_JUNIT_OUTPUT_NAME=test-report.xml ./scripts/testWithKafka.sh \\"yarn test:group:broker --ci --maxWorkers=4 --no-watchman\\"","test:group:consumer":"yarn jest --forceExit --testPathPattern \'src/consumer/.*.spec.js\'","test:group:consumer:ci":"JEST_JUNIT_OUTPUT_NAME=test-report.xml ./scripts/testWithKafka.sh \\"yarn test:group:consumer --ci --maxWorkers=4 --no-watchman\\"","test:group:oauthbearer":"OAUTHBEARER_ENABLED=1 yarn jest --forceExit src/producer/index.spec.js src/broker/__tests__/connect.spec.js src/consumer/__tests__/connection.spec.js src/broker/__tests__/disconnect.spec.js src/admin/__tests__/connection.spec.js","test:group:oauthbearer:ci":"JEST_JUNIT_OUTPUT_NAME=test-report.xml COMPOSE_FILE=\'docker-compose.2_4_oauthbearer.yml\' ./scripts/testWithKafka.sh \\"yarn test:group:oauthbearer --ci --maxWorkers=4 --no-watchman\\"","test:group:others":"yarn jest --forceExit --testPathPattern \'src/(?!(broker|admin|producer|consumer)/).*\'","test:group:others:ci":"JEST_JUNIT_OUTPUT_NAME=test-report.xml ./scripts/testWithKafka.sh \\"yarn test:group:others --ci --maxWorkers=4 --no-watchman\\"","test:group:producer":"yarn jest --forceExit --testPathPattern \'src/producer/.*\'","test:group:producer:ci":"JEST_JUNIT_OUTPUT_NAME=test-report.xml ./scripts/testWithKafka.sh \\"yarn test:group:producer --ci --maxWorkers=4 --no-watchman\\"","test:local":"yarn jest --detectOpenHandles","test:local:watch":"yarn test:local --watch","test:types":"tsc -p types/"},"types":"types/index.d.ts","version":"1.15.0"}')},5929:(e,t,r)=>{const n=r(9701),o=r(4358),i=r(6335),s=r(3163),a=r(763),c=r(2190),{events:p,wrap:u,unwrap:l}=r(7881),{LEVELS:d}=r(354),{KafkaJSNonRetriableError:m,KafkaJSDeleteGroupsError:f,KafkaJSBrokerNotFound:h,KafkaJSDeleteTopicRecordsError:g}=r(9879),{staleMetadata:v}=r(1701),y=r(8279),b=r(7666),x=r(3595),w=r(4517),I=r(8203),{EARLIEST_OFFSET:S,LATEST_OFFSET:T}=r(3904),{CONNECT:E,DISCONNECT:k}=p,{values:C,keys:A,entries:O}=Object,_=C(p),N=A(p).map((e=>`admin.events.${e}`)).join(", "),R=async(e,t)=>(await e.addTargetTopic(t),await e.refreshMetadataIfNecessary(),e.findTopicPartitionMetadata(t).map((({partitionId:e})=>e)).sort());e.exports=({logger:e,instrumentationEmitter:t,retry:r,cluster:A})=>{const P=e.namespace("Admin"),L=t||new c,M=async e=>{if(!e||"string"!=typeof e)throw new m(`Invalid topic ${e}`);return n(r)((async(t,r,n)=>{try{await A.addTargetTopic(e),await A.refreshMetadataIfNecessary();const t=A.findTopicPartitionMetadata(e),r=await A.fetchTopicsOffset([{topic:e,fromBeginning:!1,partitions:t.map((e=>({partition:e.partitionId})))}]),n=await A.fetchTopicsOffset([{topic:e,fromBeginning:!0,partitions:t.map((e=>({partition:e.partitionId})))}]),{partitions:o}=r.pop(),{partitions:i}=n.pop();return o.map((({partition:e,offset:t})=>({partition:e,offset:t,high:t,low:i.find((({partition:t})=>t===e)).offset})))}catch(e){if("UNKNOWN_TOPIC_OR_PARTITION"===e.type)throw await A.refreshMetadata(),e;t(e)}}))},B=async({groupId:t,topic:r,partitions:n})=>{if(!t)throw new m(`Invalid groupId ${t}`);if(!r)throw new m(`Invalid topic ${r}`);if(!n||0===n.length)throw new m("Invalid partitions");const o=a({logger:e.namespace("Admin",d.NOTHING),cluster:A,groupId:t});await o.subscribe({topic:r,fromBeginning:!0});const i=await o.describeGroup();if(!(e=>["Empty","Dead"].includes(e.state))(i))throw new m(`The consumer group must have no running instances, current state: ${i.state}`);return new Promise(((e,t)=>{o.on(o.events.FETCH,(async()=>o.stop().then(e).catch(t))),o.run({eachBatchAutoResolve:!1,eachBatch:async()=>!0}).catch(t),o.pause([{topic:r}]);for(const e of n)o.seek({topic:r,...e})}))},j=({resources:e,defaultBroker:t})=>s(e,(async({type:e,name:r})=>(e=>[y.BROKER,y.BROKER_LOGGER].includes(e))(e)?await A.findBroker({nodeId:String(r)}):t));return{connect:async()=>{await A.connect(),L.emit(E)},disconnect:async()=>{await A.disconnect(),L.emit(k)},listTopics:async()=>{const{topicMetadata:e}=await A.metadata();return e.map((e=>e.topic))},createTopics:async({topics:e,validateOnly:t,timeout:o,waitForLeaders:s=!0})=>{if(!e||!Array.isArray(e))throw new m(`Invalid topics array ${e}`);if(e.filter((({topic:e})=>"string"!=typeof e)).length>0)throw new m("Invalid topics array, the topic names have to be a valid string");const a=new Set(e.map((({topic:e})=>e)));if(a.size<e.length)throw new m("Invalid topics array, it cannot have multiple entries for the same topic");return n(r)((async(r,n,c)=>{try{await A.refreshMetadata();const r=await A.findControllerBroker();if(await r.createTopics({topics:e,validateOnly:t,timeout:o}),s){const e=Array.from(a.values());await((e,t={})=>i((async()=>{try{return await e()}catch(e){if("LEADER_NOT_AVAILABLE"!==e.type)throw e;return!1}}),t))((async()=>await r.metadata(e)),{delay:100,maxWait:o,timeoutMessage:"Timed out while waiting for topic leaders"})}return!0}catch(e){if("NOT_CONTROLLER"===e.type)throw P.warn("Could not create topics",{error:e.message,retryCount:n,retryTime:c}),e;if("TOPIC_ALREADY_EXISTS"===e.type)return!1;r(e)}}))},deleteTopics:async({topics:e,timeout:t})=>{if(!e||!Array.isArray(e))throw new m(`Invalid topics array ${e}`);if(e.filter((e=>"string"!=typeof e)).length>0)throw new m("Invalid topics array, the names must be a valid string");return n(r)((async(r,n,o)=>{try{await A.refreshMetadata();const r=await A.findControllerBroker();await r.deleteTopics({topics:e,timeout:t});for(const t of e)A.targetTopics.delete(t);await A.refreshMetadata()}catch(e){if(["NOT_CONTROLLER","UNKNOWN_TOPIC_OR_PARTITION"].includes(e.type))throw P.warn("Could not delete topics",{error:e.message,retryCount:n,retryTime:o}),e;"REQUEST_TIMED_OUT"===e.type&&P.error('Could not delete topics, check if "delete.topic.enable" is set to "true" (the default value is "false") or increase the timeout',{error:e.message,retryCount:n,retryTime:o}),r(e)}}))},createPartitions:async({topicPartitions:e,validateOnly:t,timeout:o})=>{if(!e||!Array.isArray(e))throw new m(`Invalid topic partitions array ${e}`);if(0===e.length)throw new m("Empty topic partitions array");if(e.filter((({topic:e})=>"string"!=typeof e)).length>0)throw new m("Invalid topic partitions array, the topic names have to be a valid string");if(new Set(e.map((({topic:e})=>e))).size<e.length)throw new m("Invalid topic partitions array, it cannot have multiple entries for the same topic");return n(r)((async(r,n,i)=>{try{await A.refreshMetadata();const r=await A.findControllerBroker();await r.createPartitions({topicPartitions:e,validateOnly:t,timeout:o})}catch(e){if("NOT_CONTROLLER"===e.type)throw P.warn("Could not create topics",{error:e.message,retryCount:n,retryTime:i}),e;r(e)}}))},getTopicMetadata:async e=>{const{topics:t}=e||{};t&&await Promise.all(t.map((async e=>{if(!e)throw new m(`Invalid topic ${e}`);try{await A.addTargetTopic(e)}catch(t){throw t.message=`Failed to add target topic ${e}: ${t.message}`,t}}))),await A.refreshMetadataIfNecessary();const r=t||[...A.targetTopics];return{topics:await Promise.all(r.map((async e=>({name:e,partitions:A.findTopicPartitionMetadata(e)}))))}},fetchTopicMetadata:async({topics:e=[]}={})=>(e&&e.forEach((e=>{if(!e||"string"!=typeof e)throw new m(`Invalid topic ${e}`)})),{topics:(await A.metadata({topics:e})).topicMetadata.map((e=>({name:e.topic,partitions:e.partitionMetadata})))}),describeCluster:async()=>{const{brokers:e,clusterId:t,controllerId:r}=await A.metadata({topics:[]});return{brokers:e.map((({nodeId:e,host:t,port:r})=>({nodeId:e,host:t,port:r}))),controller:null==r||-1===r?null:r,clusterId:t}},events:p,fetchOffsets:async({groupId:e,topic:t,resolveOffsets:r=!1})=>{if(!e)throw new m(`Invalid groupId ${e}`);if(!t)throw new m(`Invalid topic ${t}`);const n=await R(A,t),o=await A.findGroupCoordinator({groupId:e}),i=n.map((e=>({partition:e})));let{responses:s}=await o.offsetFetch({groupId:e,topics:[{topic:t,partitions:i}]});if(r){const r=(await M(t)).reduce(((e,{partition:t,...r})=>Object.assign(e,{[t]:{...r}})),{});s=s.map((({topic:e,partitions:t})=>({topic:e,partitions:t.map((({offset:e,partition:t,...n})=>{let o=e;return Number(e)===S&&(o=r[t].low),Number(e)===T&&(o=r[t].high),{partition:t,offset:o,...n}}))})));const[{partitions:n}]=s;await B({groupId:e,topic:t,partitions:n})}return s.filter((e=>e.topic===t)).map((({partitions:e})=>e.map((({partition:e,offset:t,metadata:r})=>({partition:e,offset:t,metadata:r||null}))))).pop()},fetchTopicOffsets:M,fetchTopicOffsetsByTimestamp:async(e,t)=>{if(!e||"string"!=typeof e)throw new m(`Invalid topic ${e}`);return n(r)((async(r,n,o)=>{try{await A.addTargetTopic(e),await A.refreshMetadataIfNecessary();const r=A.findTopicPartitionMetadata(e).map((e=>({partition:e.partitionId}))),n=await A.fetchTopicsOffset([{topic:e,fromBeginning:!1,partitions:r}]),{partitions:o}=n.pop(),i=await A.fetchTopicsOffset([{topic:e,fromTimestamp:t,partitions:r}]),{partitions:s}=i.pop();return s.map((({partition:e,offset:t})=>({partition:e,offset:parseInt(t,10)>=0?t:o.find((({partition:t})=>t===e)).offset})))}catch(e){if("UNKNOWN_TOPIC_OR_PARTITION"===e.type)throw await A.refreshMetadata(),e;r(e)}}))},setOffsets:B,resetOffsets:async({groupId:e,topic:t,earliest:r=!1})=>{if(!e)throw new m(`Invalid groupId ${e}`);if(!t)throw new m(`Invalid topic ${t}`);const n=(await R(A,t)).map((e=>({partition:e,offset:A.defaultOffset({fromBeginning:r})})));return B({groupId:e,topic:t,partitions:n})},describeConfigs:async({resources:e,includeSynonyms:t})=>{if(!e||!Array.isArray(e))throw new m(`Invalid resources array ${e}`);if(0===e.length)throw new m("Resources array cannot be empty");const o=Object.values(y),i=e.find((e=>!o.includes(e.type)));if(i)throw new m(`Invalid resource type ${i.type}: ${JSON.stringify(i)}`);const s=e.find((e=>!e.name||"string"!=typeof e.name));if(s)throw new m(`Invalid resource name ${s.name}: ${JSON.stringify(s)}`);const a=e.find((e=>!Array.isArray(e.configNames)&&null!=e.configNames));if(a){const{configNames:e}=a;throw new m(`Invalid resource configNames ${e}: ${JSON.stringify(a)}`)}return n(r)((async(r,n,o)=>{try{await A.refreshMetadata();const r=await A.findControllerBroker(),n=await j({resources:e,defaultBroker:r}),o=async e=>{const o=e||r;return o.describeConfigs({resources:n.get(o),includeSynonyms:t})},i=Array.from(n.keys());return{resources:(await Promise.all(i.map(o))).reduce(((e,{resources:t})=>[...e,...t]),[])}}catch(e){if("NOT_CONTROLLER"===e.type)throw P.warn("Could not describe configs",{error:e.message,retryCount:n,retryTime:o}),e;r(e)}}))},alterConfigs:async({resources:e,validateOnly:t})=>{if(!e||!Array.isArray(e))throw new m(`Invalid resources array ${e}`);if(0===e.length)throw new m("Resources array cannot be empty");const o=Object.values(y),i=e.find((e=>!o.includes(e.type)));if(i)throw new m(`Invalid resource type ${i.type}: ${JSON.stringify(i)}`);const s=e.find((e=>!e.name||"string"!=typeof e.name));if(s)throw new m(`Invalid resource name ${s.name}: ${JSON.stringify(s)}`);const a=e.find((e=>!Array.isArray(e.configEntries)));if(a){const{configEntries:e}=a;throw new m(`Invalid resource configEntries ${e}: ${JSON.stringify(a)}`)}const c=e.find((e=>e.configEntries.some((e=>"string"!=typeof e.name||"string"!=typeof e.value))));if(c)throw new m(`Invalid resource config value: ${JSON.stringify(c)}`);return n(r)((async(r,n,o)=>{try{await A.refreshMetadata();const r=await A.findControllerBroker(),n=await j({resources:e,defaultBroker:r}),o=async e=>{const o=e||r;return o.alterConfigs({resources:n.get(o),validateOnly:!!t})},i=Array.from(n.keys());return{resources:(await Promise.all(i.map(o))).reduce(((e,{resources:t})=>[...e,...t]),[])}}catch(e){if("NOT_CONTROLLER"===e.type)throw P.warn("Could not alter configs",{error:e.message,retryCount:n,retryTime:o}),e;r(e)}}))},on:(e,t)=>{if(!_.includes(e))throw new m(`Event name should be one of ${N}`);return L.addListener(l(e),(r=>{r.type=u(r.type),Promise.resolve(t(r)).catch((t=>{P.error(`Failed to execute listener: ${t.message}`,{eventName:e,stack:t.stack})}))}))},logger:()=>P,listGroups:async()=>{await A.refreshMetadata();let e=[];for(var t in A.brokerPool.brokers){const r=await A.findBroker({nodeId:t}),n=await r.listGroups();e=e.concat(n.groups)}return{groups:e}},describeGroups:async e=>{const t=await Promise.all(e.map((async e=>({coordinator:await A.findGroupCoordinator({groupId:e}),groupId:e})))),o=Object.values(t.reduce(((e,{coordinator:t,groupId:r})=>{const n=e[t.nodeId];return e[t.nodeId]=n?{...n,groupIds:[...n.groupIds,r]}:{coordinator:t,groupIds:[r]},e}),{})),i=await Promise.all(o.map((async({coordinator:e,groupIds:t})=>{const o=n(r),{groups:i}=await o((()=>e.describeGroups({groupIds:t})));return i})));return{groups:[].concat.apply([],i)}},deleteGroups:async e=>{if(!e||!Array.isArray(e))throw new m(`Invalid groupIds array ${e}`);const t=e.some((e=>"string"!=typeof e));if(t)throw new m(`Invalid groupId name: ${JSON.stringify(t)}`);const i=n(r);let s=[],a=e.slice();return i((async(e,t,r)=>{try{if(0===a.length)return[];await A.refreshMetadata();const e={},t={};for(const r of a){const n=await A.findGroupCoordinator({groupId:r});void 0===e[n.nodeId]&&(e[n.nodeId]=[]),e[n.nodeId].push(r),t[n.nodeId]=n}const r=await Promise.all(Object.keys(t).map((async r=>await t[r].deleteGroups(e[r])))),n=o(r.map((({results:e})=>e.map((({groupId:e,errorCode:t,error:r})=>({groupId:e,errorCode:t,error:r})))))).filter((({errorCode:e})=>0!==e));if(a=n.map((({groupId:e})=>e)),n.length>0)throw new f("Error in DeleteGroups",n);return s=o(r.map((({results:e})=>e))),s}catch(n){if("NOT_CONTROLLER"===n.type||"COORDINATOR_NOT_AVAILABLE"===n.type)throw P.warn("Could not delete groups",{error:n.message,retryCount:t,retryTime:r}),n;e(n)}}))},describeAcls:async({resourceType:e,resourceName:t,resourcePatternType:o,principal:i,host:s,operation:a,permissionType:c})=>{if("string"!=typeof i&&void 0!==i)throw new m("Invalid principal, the principal have to be a valid string");if("string"!=typeof s&&void 0!==s)throw new m("Invalid host, the host have to be a valid string");if("string"!=typeof t&&void 0!==t)throw new m("Invalid resourceName, the resourceName have to be a valid string");if(!Object.values(x).includes(a))throw new m(`Invalid operation type ${a}`);if(!Object.values(I).includes(o))throw new m(`Invalid resource pattern filter type ${o}`);if(!Object.values(w).includes(c))throw new m(`Invalid permission type ${c}`);if(!Object.values(b).includes(e))throw new m(`Invalid resource type ${e}`);return n(r)((async(r,n,p)=>{try{await A.refreshMetadata();const r=await A.findControllerBroker(),{resources:n}=await r.describeAcls({resourceType:e,resourceName:t,resourcePatternType:o,principal:i,host:s,operation:a,permissionType:c});return{resources:n}}catch(e){if("NOT_CONTROLLER"===e.type)throw P.warn("Could not describe ACL",{error:e.message,retryCount:n,retryTime:p}),e;r(e)}}))},deleteAcls:async({filters:e})=>{if(!e||!Array.isArray(e))throw new m(`Invalid ACL Filter array ${e}`);if(0===e.length)throw new m("Empty ACL Filter array");if(e.some((({principal:e})=>"string"!=typeof e&&void 0!==e)))throw new m("Invalid ACL Filter array, the principals have to be a valid string");if(e.some((({host:e})=>"string"!=typeof e&&void 0!==e)))throw new m("Invalid ACL Filter array, the hosts have to be a valid string");if(e.some((({resourceName:e})=>"string"!=typeof e&&void 0!==e)))throw new m("Invalid ACL Filter array, the resourceNames have to be a valid string");let t;const o=Object.values(x);if(t=e.find((e=>!o.includes(e.operation))),t)throw new m(`Invalid operation type ${t.operation}: ${JSON.stringify(t)}`);const i=Object.values(I);if(t=e.find((e=>!i.includes(e.resourcePatternType))),t)throw new m(`Invalid resource pattern type ${t.resourcePatternType}: ${JSON.stringify(t)}`);const s=Object.values(w);if(t=e.find((e=>!s.includes(e.permissionType))),t)throw new m(`Invalid permission type ${t.permissionType}: ${JSON.stringify(t)}`);const a=Object.values(b);if(t=e.find((e=>!a.includes(e.resourceType))),t)throw new m(`Invalid resource type ${t.resourceType}: ${JSON.stringify(t)}`);return n(r)((async(t,r,n)=>{try{await A.refreshMetadata();const t=await A.findControllerBroker(),{filterResponses:r}=await t.deleteAcls({filters:e});return{filterResponses:r}}catch(e){if("NOT_CONTROLLER"===e.type)throw P.warn("Could not delete ACL",{error:e.message,retryCount:r,retryTime:n}),e;t(e)}}))},createAcls:async({acl:e})=>{if(!e||!Array.isArray(e))throw new m(`Invalid ACL array ${e}`);if(0===e.length)throw new m("Empty ACL array");if(e.some((({principal:e})=>"string"!=typeof e)))throw new m("Invalid ACL array, the principals have to be a valid string");if(e.some((({host:e})=>"string"!=typeof e)))throw new m("Invalid ACL array, the hosts have to be a valid string");if(e.some((({resourceName:e})=>"string"!=typeof e)))throw new m("Invalid ACL array, the resourceNames have to be a valid string");let t;const o=Object.values(x);if(t=e.find((e=>!o.includes(e.operation))),t)throw new m(`Invalid operation type ${t.operation}: ${JSON.stringify(t)}`);const i=Object.values(I);if(t=e.find((e=>!i.includes(e.resourcePatternType))),t)throw new m(`Invalid resource pattern type ${t.resourcePatternType}: ${JSON.stringify(t)}`);const s=Object.values(w);if(t=e.find((e=>!s.includes(e.permissionType))),t)throw new m(`Invalid permission type ${t.permissionType}: ${JSON.stringify(t)}`);const a=Object.values(b);if(t=e.find((e=>!a.includes(e.resourceType))),t)throw new m(`Invalid resource type ${t.resourceType}: ${JSON.stringify(t)}`);return n(r)((async(t,r,n)=>{try{await A.refreshMetadata();const t=await A.findControllerBroker();return await t.createAcls({acl:e}),!0}catch(e){if("NOT_CONTROLLER"===e.type)throw P.warn("Could not create ACL",{error:e.message,retryCount:r,retryTime:n}),e;t(e)}}))},deleteTopicRecords:async({topic:e,partitions:t})=>{if(!e||"string"!=typeof e)throw new m(`Invalid topic "${e}"`);if(!t||0===t.length)throw new m("Invalid partitions");const i=A.findLeaderForPartitions(e,t.map((e=>e.partition))),s=o(C(i)),a=await M(e),c=[];if(t.forEach((({partition:t,offset:r})=>{if(!s.includes(t))return void c.push({partition:t,offset:r,error:new h("Could not find the leader for the partition",{retriable:!1})});const{low:n}=a.find((e=>e.partition===t))||{high:void 0,low:void 0};parseInt(r)<parseInt(n)&&P.warn("The requested offset is before the earliest offset maintained on the partition - no records will be deleted from this partition",{topic:e,partition:t,offset:r})})),c.length>0)throw new g({topic:e,partitions:c});const p=O(i).reduce(((r,[n,o])=>(r[n]={topic:e,partitions:t.filter((e=>o.includes(e.partition)))},r)),{});return n(r)((async t=>{try{const t=[],r=O(p).map((([e,{topic:t,partitions:r}])=>async()=>{const n=await A.findBroker({nodeId:e});await n.deleteRecords({topics:[{topic:t,partitions:r}]}),delete p[e]}));if(await Promise.all(r.map((e=>e().catch((e=>{if("KafkaJSDeleteTopicRecordsError"!==e.name)throw e;e.partitions.forEach((({partition:e,offset:r,error:n})=>{t.push({partition:e,offset:r,error:n})}))}))))),t.length>0)throw new g({topic:e,partitions:t})}catch(e){throw e.retriable&&e.partitions.some((({error:e})=>v(e)||"KafkaJSMetadataNotLoaded"===e.name))&&await A.refreshMetadata(),e}}))}}}},7881:(e,t,r)=>{const n=r(76),o=r(8202),i=r(1429)("admin"),s={CONNECT:i("connect"),DISCONNECT:i("disconnect"),REQUEST:i(o.NETWORK_REQUEST),REQUEST_TIMEOUT:i(o.NETWORK_REQUEST_TIMEOUT),REQUEST_QUEUE_SIZE:i(o.NETWORK_REQUEST_QUEUE_SIZE)},a={[s.REQUEST]:o.NETWORK_REQUEST,[s.REQUEST_TIMEOUT]:o.NETWORK_REQUEST_TIMEOUT,[s.REQUEST_QUEUE_SIZE]:o.NETWORK_REQUEST_QUEUE_SIZE},c=n(a);e.exports={events:s,wrap:e=>c[e]||e,unwrap:e=>a[e]||e}},266:(e,t,r)=>{const n=r(3278),o=r(4105),{Types:i}=r(2972),{requests:s,lookup:a}=r(3146),{KafkaJSNonRetriableError:c}=r(9879),p=r(9211),u=r(722),l=r(2464),d=Symbol("private:Broker:shouldReauthenticate"),m=Symbol("private:Broker:sendRequest");e.exports=class{constructor({connection:e,logger:t,nodeId:r=null,versions:i=null,authenticationTimeout:s=1e3,reauthenticationThreshold:a=1e4,allowAutoTopicCreation:c=!0,supportAuthenticationProtocol:p=null}){this.connection=e,this.nodeId=r,this.rootLogger=t,this.logger=t.namespace("Broker"),this.versions=i,this.authenticationTimeout=s,this.reauthenticationThreshold=a,this.allowAutoTopicCreation=c,this.supportAuthenticationProtocol=p,this.authenticatedAt=null,this.sessionLifetime=n.ZERO;const u=2*this.connection.connectionTimeout+this.authenticationTimeout;this.brokerAddress=`${this.connection.host}:${this.connection.port}`,this.lock=new o({timeout:u,description:`connect to broker ${this.brokerAddress}`}),this.lookupRequest=()=>{throw new Error("Broker not connected")}}isConnected(){const{connected:e,sasl:t}=this.connection,r=null!=this.authenticatedAt&&!this[d]();return t?e&&r:e}async connect(){try{if(await this.lock.acquire(),this.isConnected())return;if(this.authenticatedAt=null,await this.connection.connect(),this.versions||(this.versions=await this.apiVersions()),this.lookupRequest=a(this.versions),null===this.supportAuthenticationProtocol){try{this.lookupRequest(p.SaslAuthenticate,s.SaslAuthenticate),this.supportAuthenticationProtocol=!0}catch(e){this.supportAuthenticationProtocol=!1}this.logger.debug("Verified support for SaslAuthenticate",{broker:this.brokerAddress,supportAuthenticationProtocol:this.supportAuthenticationProtocol})}if(null==this.authenticatedAt&&this.connection.sasl){const e=new u(this.connection,this.rootLogger,this.versions,this.supportAuthenticationProtocol);await e.authenticate(),this.authenticatedAt=process.hrtime(),this.sessionLifetime=n.fromValue(e.sessionLifetime)}}finally{await this.lock.release()}}async disconnect(){this.authenticatedAt=null,await this.connection.disconnect()}async apiVersions(){let e;const t=s.ApiVersions.versions.map(Number).sort().reverse();for(const r of t)try{const t=s.ApiVersions.protocol({version:r});e=await this[m]({...t(),requestTimeout:this.connection.connectionTimeout});break}catch(e){if("UNSUPPORTED_VERSION"!==e.type)throw e}if(!e)throw new c("API Versions not supported");return e.apiVersions.reduce(((e,t)=>Object.assign(e,{[t.apiKey]:{minVersion:t.minVersion,maxVersion:t.maxVersion}})),{})}async metadata(e=[]){const t=this.lookupRequest(p.Metadata,s.Metadata),r=l(e);return await this[m](t({topics:r,allowAutoTopicCreation:this.allowAutoTopicCreation}))}async produce({topicData:e,transactionalId:t,producerId:r,producerEpoch:n,acks:o=-1,timeout:a=3e4,compression:c=i.None}){const u=this.lookupRequest(p.Produce,s.Produce);return await this[m](u({acks:o,timeout:a,compression:c,topicData:e,transactionalId:t,producerId:r,producerEpoch:n}))}async fetch({replicaId:e,isolationLevel:t,maxWaitTime:r=5e3,minBytes:n=1,maxBytes:o=10485760,topics:i,rackId:a=""}){const c=this.lookupRequest(p.Fetch,s.Fetch),u=i.reduce(((e,{topic:t,partitions:r})=>(r.forEach((r=>{e.push({topic:t,partition:r})})),e)),[]),d=l(u).reduce(((e,{topic:t,partition:r})=>{const n=e[e.length-1];return null!=n&&n.topic===t?e[e.length-1].partitions.push(r):e.push({topic:t,partitions:[r]}),e}),[]);return await this[m](c({replicaId:e,isolationLevel:t,maxWaitTime:r,minBytes:n,maxBytes:o,topics:d,rackId:a}))}async heartbeat({groupId:e,groupGenerationId:t,memberId:r}){const n=this.lookupRequest(p.Heartbeat,s.Heartbeat);return await this[m](n({groupId:e,groupGenerationId:t,memberId:r}))}async findGroupCoordinator({groupId:e,coordinatorType:t}){const r=this.lookupRequest(p.GroupCoordinator,s.GroupCoordinator);return await this[m](r({groupId:e,coordinatorType:t}))}async joinGroup({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:n="",protocolType:o="consumer",groupProtocols:i}){const a=this.lookupRequest(p.JoinGroup,s.JoinGroup),c=(s=n)=>this[m](a({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:s,protocolType:o,groupProtocols:i}));try{return await c()}catch(e){if("KafkaJSMemberIdRequired"===e.name)return c(e.memberId);throw e}}async leaveGroup({groupId:e,memberId:t}){const r=this.lookupRequest(p.LeaveGroup,s.LeaveGroup);return await this[m](r({groupId:e,memberId:t}))}async syncGroup({groupId:e,generationId:t,memberId:r,groupAssignment:n}){const o=this.lookupRequest(p.SyncGroup,s.SyncGroup);return await this[m](o({groupId:e,generationId:t,memberId:r,groupAssignment:n}))}async listOffsets({replicaId:e,isolationLevel:t,topics:r}){const n=this.lookupRequest(p.ListOffsets,s.ListOffsets),o=await this[m](n({replicaId:e,isolationLevel:t,topics:r}));for(const e of o.responses)e.partitions=e.partitions.map((({offsets:e,...t})=>e?{...t,offset:e.pop()}:t));return o}async offsetCommit({groupId:e,groupGenerationId:t,memberId:r,retentionTime:n,topics:o}){const i=this.lookupRequest(p.OffsetCommit,s.OffsetCommit);return await this[m](i({groupId:e,groupGenerationId:t,memberId:r,retentionTime:n,topics:o}))}async offsetFetch({groupId:e,topics:t}){const r=this.lookupRequest(p.OffsetFetch,s.OffsetFetch);return await this[m](r({groupId:e,topics:t}))}async describeGroups({groupIds:e}){const t=this.lookupRequest(p.DescribeGroups,s.DescribeGroups);return await this[m](t({groupIds:e}))}async createTopics({topics:e,validateOnly:t=!1,timeout:r=5e3}){const n=this.lookupRequest(p.CreateTopics,s.CreateTopics);return await this[m](n({topics:e,validateOnly:t,timeout:r}))}async createPartitions({topicPartitions:e,validateOnly:t=!1,timeout:r=5e3}){const n=this.lookupRequest(p.CreatePartitions,s.CreatePartitions);return await this[m](n({topicPartitions:e,validateOnly:t,timeout:r}))}async deleteTopics({topics:e,timeout:t=5e3}){const r=this.lookupRequest(p.DeleteTopics,s.DeleteTopics);return await this[m](r({topics:e,timeout:t}))}async describeConfigs({resources:e,includeSynonyms:t=!1}){const r=this.lookupRequest(p.DescribeConfigs,s.DescribeConfigs);return await this[m](r({resources:e,includeSynonyms:t}))}async alterConfigs({resources:e,validateOnly:t=!1}){const r=this.lookupRequest(p.AlterConfigs,s.AlterConfigs);return await this[m](r({resources:e,validateOnly:t}))}async initProducerId({transactionalId:e,transactionTimeout:t}){const r=this.lookupRequest(p.InitProducerId,s.InitProducerId);return await this[m](r({transactionalId:e,transactionTimeout:t}))}async addPartitionsToTxn({transactionalId:e,producerId:t,producerEpoch:r,topics:n}){const o=this.lookupRequest(p.AddPartitionsToTxn,s.AddPartitionsToTxn);return await this[m](o({transactionalId:e,producerId:t,producerEpoch:r,topics:n}))}async addOffsetsToTxn({transactionalId:e,producerId:t,producerEpoch:r,groupId:n}){const o=this.lookupRequest(p.AddOffsetsToTxn,s.AddOffsetsToTxn);return await this[m](o({transactionalId:e,producerId:t,producerEpoch:r,groupId:n}))}async txnOffsetCommit({transactionalId:e,groupId:t,producerId:r,producerEpoch:n,topics:o}){const i=this.lookupRequest(p.TxnOffsetCommit,s.TxnOffsetCommit);return await this[m](i({transactionalId:e,groupId:t,producerId:r,producerEpoch:n,topics:o}))}async endTxn({transactionalId:e,producerId:t,producerEpoch:r,transactionResult:n}){const o=this.lookupRequest(p.EndTxn,s.EndTxn);return await this[m](o({transactionalId:e,producerId:t,producerEpoch:r,transactionResult:n}))}async listGroups(){const e=this.lookupRequest(p.ListGroups,s.ListGroups);return await this[m](e())}async deleteGroups(e){const t=this.lookupRequest(p.DeleteGroups,s.DeleteGroups);return await this[m](t(e))}async deleteRecords({topics:e}){const t=this.lookupRequest(p.DeleteRecords,s.DeleteRecords);return await this[m](t({topics:e}))}async createAcls({acl:e}){const t=this.lookupRequest(p.CreateAcls,s.CreateAcls);return await this[m](t({creations:e}))}async describeAcls({resourceType:e,resourceName:t,resourcePatternType:r,principal:n,host:o,operation:i,permissionType:a}){const c=this.lookupRequest(p.DescribeAcls,s.DescribeAcls);return await this[m](c({resourceType:e,resourceName:t,resourcePatternType:r,principal:n,host:o,operation:i,permissionType:a}))}async deleteAcls({filters:e}){const t=this.lookupRequest(p.DeleteAcls,s.DeleteAcls);return await this[m](t({filters:e}))}[d](){if(this.sessionLifetime.equals(n.ZERO))return!1;if(null==this.authenticatedAt)return!0;const[e,t]=process.hrtime(this.authenticatedAt);return n.fromValue(e).multiply(1e3).add(n.fromValue(t).divide(1e6)).add(this.reauthenticationThreshold).greaterThanOrEqual(this.sessionLifetime)}async[m](e){try{return await this.connection.send(e)}catch(e){throw"KafkaJSConnectionClosedError"===e.name&&await this.disconnect(),e}}}},8931:(e,t,r)=>{const n=r(1128),{KafkaJSSASLAuthenticationError:o}=r(9879);e.exports=class{constructor(e,t,r){this.connection=e,this.logger=t.namespace("SASLAWSIAMAuthenticator"),this.saslAuthenticate=r}async authenticate(){const{sasl:e}=this.connection;if(!e.authorizationIdentity)throw new o("SASL AWS-IAM: Missing authorizationIdentity");if(!e.accessKeyId)throw new o("SASL AWS-IAM: Missing accessKeyId");if(!e.secretAccessKey)throw new o("SASL AWS-IAM: Missing secretAccessKey");e.sessionToken||(e.sessionToken="");const t=n.request(e),r=n.response,{host:i,port:s}=this.connection,a=`${i}:${s}`;try{this.logger.debug("Authenticate with SASL AWS-IAM",{broker:a}),await this.saslAuthenticate({request:t,response:r}),this.logger.debug("SASL AWS-IAM authentication successful",{broker:a})}catch(e){const t=new o(`SASL AWS-IAM authentication failed: ${e.message}`);throw this.logger.error(t.message,{broker:a}),t}}}},722:(e,t,r)=>{const{requests:n,lookup:o}=r(3146),i=r(9211),s=r(7891),a=r(5667),c=r(527),p=r(8931),u=r(3938),{KafkaJSSASLAuthenticationError:l}=r(9879),d={PLAIN:s,"SCRAM-SHA-256":a,"SCRAM-SHA-512":c,AWS:p,OAUTHBEARER:u},m=Object.keys(d);e.exports=class{constructor(e,t,r,s){this.connection=e,this.logger=t,this.sessionLifetime="0";const a=o(r);this.saslHandshake=a(i.SaslHandshake,n.SaslHandshake),this.protocolAuthentication=s?a(i.SaslAuthenticate,n.SaslAuthenticate):null}async authenticate(){const e=this.connection.sasl.mechanism.toUpperCase();if(!m.includes(e))throw new l(`SASL ${e} mechanism is not supported by the client`);if(!(await this.connection.send(this.saslHandshake({mechanism:e}))).enabledMechanisms.includes(e))throw new l(`SASL ${e} mechanism is not supported by the server`);const t=d[e];await new t(this.connection,this.logger,(async({request:e,response:t,authExpectResponse:r})=>{if(this.protocolAuthentication){const{buffer:n}=await e.encode(),o=await this.connection.send(this.protocolAuthentication({authBytes:n}));if(this.sessionLifetime=o.sessionLifetimeMs||"0",!r)return;const{authBytes:i}=o,s=await t.decode(i);return t.parse(s)}return this.connection.authenticate({request:e,response:t,authExpectResponse:r})})).authenticate()}}},3938:(e,t,r)=>{const n=r(3860),{KafkaJSSASLAuthenticationError:o}=r(9879);e.exports=class{constructor(e,t,r){this.connection=e,this.logger=t.namespace("SASLOAuthBearerAuthenticator"),this.saslAuthenticate=r}async authenticate(){const{sasl:e}=this.connection;if(null==e.oauthBearerProvider)throw new o("SASL OAUTHBEARER: Missing OAuth bearer token provider");const{oauthBearerProvider:t}=e,r=await t();if(null==r.value)throw new o("SASL OAUTHBEARER: Invalid OAuth bearer token");const i=await n.request(e,r),s=n.response,{host:a,port:c}=this.connection,p=`${a}:${c}`;try{this.logger.debug("Authenticate with SASL OAUTHBEARER",{broker:p}),await this.saslAuthenticate({request:i,response:s}),this.logger.debug("SASL OAUTHBEARER authentication successful",{broker:p})}catch(e){const t=new o(`SASL OAUTHBEARER authentication failed: ${e.message}`);throw this.logger.error(t.message,{broker:p}),t}}}},7891:(e,t,r)=>{const n=r(7733),{KafkaJSSASLAuthenticationError:o}=r(9879);e.exports=class{constructor(e,t,r){this.connection=e,this.logger=t.namespace("SASLPlainAuthenticator"),this.saslAuthenticate=r}async authenticate(){const{sasl:e}=this.connection;if(null==e.username||null==e.password)throw new o("SASL Plain: Invalid username or password");const t=n.request(e),r=n.response,{host:i,port:s}=this.connection,a=`${i}:${s}`;try{this.logger.debug("Authenticate with SASL PLAIN",{broker:a}),await this.saslAuthenticate({request:t,response:r}),this.logger.debug("SASL PLAIN authentication successful",{broker:a})}catch(e){const t=new o(`SASL PLAIN authentication failed: ${e.message}`);throw this.logger.error(t.message,{broker:a}),t}}}},1818:(e,t,r)=>{const n=r(6417),o=r(2337),{KafkaJSSASLAuthenticationError:i,KafkaJSNonRetriableError:s}=r(9879),a=/=/g,c=/,/g,p=/\+/g,u=/\//g,l=/=+$/,d=e=>Buffer.from(e).toString("base64");class m{static sanitizeString(e){return e.replace(a,"=3D").replace(c,"=2C")}static nonce(){return n.randomBytes(16).toString("base64").replace(p,"-").replace(u,"_").replace(l,"").toString("ascii")}static hi(e,t,r,o){return new Promise(((i,s)=>{n.pbkdf2(e,t,r,o.length,o.type,((e,t)=>e?s(e):i(t)))}))}static xor(e,t){const r=Buffer.from(e),n=Buffer.from(t),o=Buffer.byteLength(r);if(o!==Buffer.byteLength(n))throw new s("Buffers must be of the same length");const i=[];for(let e=0;e<o;e++)i.push(r[e]^n[e]);return Buffer.from(i)}constructor(e,t,r,n){this.connection=e,this.logger=t,this.saslAuthenticate=r,this.digestDefinition=n;const o=n.type.toUpperCase();this.PREFIX=`SASL SCRAM ${o} authentication`,this.currentNonce=m.nonce()}async authenticate(){const{PREFIX:e}=this,{host:t,port:r,sasl:n}=this.connection,o=`${t}:${r}`;if(null==n.username||null==n.password)throw new i(`${this.PREFIX}: Invalid username or password`);try{this.logger.debug("Exchanging first client message",{broker:o});const t=await this.sendClientFirstMessage();this.logger.debug("Sending final message",{broker:o});const r=await this.sendClientFinalMessage(t);if(r.e)throw new Error(r.e);const n=await this.serverKey(t),i=this.serverSignature(n,t);if(r.v!==i)throw new Error("Invalid server signature in server final message");this.logger.debug(`${e} successful`,{broker:o})}catch(t){const r=new i(`${e} failed: ${t.message}`);throw this.logger.error(r.message,{broker:o}),r}}async sendClientFirstMessage(){const e=`n,,${this.firstMessageBare()}`,t=o.firstMessage.request({clientFirstMessage:e}),r=o.firstMessage.response;return this.saslAuthenticate({authExpectResponse:!0,request:t,response:r})}async sendClientFinalMessage(e){const{PREFIX:t}=this,r=parseInt(e.i,10),{minIterations:n}=this.digestDefinition;if(!e.r.startsWith(this.currentNonce))throw new i(`${t} failed: Invalid server nonce, it does not start with the client nonce`);if(r<n)throw new i(`${t} failed: Requested iterations ${r} is less than the minimum ${n}`);const s=`${this.finalMessageWithoutProof(e)},p=${await this.clientProof(e)}`,a=o.finalMessage.request({finalMessage:s}),c=o.finalMessage.response;return this.saslAuthenticate({authExpectResponse:!0,request:a,response:c})}async clientProof(e){const t=await this.clientKey(e),r=this.H(t),n=this.clientSignature(r,e);return d(m.xor(t,n))}async clientKey(e){const t=await this.saltPassword(e);return this.HMAC(t,"Client Key")}async serverKey(e){const t=await this.saltPassword(e);return this.HMAC(t,"Server Key")}clientSignature(e,t){return this.HMAC(e,this.authMessage(t))}serverSignature(e,t){return d(this.HMAC(e,this.authMessage(t)))}authMessage(e){return[this.firstMessageBare(),e.original,this.finalMessageWithoutProof(e)].join(",")}async saltPassword(e){const t=Buffer.from(e.s,"base64"),r=parseInt(e.i,10);return m.hi(this.encodedPassword(),t,r,this.digestDefinition)}firstMessageBare(){return`n=${this.encodedUsername()},r=${this.currentNonce}`}finalMessageWithoutProof(e){const t=e.r;return`c=${d("n,,")},r=${t}`}encodedUsername(){const{username:e}=this.connection.sasl;return m.sanitizeString(e).toString("utf-8")}encodedPassword(){const{password:e}=this.connection.sasl;return e.toString("utf-8")}H(e){return n.createHash(this.digestDefinition.type).update(e).digest()}HMAC(e,t){return n.createHmac(this.digestDefinition.type,e).update(t).digest()}}e.exports={DIGESTS:{SHA256:{length:32,type:"sha256",minIterations:4096},SHA512:{length:64,type:"sha512",minIterations:4096}},SCRAM:m}},5667:(e,t,r)=>{const{SCRAM:n,DIGESTS:o}=r(1818);e.exports=class extends n{constructor(e,t,r){super(e,t.namespace("SCRAM256Authenticator"),r,o.SHA256)}}},527:(e,t,r)=>{const{SCRAM:n,DIGESTS:o}=r(1818);e.exports=class extends n{constructor(e,t,r){super(e,t.namespace("SCRAM512Authenticator"),r,o.SHA512)}}},1625:(e,t,r)=>{const n=r(266),o=r(9701),i=r(2464),s=r(8351),{KafkaJSBrokerNotFound:a,KafkaJSProtocolError:c}=r(9879),{keys:p,assign:u,values:l}=Object;e.exports=class{constructor({connectionBuilder:e,logger:t,retry:r,allowAutoTopicCreation:i,authenticationTimeout:s,reauthenticationThreshold:a,metadataMaxAge:c}){this.rootLogger=t,this.connectionBuilder=e,this.metadataMaxAge=c||0,this.logger=t.namespace("BrokerPool"),this.retrier=o(u({},r)),this.createBroker=e=>new n({allowAutoTopicCreation:i,authenticationTimeout:s,reauthenticationThreshold:a,...e}),this.brokers={},this.metadata=null,this.metadataExpireAt=null,this.versions=null,this.supportAuthenticationProtocol=null}hasConnectedBrokers(){return!!l(this.brokers).find((e=>e.isConnected()))||!!this.seedBroker&&this.seedBroker.isConnected()}async createSeedBroker(){this.seedBroker&&await this.seedBroker.disconnect(),this.seedBroker=this.createBroker({connection:await this.connectionBuilder.build(),logger:this.rootLogger})}async connect(){if(!this.hasConnectedBrokers())return this.seedBroker||await this.createSeedBroker(),this.retrier((async(e,t,r)=>{try{await this.seedBroker.connect(),this.versions=this.seedBroker.versions}catch(n){if("KafkaJSConnectionError"===n.name||"ILLEGAL_SASL_STATE"===n.type?(await this.createSeedBroker(),this.logger.error(`Failed to connect to seed broker, trying another broker from the list: ${n.message}`,{retryCount:t,retryTime:r})):this.logger.error(n.message,{retryCount:t,retryTime:r}),n.retriable)throw n;e(n)}}))}async disconnect(){this.seedBroker&&await this.seedBroker.disconnect(),await Promise.all(l(this.brokers).map((e=>e.disconnect()))),this.brokers={},this.metadata=null,this.versions=null,this.supportAuthenticationProtocol=null}removeBroker({host:e,port:t}){const r=l(this.brokers).find((r=>r.connection.host===e&&r.connection.port===t));r&&(delete this.brokers[r.nodeId],this.metadataExpireAt=null,this.seedBroker.nodeId===r.nodeId&&(this.seedBroker=i(l(this.brokers))[0]))}async refreshMetadata(e){const t=await this.findConnectedBroker(),{host:r,port:n}=this.seedBroker.connection;return this.retrier((async(o,i,a)=>{try{this.metadata=await t.metadata(e),this.metadataExpireAt=Date.now()+this.metadataMaxAge;const o=[];this.brokers=await this.metadata.brokers.reduce((async(e,{nodeId:t,host:i,port:s,rack:a})=>{const c=await e;if(c[t]){if(!((e,{host:t,port:r,rack:n})=>e.connection.host!==t||e.connection.port!==r||e.connection.rack!==n)(c[t],{host:i,port:s,rack:a}))return c;o.push(c[t])}return i===r&&s===n?(this.seedBroker.nodeId=t,this.seedBroker.connection.rack=a,u(c,{[t]:this.seedBroker})):u(c,{[t]:this.createBroker({logger:this.rootLogger,versions:this.versions,supportAuthenticationProtocol:this.supportAuthenticationProtocol,connection:await this.connectionBuilder.build({host:i,port:s,rack:a}),nodeId:t})})}),this.brokers);const i=this.metadata.brokers.map((({nodeId:e})=>`${e}`)).sort(),a=p(this.brokers).sort(),c=s(a,i).map((e=>this.brokers[e].disconnect().then((()=>{delete this.brokers[e]})))),l=o.map((e=>e.disconnect()));await Promise.all([...c,...l])}catch(e){if("LEADER_NOT_AVAILABLE"===e.type)throw e;o(e)}}))}async refreshMetadataIfNecessary(e){if(null==this.metadata||null==this.metadataExpireAt||Date.now()>this.metadataExpireAt||!e.every((e=>this.metadata.topicMetadata.some((t=>t.topic===e)))))return this.refreshMetadata(e)}async findBroker({nodeId:e}){const t=this.brokers[e];if(!t)throw new a(`Broker ${e} not found in the cached metadata`);return await this.connectBroker(t),t}async withBroker(e){const t=i(p(this.brokers));if(0===t.length)throw new a("No brokers in the broker pool");for(const r of t){const t=await this.findBroker({nodeId:r});try{return await e({nodeId:r,broker:t})}catch(e){}}return null}async findConnectedBroker(){const e=i(p(this.brokers)),t=e.find((e=>this.brokers[e].isConnected()));if(t)return await this.findBroker({nodeId:t});for(const t of e)try{return await this.findBroker({nodeId:t})}catch(e){}return await this.connect(),this.seedBroker}async connectBroker(e){if(!e.isConnected())return this.retrier((async(t,r,n)=>{try{await e.connect()}catch(o){if("KafkaJSConnectionError"!==o.name&&"ILLEGAL_SASL_STATE"!==o.type||await e.disconnect(),"KafkaJSConnectionError"===o.name)return t(o);if("ILLEGAL_SASL_STATE"===o.type)throw e.connection=await this.connectionBuilder.build({host:e.connection.host,port:e.connection.port,rack:e.connection.rack}),this.logger.error("Failed to connect to broker, reconnecting",{retryCount:r,retryTime:n}),new c(o,{retriable:!0});if(o.retriable)throw o;this.logger.error(o,{retryCount:r,retryTime:n,stack:o.stack}),t(o)}}))}}},5482:(e,t,r)=>{const n=r(2109),{KafkaJSConnectionError:o,KafkaJSNonRetriableError:i}=r(9879);e.exports=({socketFactory:e,brokers:t,ssl:r,sasl:s,clientId:a,requestTimeout:c,enforceRequestTimeout:p,connectionTimeout:u,maxInFlightRequests:l,retry:d,logger:m,instrumentationEmitter:f=null})=>{let h=0;return{build:async({host:g,port:v,rack:y}={})=>{if(!g){const e=await(async()=>{if(!t)throw new i("Failed to connect: brokers parameter should not be null");if(Array.isArray(t)){if(!t.length)throw new i("Failed to connect: brokers array is empty");return t}let e;try{e=await t()}catch(e){const t=new o(`Failed to connect: "config.brokers" threw: ${e.message}`);throw t.stack=`${t.name}\n  Caused by: ${e.stack}`,t}if(!e||0===e.length)throw new o('Failed to connect: "config.brokers" returned void or empty array');return e})(),r=e[h++%e.length];g=r.split(":")[0],v=Number(r.split(":")[1])}return new n({host:g,port:v,rack:y,sasl:s,ssl:r,clientId:a,socketFactory:e,connectionTimeout:u,requestTimeout:c,enforceRequestTimeout:p,maxInFlightRequests:l,instrumentationEmitter:f,retry:d,logger:m})}}}},8048:(e,t,r)=>{const n=r(1625),o=r(4105),i=r(9701),s=r(5482),a=r(4358),{EARLIEST_OFFSET:c,LATEST_OFFSET:p}=r(3904),{KafkaJSError:u,KafkaJSBrokerNotFound:l,KafkaJSMetadataNotLoaded:d,KafkaJSTopicMetadataNotLoaded:m,KafkaJSGroupCoordinatorNotFound:f}=r(9879),h=r(7022),{keys:g}=Object,v=(e,{topic:t,partitions:r})=>({...e,[t]:[...e[t]||[],...r]});e.exports=class{constructor({logger:e,socketFactory:t,brokers:r,ssl:a,sasl:c,clientId:p,connectionTimeout:u,authenticationTimeout:l,reauthenticationThreshold:d,requestTimeout:m=3e4,enforceRequestTimeout:f,metadataMaxAge:h,retry:g,allowAutoTopicCreation:v,maxInFlightRequests:y,isolationLevel:b,instrumentationEmitter:x=null,offsets:w=new Map}){this.rootLogger=e,this.logger=e.namespace("Cluster"),this.retry={...g},this.retrier=i(this.retry),this.connectionBuilder=s({logger:e,instrumentationEmitter:x,socketFactory:t,brokers:r,ssl:a,sasl:c,clientId:p,connectionTimeout:u,requestTimeout:m,enforceRequestTimeout:f,maxInFlightRequests:y,retry:g}),this.targetTopics=new Set,this.mutatingTargetTopics=new o({description:"updating target topics",timeout:m}),this.isolationLevel=b,this.brokerPool=new n({connectionBuilder:this.connectionBuilder,logger:this.rootLogger,retry:g,allowAutoTopicCreation:v,authenticationTimeout:l,reauthenticationThreshold:d,metadataMaxAge:h}),this.committedOffsetsByGroup=w}isConnected(){return this.brokerPool.hasConnectedBrokers()}async connect(){await this.brokerPool.connect()}async disconnect(){await this.brokerPool.disconnect()}removeBroker({host:e,port:t}){this.brokerPool.removeBroker({host:e,port:t})}async refreshMetadata(){await this.brokerPool.refreshMetadata(Array.from(this.targetTopics))}async refreshMetadataIfNecessary(){await this.brokerPool.refreshMetadataIfNecessary(Array.from(this.targetTopics))}async metadata({topics:e=[]}={}){return this.retrier((async(t,r,n)=>{try{return await this.brokerPool.refreshMetadataIfNecessary(e),this.brokerPool.withBroker((async({broker:t})=>t.metadata(e)))}catch(e){if("LEADER_NOT_AVAILABLE"===e.type)throw e;t(e)}}))}async addTargetTopic(e){return this.addMultipleTargetTopics([e])}async addMultipleTargetTopics(e){await this.mutatingTargetTopics.acquire();try{const t=this.targetTopics.size,r=new Set(this.targetTopics);for(const t of e)this.targetTopics.add(t);if(t!==this.targetTopics.size||!this.brokerPool.metadata)try{await this.refreshMetadata()}catch(e){throw"INVALID_TOPIC_EXCEPTION"!==e.type&&"UNKNOWN_TOPIC_OR_PARTITION"!==e.type||(this.targetTopics=r),e}}finally{await this.mutatingTargetTopics.release()}}async findBroker({nodeId:e}){try{return await this.brokerPool.findBroker({nodeId:e})}catch(e){throw"KafkaJSBrokerNotFound"!==e.name&&"KafkaJSLockTimeout"!==e.name&&"KafkaJSConnectionError"!==e.name||await this.refreshMetadata(),e}}async findControllerBroker(){const{metadata:e}=this.brokerPool;if(!e||null==e.controllerId)throw new d("Topic metadata not loaded");const t=await this.findBroker({nodeId:e.controllerId});if(!t)throw new l(`Controller broker with id ${e.controllerId} not found in the cached metadata`);return t}findTopicPartitionMetadata(e){const{metadata:t}=this.brokerPool;if(!t||!t.topicMetadata)throw new m("Topic metadata not loaded",{topic:e});const r=t.topicMetadata.find((t=>t.topic===e));return r?r.partitionMetadata:[]}findLeaderForPartitions(e,t){const r=this.findTopicPartitionMetadata(e);return t.reduce(((t,n)=>{const o=parseInt(n,10),i=r.find((e=>e.partitionId===o));if(!i)return t;if(null===i.leader||void 0===i.leader)throw new u("Invalid partition metadata",{topic:e,partitionId:o,metadata:i});const{leader:s}=i,a=t[s]||[];return{...t,[s]:[...a,o]}}),{})}async findGroupCoordinator({groupId:e,coordinatorType:t=h.GROUP}){return this.retrier((async(r,n,o)=>{try{const{coordinator:r}=await this.findGroupCoordinatorMetadata({groupId:e,coordinatorType:t});return await this.findBroker({nodeId:r.nodeId})}catch(t){if("KafkaJSBrokerNotFound"===t.name||"GROUP_COORDINATOR_NOT_AVAILABLE"===t.type)throw this.logger.debug(`${t.message}, refreshing metadata and trying again...`,{groupId:e,retryCount:n,retryTime:o}),await this.refreshMetadata(),t;if("ECONNREFUSED"===t.code)throw t;r(t)}}))}async findGroupCoordinatorMetadata({groupId:e,coordinatorType:t}){const r=await this.brokerPool.withBroker((async({nodeId:r,broker:n})=>await this.retrier((async(o,i,s)=>{try{const r=await n.findGroupCoordinator({groupId:e,coordinatorType:t});return this.logger.debug("Found group coordinator",{broker:r.host,nodeId:r.coordinator.nodeId}),r}catch(e){if(this.logger.debug("Tried to find group coordinator",{nodeId:r,error:e}),"GROUP_COORDINATOR_NOT_AVAILABLE"===e.type)throw this.logger.debug("Group coordinator not available, retrying...",{nodeId:r,retryCount:i,retryTime:s}),e;o(e)}}))));if(r)return r;throw new f("Failed to find group coordinator")}defaultOffset({fromBeginning:e}){return e?c:p}async fetchTopicsOffset(e){const t={},r={},n=e=>t=>{const{timestamp:n}=r[e];return{...t,timestamp:n}};for(const n of e){const{topic:e,partitions:o,fromBeginning:i,fromTimestamp:s}=n,a=this.findLeaderForPartitions(e,o.map((e=>e.partition))),c=null!=s?s:this.defaultOffset({fromBeginning:i});r[e]={timestamp:c},g(a).map((r=>{t[r]=t[r]||{},t[r][e]=o.filter((e=>a[r].includes(e.partition)))}))}const o=g(t).map((async e=>{const r=await this.findBroker({nodeId:e}),o=t[e],{responses:i}=await r.listOffsets({isolationLevel:this.isolationLevel,topics:g(o).map((e=>({topic:e,partitions:o[e].map(n(e))})))});return i})),i=await Promise.all(o),s=a(i).reduce(v,{});return g(s).map((e=>({topic:e,partitions:s[e].map((({partition:e,offset:t})=>({partition:e,offset:t})))})))}committedOffsets({groupId:e}){return this.committedOffsetsByGroup.has(e)||this.committedOffsetsByGroup.set(e,{}),this.committedOffsetsByGroup.get(e)}markOffsetAsCommitted({groupId:e,topic:t,partition:r,offset:n}){const o=this.committedOffsets({groupId:e});o[t]=o[t]||{},o[t][r]=n}}},3904:e=>{const t=Math.pow(2,32);e.exports={EARLIEST_OFFSET:-2,LATEST_OFFSET:-1,INT_32_MAX_VALUE:t}},737:(e,t,r)=>{const n=r(8783),o=r(6341),i={encode:({version:e,topics:t,userData:r=Buffer.alloc(0)})=>(new n).writeInt16(e).writeArray(t).writeBytes(r).buffer,decode(e){const t=new o(e);return{version:t.readInt16(),topics:t.readArray((e=>e.readString())),userData:t.readBytes()}}},s={encode:({version:e,assignment:t,userData:r=Buffer.alloc(0)})=>(new n).writeInt16(e).writeArray(Object.keys(t).map((e=>(new n).writeString(e).writeArray(t[e])))).writeBytes(r).buffer,decode(e){const t=new o(e),r=e=>e.readInt32();return t.canReadInt16()?{version:t.readInt16(),assignment:t.readArray((e=>({topic:e.readString(),partitions:e.readArray(r)}))).reduce(((e,{topic:t,partitions:r})=>Object.assign(e,{[t]:r})),{}),userData:t.readBytes()}:null}};e.exports={MemberMetadata:i,MemberAssignment:s}},6996:(e,t,r)=>{const n=r(2786);e.exports={roundRobin:n}},2786:(e,t,r)=>{const{MemberMetadata:n,MemberAssignment:o}=r(737),i=r(4358);e.exports=({cluster:e})=>({name:"RoundRobinAssigner",version:1,async assign({members:t,topics:r}){const n=t.length,s=t.map((({memberId:e})=>e)).sort(),a={},c=r.map((t=>e.findTopicPartitionMetadata(t).map((e=>({topic:t,partitionId:e.partitionId})))));return i(c).forEach(((e,t)=>{const r=s[t%n];a[r]||(a[r]=[]),a[r][e.topic]||(a[r][e.topic]=[]),a[r][e.topic].push(e.partitionId)})),Object.keys(a).map((e=>({memberId:e,memberAssignment:o.encode({version:this.version,assignment:a[e]})})))},protocol({topics:e}){return{name:this.name,metadata:n.encode({version:this.version,topics:e})}}})},4722:e=>{e.exports=()=>{let e,t;return{lock:new Promise((r=>{e=r,t=r})),unlock:e,unlockWithError:t}}},3529:(e,t,r)=>{const n=r(3278),o=r(2948);e.exports=class{constructor(e,t,r){this.fetchedOffset=t;const i=n.fromValue(this.fetchedOffset),{abortedTransactions:s,messages:a}=r;this.topic=e,this.partition=r.partition,this.highWatermark=r.highWatermark,this.rawMessages=a,this.messagesWithinOffset=this.rawMessages.filter((e=>n.fromValue(e.offset).gte(i))),this.messages=o({messages:this.messagesWithinOffset,abortedTransactions:s}).filter((e=>!e.isControlRecord))}isEmpty(){return 0===this.messages.length}isEmptyIncludingFiltered(){return 0===this.messagesWithinOffset.length}isEmptyControlRecord(){return this.isEmpty()&&this.messagesWithinOffset.some((({isControlRecord:e})=>e))}isEmptyDueToLogCompactedMessages(){return this.rawMessages.length>0&&this.isEmptyIncludingFiltered()}firstOffset(){return this.isEmptyIncludingFiltered()?null:this.messagesWithinOffset[0].offset}lastOffset(){return this.isEmptyDueToLogCompactedMessages()?this.fetchedOffset:this.isEmptyIncludingFiltered()?n.fromValue(this.highWatermark).add(-1).toString():this.messagesWithinOffset[this.messagesWithinOffset.length-1].offset}offsetLag(){const e=n.fromValue(this.highWatermark).add(-1),t=n.fromValue(this.lastOffset());return e.add(t.multiply(-1)).toString()}offsetLagLow(){if(this.isEmptyIncludingFiltered())return"0";const e=n.fromValue(this.highWatermark).add(-1),t=n.fromValue(this.firstOffset());return e.add(t.multiply(-1)).toString()}}},19:(e,t,r)=>{const n=r(4358),o=r(4742),i=r(5002),s=r(6779),a=r(8351),c=r(9701),p=r(1770),u=r(3529),l=r(2499),d=r(1381),{events:{GROUP_JOIN:m,HEARTBEAT:f,CONNECT:h,RECEIVED_UNSUBSCRIBED_TOPICS:g}}=r(9311),{MemberAssignment:v}=r(737),{KafkaJSError:y,KafkaJSNonRetriableError:b,KafkaJSStaleTopicMetadataAssignment:x}=r(9879),{keys:w}=Object,I=["LEADER_NOT_AVAILABLE","NOT_LEADER_FOR_PARTITION","FENCED_LEADER_EPOCH","UNKNOWN_LEADER_EPOCH","UNKNOWN_TOPIC_OR_PARTITION"],S=Symbol("private:ConsumerGroup:join"),T=Symbol("private:ConsumerGroup:sync");e.exports=class{constructor({retry:e,cluster:t,groupId:r,topics:n,topicConfigurations:o,logger:i,instrumentationEmitter:s,assigners:a,sessionTimeout:p,rebalanceTimeout:u,maxBytesPerPartition:m,minBytes:f,maxBytes:h,maxWaitTimeInMs:g,autoCommitInterval:v,autoCommitThreshold:y,isolationLevel:b,rackId:x,metadataMaxAge:w}){this.cluster=t,this.groupId=r,this.topics=n,this.topicsSubscribed=n,this.topicConfigurations=o,this.logger=i.namespace("ConsumerGroup"),this.instrumentationEmitter=s,this.retrier=c(Object.assign({},e)),this.assigners=a,this.sessionTimeout=p,this.rebalanceTimeout=u,this.maxBytesPerPartition=m,this.minBytes=f,this.maxBytes=h,this.maxWaitTime=g,this.autoCommitInterval=v,this.autoCommitThreshold=y,this.isolationLevel=b,this.rackId=x,this.metadataMaxAge=w,this.seekOffset=new l,this.coordinator=null,this.generationId=null,this.leaderId=null,this.memberId=null,this.members=null,this.groupProtocol=null,this.partitionsPerSubscribedTopic=null,this.preferredReadReplicasPerTopicPartition={},this.offsetManager=null,this.subscriptionState=new d,this.lastRequest=Date.now()}isLeader(){return this.leaderId&&this.memberId===this.leaderId}async connect(){await this.cluster.connect(),this.instrumentationEmitter.emit(h),await this.cluster.refreshMetadataIfNecessary()}async[S](){const{groupId:e,sessionTimeout:t,rebalanceTimeout:r}=this;this.coordinator=await this.cluster.findGroupCoordinator({groupId:e});const n=await this.coordinator.joinGroup({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:this.memberId||"",groupProtocols:this.assigners.map((e=>e.protocol({topics:this.topicsSubscribed})))});this.generationId=n.generationId,this.leaderId=n.leaderId,this.memberId=n.memberId,this.members=n.members,this.groupProtocol=n.groupProtocol}async leave(){const{groupId:e,memberId:t}=this;t&&(await this.coordinator.leaveGroup({groupId:e,memberId:t}),this.memberId=null)}async[T](){let e=[];const{groupId:t,generationId:r,memberId:n,members:o,groupProtocol:i,topics:c,topicsSubscribed:u,coordinator:l}=this;if(this.isLeader()){this.logger.debug("Chosen as group leader",{groupId:t,generationId:r,memberId:n,topics:c});const s=this.assigners.find((({name:e})=>e===i));if(!s)throw new b(`Unsupported partition assigner "${i}", the assigner wasn't found in the assigners list`);await this.cluster.refreshMetadata(),e=await s.assign({members:o,topics:u}),this.logger.debug("Group assignment",{groupId:t,generationId:r,groupProtocol:i,assignment:e,topics:u})}this.partitionsPerSubscribedTopic=this.generatePartitionsPerSubscribedTopic();const{memberAssignment:d}=await this.coordinator.syncGroup({groupId:t,generationId:r,memberId:n,groupAssignment:e}),m=v.decode(d),f=null!=m?m.assignment:{};this.logger.debug("Received assignment",{groupId:t,generationId:r,memberId:n,memberAssignment:f});const h=w(f),y=a(h,u);if(y.length>0){const e={groupId:t,generationId:r,memberId:n,assignedTopics:h,topicsSubscribed:u,topicsNotSubscribed:y};this.instrumentationEmitter.emit(g,e),this.logger.warn("Consumer group received unsubscribed topics",{...e,helpUrl:s("docs/faq","why-am-i-receiving-messages-for-topics-i-m-not-subscribed-to")})}const x=a(h,y).map((e=>({topic:e,partitions:f[e]})));for(const e of x){const{topic:o,partitions:i}=e,s=this.partitionsPerSubscribedTopic.get(o);if(!i.every((e=>s.includes(e)))){this.logger.warn("Consumer is not aware of all assigned partitions, refreshing metadata",{groupId:t,generationId:r,memberId:n,topic:o,knownPartitions:s,assignedPartitions:i}),await this.cluster.refreshMetadata(),this.partitionsPerSubscribedTopic=this.generatePartitionsPerSubscribedTopic();break}}this.topics=x.map((({topic:e})=>e)),this.subscriptionState.assign(x),this.offsetManager=new p({cluster:this.cluster,topicConfigurations:this.topicConfigurations,instrumentationEmitter:this.instrumentationEmitter,memberAssignment:x.reduce(((e,{topic:t,partitions:r})=>({...e,[t]:r})),{}),autoCommitInterval:this.autoCommitInterval,autoCommitThreshold:this.autoCommitThreshold,coordinator:l,groupId:t,generationId:r,memberId:n})}joinAndSync(){const e=Date.now();return this.retrier((async t=>{try{await this[S](),await this[T]();const t=this.assigned().reduce(((e,{topic:t,partitions:r})=>({...e,[t]:r})),{}),r={groupId:this.groupId,memberId:this.memberId,leaderId:this.leaderId,isLeader:this.isLeader(),memberAssignment:t,groupProtocol:this.groupProtocol,duration:Date.now()-e};this.instrumentationEmitter.emit(m,r),this.logger.info("Consumer has joined the group",r)}catch(e){if((e=>"REBALANCE_IN_PROGRESS"===e.type||"NOT_COORDINATOR_FOR_GROUP"===e.type)(e))throw new y(e);t(e)}}))}resetOffset({topic:e,partition:t}){this.offsetManager.resetOffset({topic:e,partition:t})}resolveOffset({topic:e,partition:t,offset:r}){this.offsetManager.resolveOffset({topic:e,partition:t,offset:r})}seek({topic:e,partition:t,offset:r}){this.seekOffset.set(e,t,r)}pause(e){this.logger.info(`Pausing fetching from ${e.length} topics`,{topicPartitions:e}),this.subscriptionState.pause(e)}resume(e){this.logger.info(`Resuming fetching from ${e.length} topics`,{topicPartitions:e}),this.subscriptionState.resume(e)}assigned(){return this.subscriptionState.assigned()}paused(){return this.subscriptionState.paused()}async commitOffsetsIfNecessary(){await this.offsetManager.commitOffsetsIfNecessary()}async commitOffsets(e){await this.offsetManager.commitOffsets(e)}uncommittedOffsets(){return this.offsetManager.uncommittedOffsets()}async heartbeat({interval:e}){const{groupId:t,generationId:r,memberId:n}=this,o=Date.now();if(n&&o>=this.lastRequest+e){const e={groupId:t,memberId:n,groupGenerationId:r};await this.coordinator.heartbeat(e),this.instrumentationEmitter.emit(f,e),this.lastRequest=Date.now()}}async fetch(){try{const{topics:e,maxBytesPerPartition:t,maxWaitTime:r,minBytes:s,maxBytes:a}=this,c={};for(await this.cluster.refreshMetadataIfNecessary(),this.checkForStaleAssignment();this.seekOffset.size>0;){const e=this.seekOffset.pop();this.logger.debug("Seek offset",{groupId:this.groupId,memberId:this.memberId,seek:e}),await this.offsetManager.seek(e)}const p=this.subscriptionState.paused(),l=this.subscriptionState.active(),d=n(l.map((({partitions:e})=>e))),m=l.filter((({partitions:e})=>e.length>0)).map((({topic:e})=>e));if(0===d.length)return this.logger.debug(`No active topic partitions, sleeping for ${this.maxWaitTime}ms`,{topics:e,activeTopicPartitions:l,pausedTopicPartitions:p}),await o(this.maxWaitTime),i([]);await this.offsetManager.resolveOffsets(),this.logger.debug(`Fetching from ${d.length} partitions for ${m.length} out of ${e.length} topics`,{topics:e,activeTopicPartitions:l,pausedTopicPartitions:p});for(const e of l){const r=this.findReadReplicaForPartitions(e.topic,e.partitions),n=w(r),o=this.offsetManager.committedOffsets();for(const i of n){const n=r[i].filter((t=>null!=o[e.topic][t])).map((r=>({partition:r,fetchOffset:this.offsetManager.nextOffset(e.topic,r).toString(),maxBytes:t})));c[i]=c[i]||[],c[i].push({topic:e.topic,partitions:n})}}const f=w(c).map((async e=>{const t=await this.cluster.findBroker({nodeId:e}),{responses:o}=await t.fetch({maxWaitTime:r,minBytes:s,maxBytes:a,isolationLevel:this.isolationLevel,topics:c[e],rackId:this.rackId}),i=o.map((({topicName:t,partitions:r})=>{const n=c[e].find((({topic:e})=>e===t));let o=this.preferredReadReplicasPerTopicPartition[t];return o||(this.preferredReadReplicasPerTopicPartition[t]=o={}),r.filter((e=>!this.seekOffset.has(t,e.partition)&&!this.subscriptionState.isPaused(t,e.partition))).map((e=>{const{partition:r,preferredReadReplica:i}=e;if(null!=i&&-1!==i){const{nodeId:e}=o[r]||{};e!==i&&this.logger.info(`Preferred read replica is now ${i}`,{groupId:this.groupId,memberId:this.memberId,topic:t,partition:r}),o[r]={nodeId:i,expireAt:Date.now()+this.metadataMaxAge}}const s=n.partitions.find((({partition:t})=>t===e.partition)).fetchOffset,a=new u(t,s,e);return(a.isEmptyControlRecord()||a.isEmptyDueToLogCompactedMessages())&&this.resolveOffset({topic:a.topic,partition:a.partition,offset:a.lastOffset()}),a}))}));return n(i)}));return 0===f.length?(await o(this.maxWaitTime),i([])):i(f,(e=>this.recoverFromFetch(e)))}catch(e){await this.recoverFromFetch(e)}}async recoverFromFetch(e){if(I.includes(e.type)||"KafkaJSTopicMetadataNotLoaded"===e.name)throw this.logger.debug("Stale cluster metadata, refreshing...",{groupId:this.groupId,memberId:this.memberId,error:e.message}),await this.cluster.refreshMetadata(),await this.joinAndSync(),new y(e.message);throw"KafkaJSStaleTopicMetadataAssignment"===e.name&&(this.logger.warn(`${e.message}, resync group`,{groupId:this.groupId,memberId:this.memberId,topic:e.topic,unknownPartitions:e.unknownPartitions}),await this.joinAndSync()),"KafkaJSOffsetOutOfRange"===e.name&&await this.recoverFromOffsetOutOfRange(e),"KafkaJSConnectionClosedError"===e.name&&this.cluster.removeBroker({host:e.host,port:e.port}),"KafkaJSBrokerNotFound"!==e.name&&"KafkaJSConnectionClosedError"!==e.name||(this.logger.debug(`${e.message}, refreshing metadata and retrying...`),await this.cluster.refreshMetadata()),e}async recoverFromOffsetOutOfRange(e){const t=this.preferredReadReplicasPerTopicPartition[e.topic];t&&"number"==typeof t[e.partition]?(this.logger.info("Offset out of range while fetching from follower, retrying with leader",{topic:e.topic,partition:e.partition,groupId:this.groupId,memberId:this.memberId}),delete t[e.partition]):(this.logger.error("Offset out of range, resetting to default offset",{topic:e.topic,partition:e.partition,groupId:this.groupId,memberId:this.memberId}),await this.offsetManager.setDefaultOffset({topic:e.topic,partition:e.partition}))}generatePartitionsPerSubscribedTopic(){const e=new Map;for(const t of this.topicsSubscribed){const r=this.cluster.findTopicPartitionMetadata(t).map((e=>e.partitionId)).sort();e.set(t,r)}return e}checkForStaleAssignment(){if(!this.partitionsPerSubscribedTopic)return;const e=this.generatePartitionsPerSubscribedTopic();for(const[t,r]of e){const e=a(r,this.partitionsPerSubscribedTopic.get(t));if(e.length>0)throw new x("Topic has been updated",{topic:t,unknownPartitions:e})}}hasSeekOffset({topic:e,partition:t}){return this.seekOffset.has(e,t)}findReadReplicaForPartitions(e,t){const r=this.cluster.findTopicPartitionMetadata(e),n=this.preferredReadReplicasPerTopicPartition[e];return t.reduce(((t,o)=>{const i=parseInt(o,10),s=r.find((e=>e.partitionId===i));if(!s)return t;if(null==s.leader)throw new y("Invalid partition metadata",{topic:e,partitionId:i,metadata:s});let a=s.leader;if(n){const{nodeId:t,expireAt:r}=n[i]||{};if(Date.now()>=r)this.logger.debug("Preferred read replica information has expired, using leader",{topic:e,partitionId:i,groupId:this.groupId,memberId:this.memberId,preferredReadReplica:t,leader:s.leader}),delete n[i];else if(null!=t){const r=s.offlineReplicas;Array.isArray(r)&&r.includes(a)?this.logger.debug("Preferred read replica is offline, using leader",{topic:e,partitionId:i,groupId:this.groupId,memberId:this.memberId,preferredReadReplica:t,leader:s.leader}):a=t}}const c=t[a]||[];return{...t,[a]:[...c,i]}}),{})}}},2948:(e,t,r)=>{const n=r(3278),o=Buffer.from([0,0,0,0]);e.exports=({messages:e,abortedTransactions:t})=>{const r=new Map;if(!t||!t.length)return e;const i=[...t];return e.filter((e=>{if(i.length&&n.fromValue(e.offset).gte(i[0].firstOffset)){const{producerId:e}=i.shift();r.set(e,!0)}const{producerId:t,inTransaction:s}=e.batchContext;if((({key:e})=>!!e&&Buffer.from(e).equals(o))(e))r.delete(t);else if(r.has(t)&&s)return!1;return!0}))}},763:(e,t,r)=>{const n=r(3278),o=r(9701),{initialRetryTime:i}=r(7727),s=r(19),a=r(2436),{events:c,wrap:p,unwrap:u}=r(9311),l=r(2190),{KafkaJSNonRetriableError:d}=r(9879),{roundRobin:m}=r(6996),{EARLIEST_OFFSET:f,LATEST_OFFSET:h}=r(3904),g=r(2845),{keys:v,values:y}=Object,{CONNECT:b,DISCONNECT:x,STOP:w,CRASH:I}=c,S=y(c),T=v(c).map((e=>`consumer.events.${e}`)).join(", "),E=[n.fromValue(f).toString(),n.fromValue(h).toString()];e.exports=({cluster:e,groupId:t,retry:r,logger:f,partitionAssigners:h=[m],sessionTimeout:y=3e4,rebalanceTimeout:k=6e4,heartbeatInterval:C=3e3,maxBytesPerPartition:A=1048576,minBytes:O=1,maxBytes:_=10485760,maxWaitTimeInMs:N=5e3,isolationLevel:R=g.READ_COMMITTED,rackId:P="",instrumentationEmitter:L,metadataMaxAge:M})=>{if(!t)throw new d("Consumer groupId must be a non-empty string.");const B=f.namespace("Consumer"),j=L||new l,D=h.map((r=>r({groupId:t,logger:B,cluster:e}))),q={};let F=null,z=null;if(C>=y)throw new d(`Consumer heartbeatInterval (${C}) must be lower than sessionTimeout (${y}). It is recommended to set heartbeatInterval to approximately a third of the sessionTimeout.`);const V=({autoCommitInterval:n,autoCommitThreshold:o})=>new s({logger:f,topics:v(q),topicConfigurations:q,retry:r,cluster:e,groupId:t,assigners:D,sessionTimeout:y,rebalanceTimeout:k,maxBytesPerPartition:A,minBytes:O,maxBytes:_,maxWaitTimeInMs:N,instrumentationEmitter:j,autoCommitInterval:n,autoCommitThreshold:o,isolationLevel:R,rackId:P,metadataMaxAge:M}),U=async()=>{try{await $(),B.debug("consumer has stopped, disconnecting",{groupId:t}),await e.disconnect(),j.emit(x)}catch(e){}},$=async()=>{try{F&&(await F.stop(),F=null,z=null,j.emit(w)),B.info("Stopped",{groupId:t})}catch(e){}};return{connect:async()=>{await e.connect(),j.emit(b)},disconnect:U,subscribe:async({topic:r,fromBeginning:n=!1})=>{if(z)throw new d("Cannot subscribe to topic while consumer is running");if(!r)throw new d(`Invalid topic ${r}`);const o=r instanceof RegExp;if("string"!=typeof r&&!o)throw new d(`Invalid topic ${r} (${typeof r}), the topic name has to be a String or a RegExp`);const i=[];if(o){const n=r,o=(await e.metadata()).topicMetadata.map((({topic:e})=>e)).filter((e=>n.test(e)));B.debug("Subscription based on RegExp",{groupId:t,topicRegExp:n.toString(),matchedTopics:o}),i.push(...o)}else i.push(r);for(const e of i)q[e]={fromBeginning:n};await e.addMultipleTargetTopics(i)},stop:$,run:async({autoCommit:n=!0,autoCommitInterval:o=null,autoCommitThreshold:s=null,eachBatchAutoResolve:c=!0,partitionsConsumedConcurrently:p=1,eachBatch:u=null,eachMessage:l=null}={})=>{if(z)return void B.warn("consumer#run was called, but the consumer is already running",{groupId:t});z=V({autoCommitInterval:o,autoCommitThreshold:s});const d=async e=>{B.info("Starting",{groupId:t}),F=(({eachBatchAutoResolve:e,eachBatch:t,eachMessage:n,onCrash:o,autoCommit:i,partitionsConsumedConcurrently:s})=>new a({autoCommit:i,logger:f,consumerGroup:z,instrumentationEmitter:j,eachBatchAutoResolve:e,eachBatch:t,eachMessage:n,heartbeatInterval:C,retry:r,onCrash:o,partitionsConsumedConcurrently:s}))({autoCommit:n,eachBatchAutoResolve:c,eachBatch:u,eachMessage:l,onCrash:e,partitionsConsumedConcurrently:p}),await F.start()},m=async n=>{B.error(`Crash: ${n.name}: ${n.message}`,{groupId:t,retryCount:n.retryCount,stack:n.stack}),"KafkaJSConnectionClosedError"===n.name&&e.removeBroker({host:n.host,port:n.port}),await U();const a=("KafkaJSNumberOfRetriesExceeded"===n.name||!0===n.retriable)&&(!r||!r.restartOnFailure||await r.restartOnFailure(n).catch((e=>(B.error('Caught error when invoking user-provided "restartOnFailure" callback. Defaulting to restarting.',{error:e.message||e,originalError:n.message||n,groupId:t}),!0))));if(j.emit(I,{error:n,groupId:t,restart:a}),a){const e=n.retryTime||r&&r.initialRetryTime||i;B.error(`Restarting the consumer in ${e}ms`,{retryCount:n.retryCount,retryTime:e,groupId:t}),setTimeout((()=>(e=>{z=V({autoCommitInterval:o,autoCommitThreshold:s}),d(e)})(m)),e)}};await d(m)},commitOffsets:async(e=[])=>{const t=e.reduce(((e,{topic:t,partition:r,offset:o,metadata:i=null})=>{if(!t)throw new d(`Invalid topic ${t}`);if(isNaN(r))throw new d(`Invalid partition, expected a number received ${r}`);let s;try{s=n.fromValue(o)}catch(e){throw new d(`Invalid offset, expected a long received ${o}`)}if(s.lessThan(0))throw new d("Offset must not be a negative number");if(null!==i&&"string"!=typeof i)throw new d(`Invalid offset metadata, expected string or null, received ${i}`);const a=e[t]||[];return a.push({partition:r,offset:s,metadata:i}),{...e,[t]:a}}),{});if(!z)throw new d("Consumer group was not initialized, consumer#run must be called first");const r=Object.keys(t);return F.commitOffsets({topics:r.map((e=>({topic:e,partitions:t[e]})))})},seek:({topic:e,partition:t,offset:r})=>{if(!e)throw new d(`Invalid topic ${e}`);if(isNaN(t))throw new d(`Invalid partition, expected a number received ${t}`);let o;try{o=n.fromValue(r)}catch(e){throw new d(`Invalid offset, expected a long received ${r}`)}if(o.lessThan(0)&&!E.includes(o.toString()))throw new d("Offset must not be a negative number");if(!z)throw new d("Consumer group was not initialized, consumer#run must be called first");z.seek({topic:e,partition:t,offset:o.toString()})},describeGroup:async()=>{const n=await e.findGroupCoordinator({groupId:t});return o(r)((async()=>{const{groups:e}=await n.describeGroups({groupIds:[t]});return e.find((e=>e.groupId===t))}))},pause:(e=[])=>{for(const t of e){if(!t||!t.topic)throw new d(`Invalid topic ${t&&t.topic||t}`);if(void 0!==t.partitions&&(!Array.isArray(t.partitions)||t.partitions.some(isNaN)))throw new d(`Array of valid partitions required to pause specific partitions instead of ${t.partitions}`)}if(!z)throw new d("Consumer group was not initialized, consumer#run must be called first");z.pause(e)},paused:()=>z?z.paused():[],resume:(e=[])=>{for(const t of e){if(!t||!t.topic)throw new d(`Invalid topic ${t&&t.topic||t}`);if(void 0!==t.partitions&&(!Array.isArray(t.partitions)||t.partitions.some(isNaN)))throw new d(`Array of valid partitions required to resume specific partitions instead of ${t.partitions}`)}if(!z)throw new d("Consumer group was not initialized, consumer#run must be called first");z.resume(e)},on:(e,t)=>{if(!S.includes(e))throw new d(`Event name should be one of ${T}`);return j.addListener(u(e),(r=>{r.type=p(r.type),Promise.resolve(t(r)).catch((t=>{B.error(`Failed to execute listener: ${t.message}`,{eventName:e,stack:t.stack})}))}))},events:c,logger:()=>B}}},9311:(e,t,r)=>{const n=r(76),o=r(1429),i=r(8202),s=o("consumer"),a={HEARTBEAT:s("heartbeat"),COMMIT_OFFSETS:s("commit_offsets"),GROUP_JOIN:s("group_join"),FETCH:s("fetch"),FETCH_START:s("fetch_start"),START_BATCH_PROCESS:s("start_batch_process"),END_BATCH_PROCESS:s("end_batch_process"),CONNECT:s("connect"),DISCONNECT:s("disconnect"),STOP:s("stop"),CRASH:s("crash"),RECEIVED_UNSUBSCRIBED_TOPICS:s("received_unsubscribed_topics"),REQUEST:s(i.NETWORK_REQUEST),REQUEST_TIMEOUT:s(i.NETWORK_REQUEST_TIMEOUT),REQUEST_QUEUE_SIZE:s(i.NETWORK_REQUEST_QUEUE_SIZE)},c={[a.REQUEST]:i.NETWORK_REQUEST,[a.REQUEST_TIMEOUT]:i.NETWORK_REQUEST_TIMEOUT,[a.REQUEST_QUEUE_SIZE]:i.NETWORK_REQUEST_QUEUE_SIZE},p=n(c);e.exports={events:a,wrap:e=>p[e]||e,unwrap:e=>c[e]||e}},1770:(e,t,r)=>{const n=r(3278),o=r(4358),i=r(6390),s=r(4137),{events:{COMMIT_OFFSETS:a}}=r(9311),{keys:c,assign:p}=Object,u=Symbol("private:OffsetManager:committedOffsets");e.exports=class{constructor({cluster:e,coordinator:t,memberAssignment:r,autoCommitInterval:n,autoCommitThreshold:o,topicConfigurations:i,instrumentationEmitter:s,groupId:a,generationId:p,memberId:u}){this.cluster=e,this.coordinator=t,this.memberAssignment=r,this.topicConfigurations=i,this.instrumentationEmitter=s,this.groupId=a,this.generationId=p,this.memberId=u,this.autoCommitInterval=n,this.autoCommitThreshold=o,this.lastCommit=Date.now(),this.topics=c(r),this.clearAllOffsets()}nextOffset(e,t){this.resolvedOffsets[e][t]||(this.resolvedOffsets[e][t]=this.committedOffsets()[e][t]);let r=this.resolvedOffsets[e][t];return i(r)&&(r="0"),n.fromValue(r)}async getCoordinator(){return this.coordinator.isConnected()||(this.coordinator=await this.cluster.findBroker(this.coordinator)),this.coordinator}resetOffset({topic:e,partition:t}){this.resolvedOffsets[e][t]=this.committedOffsets()[e][t]}resolveOffset({topic:e,partition:t,offset:r}){this.resolvedOffsets[e][t]=n.fromValue(r).add(1).toString()}countResolvedOffsets(){const e=this.committedOffsets(),t=this.topics.map((t=>{return r=this.resolvedOffsets[t],o=e[t],c(r).map((e=>((e,t)=>{const r=n.fromValue(e);return i(t)?r:r.subtract(n.fromValue(t))})(r[e],o[e])));var r,o}));return o(t).reduce(((e,t)=>e.add(t)),n.fromValue(0))}async setDefaultOffset({topic:e,partition:t}){const{groupId:r,generationId:n,memberId:o}=this,i=this.cluster.defaultOffset(this.topicConfigurations[e]),s=await this.getCoordinator();await s.offsetCommit({groupId:r,memberId:o,groupGenerationId:n,topics:[{topic:e,partitions:[{partition:t,offset:i}]}]}),this.clearOffsets({topic:e,partition:t})}async seek({topic:e,partition:t,offset:r}){if(!this.memberAssignment[e]||!this.memberAssignment[e].includes(t))return;const{groupId:n,generationId:o,memberId:i}=this,s=await this.getCoordinator();await s.offsetCommit({groupId:n,memberId:i,groupGenerationId:o,topics:[{topic:e,partitions:[{partition:t,offset:r}]}]}),this.clearOffsets({topic:e,partition:t})}async commitOffsetsIfNecessary(){const e=Date.now(),t=null!=this.autoCommitInterval&&e>=this.lastCommit+this.autoCommitInterval,r=null!=this.autoCommitThreshold&&this.countResolvedOffsets().gte(n.fromValue(this.autoCommitThreshold));if(t||r)return this.commitOffsets()}uncommittedOffsets(){const e=e=>c(this.resolvedOffsets[e]),t=e=>t=>({partition:t,offset:this.resolvedOffsets[e][t]}),r=e=>({partition:t,offset:r})=>r!==this.committedOffsets()[e][t]&&n.fromValue(r).greaterThanOrEqual(0);return{topics:this.topics.map((n=>({topic:n,partitions:e(n).map(t(n)).filter(r(n))}))).filter((({partitions:e})=>e.length>0))}}async commitOffsets(e={}){const{groupId:t,generationId:r,memberId:n}=this,{topics:o=this.uncommittedOffsets().topics}=e;if(0===o.length)return void(this.lastCommit=Date.now());const i={groupId:t,memberId:n,groupGenerationId:r,topics:o};try{const e=await this.getCoordinator();await e.offsetCommit(i),this.instrumentationEmitter.emit(a,i),o.forEach((({topic:e,partitions:t})=>{const r=t.reduce(((e,{partition:t,offset:r})=>p(e,{[t]:r})),{});p(this.committedOffsets()[e],r)})),this.lastCommit=Date.now()}catch(e){throw"NOT_COORDINATOR_FOR_GROUP"===e.type&&await this.cluster.refreshMetadata(),e}}async resolveOffsets(){const{groupId:e}=this,t=e=>t=>i(this.committedOffsets()[e][t]),r=this.topics.map((e=>({topic:e,partitions:this.memberAssignment[e].filter(t(e)).map((e=>({partition:e})))}))).filter((e=>e.partitions.length>0));if(0===r.length)return;const n=await this.getCoordinator(),{responses:o}=await n.offsetFetch({groupId:e,topics:r}),a=o.map((({topic:e,partitions:t})=>p({topic:e,partitions:t.filter((({offset:e})=>i(e))).map((({partition:e})=>p({partition:e})))},this.topicConfigurations[e]))),c=(e,{partition:t,offset:r})=>p(e,{[t]:r});let u=o;if(a.filter((e=>e.partitions.length>0)).length>0){const e=await this.cluster.fetchTopicsOffset(a);u=s(o,e)}u.forEach((({topic:e,partitions:t})=>{this.committedOffsets()[e]=t.reduce(c,{...this.committedOffsets()[e]})}))}clearOffsets({topic:e,partition:t}){delete this.committedOffsets()[e][t],delete this.resolvedOffsets[e][t]}clearAllOffsets(){const e=this.committedOffsets();for(const t in e)delete e[t];for(const t of this.topics)e[t]={};this.resolvedOffsets=this.topics.reduce(((e,t)=>p(e,{[t]:{}})),{})}committedOffsets(){return this[u]||(this[u]=this.groupId?this.cluster.committedOffsets({groupId:this.groupId}):{}),this[u]}}},4137:(e,t,r)=>{const n=r(6390),{keys:o,assign:i}=Object,s=(e,{partition:t,offset:r})=>i(e,{[t]:r}),a=(e,{topic:t,partitions:r})=>i(e,{[t]:r.reduce(s,{})});e.exports=(e,t)=>{const r=e.reduce(a,{}),i=t.reduce(a,{});return o(r).map((e=>{const t=r[e];return{topic:e,partitions:o(t).map((r=>{const o=t[r],s=n(o)?i[e][r]:o;return{partition:Number(r),offset:s}}))}}))}},6390:(e,t,r)=>{const n=r(3278);e.exports=e=>!e&&0!==e||n.fromValue(e).isNegative()},2436:(e,t,r)=>{const n=r(8614),o=r(3278),i=r(9701),s=r(4230),{KafkaJSError:a}=r(9879),c=r(4722),{events:{FETCH:p,FETCH_START:u,START_BATCH_PROCESS:l,END_BATCH_PROCESS:d}}=r(9311),m=e=>"REBALANCE_IN_PROGRESS"===e.type||"NOT_COORDINATOR_FOR_GROUP"===e.type,f=e=>e instanceof a,h="consuming-stop";e.exports=class extends n{constructor({logger:e,consumerGroup:t,instrumentationEmitter:r,eachBatchAutoResolve:n=!0,partitionsConsumedConcurrently:o,eachBatch:s,eachMessage:a,heartbeatInterval:c,onCrash:p,retry:u,autoCommit:l=!0}){super(),this.logger=e.namespace("Runner"),this.consumerGroup=t,this.instrumentationEmitter=r,this.eachBatchAutoResolve=n,this.eachBatch=s,this.eachMessage=a,this.heartbeatInterval=c,this.retrier=i(Object.assign({},u)),this.onCrash=p,this.autoCommit=l,this.partitionsConsumedConcurrently=o,this.running=!1,this.consuming=!1}get consuming(){return this._consuming}set consuming(e){this._consuming!==e&&(this._consuming=e,this.emit(e?"consuming-start":h))}async join(){await this.consumerGroup.joinAndSync(),this.running=!0}async scheduleJoin(){if(this.running)return this.join().catch(this.onCrash);this.logger.debug("consumer not running, exiting",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId})}async start(){if(!this.running)try{await this.consumerGroup.connect(),await this.join(),this.running=!0,this.scheduleFetch()}catch(e){this.onCrash(e)}}async stop(){if(this.running){this.logger.debug("stop consumer group",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId}),this.running=!1;try{await this.waitForConsumer(),await this.consumerGroup.leave()}catch(e){}}}waitForConsumer(){return new Promise((e=>{if(!this.consuming)return e();this.logger.debug("waiting for consumer to finish...",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId}),this.once(h,(()=>e()))}))}async processEachMessage(e){const{topic:t,partition:r}=e;for(const n of e.messages){if(!this.running||this.consumerGroup.hasSeekOffset({topic:t,partition:r}))break;try{await this.eachMessage({topic:t,partition:r,message:n})}catch(e){throw f(e)||this.logger.error("Error when calling eachMessage",{topic:t,partition:r,offset:n.offset,stack:e.stack,error:e}),await this.autoCommitOffsets(),e}this.consumerGroup.resolveOffset({topic:t,partition:r,offset:n.offset}),await this.consumerGroup.heartbeat({interval:this.heartbeatInterval}),await this.consumerGroup.commitOffsetsIfNecessary()}}async processEachBatch(e){const{topic:t,partition:r}=e,n=e.messages[e.messages.length-1];try{await this.eachBatch({batch:e,resolveOffset:i=>{const s=n&&(a=i,c=n.offset,o.fromValue(a).equals(o.fromValue(c)))?e.lastOffset():i;var a,c;this.consumerGroup.resolveOffset({topic:t,partition:r,offset:s})},heartbeat:async()=>{await this.consumerGroup.heartbeat({interval:this.heartbeatInterval})},commitOffsetsIfNecessary:async e=>e?this.consumerGroup.commitOffsets(e):this.consumerGroup.commitOffsetsIfNecessary(),uncommittedOffsets:()=>this.consumerGroup.uncommittedOffsets(),isRunning:()=>this.running,isStale:()=>this.consumerGroup.hasSeekOffset({topic:t,partition:r})})}catch(n){throw f(n)||this.logger.error("Error when calling eachBatch",{topic:t,partition:r,offset:e.firstOffset(),stack:n.stack,error:n}),await this.autoCommitOffsets(),n}this.eachBatchAutoResolve&&this.consumerGroup.resolveOffset({topic:t,partition:r,offset:e.lastOffset()})}async fetch(){const e=Date.now();this.instrumentationEmitter.emit(u,{});const t=await this.consumerGroup.fetch();this.instrumentationEmitter.emit(p,{numberOfBatches:0,duration:Date.now()-e});const r=async e=>{const t=Date.now(),r={topic:e.topic,partition:e.partition,highWatermark:e.highWatermark,offsetLag:e.offsetLag(),offsetLagLow:e.offsetLagLow(),batchSize:e.messages.length,firstOffset:e.firstOffset(),lastOffset:e.lastOffset()};this.instrumentationEmitter.emit(l,r),this.eachMessage?await this.processEachMessage(e):this.eachBatch&&await this.processEachBatch(e),this.instrumentationEmitter.emit(d,{...r,duration:Date.now()-t})},{lock:n,unlock:o,unlockWithError:i}=c(),a=s({limit:this.partitionsConsumedConcurrently});let m=!1,f=0,h=0;const g=[];for(;;){const e=t.next();if(e.done)break;this.running?g.push((async()=>{const t=await e.value;h+=t.length,t.map((e=>a((async()=>{try{if(!this.running)return;if(e.isEmpty())return;await r(e),await this.consumerGroup.heartbeat({interval:this.heartbeatInterval})}catch(e){i(e)}finally{f++,m&&f===h&&o()}})).catch(i)))})):e.value.catch((e=>{this.logger.debug("Ignoring error in fetch request while stopping runner",{error:e.message||e,stack:e.stack})}))}await Promise.all(g.map((e=>e()))),m=!0,h===f&&o();const v=await n;if(v)throw v;await this.autoCommitOffsets(),await this.consumerGroup.heartbeat({interval:this.heartbeatInterval})}async scheduleFetch(){if(this.running)return this.retrier((async(e,t,r)=>{try{this.consuming=!0,await this.fetch(),this.consuming=!1,this.running&&setImmediate((()=>this.scheduleFetch()))}catch(n){if(!this.running)return void this.logger.debug("consumer not running, exiting",{error:n.message,groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId});if(m(n))return this.logger.error("The group is rebalancing, re-joining",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId,error:n.message,retryCount:t,retryTime:r}),await this.join(),void setImmediate((()=>this.scheduleFetch()));if("UNKNOWN_MEMBER_ID"===n.type)return this.logger.error("The coordinator is not aware of this member, re-joining the group",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId,error:n.message,retryCount:t,retryTime:r}),this.consumerGroup.memberId=null,await this.join(),void setImmediate((()=>this.scheduleFetch()));if("KafkaJSOffsetOutOfRange"===n.name)return void setImmediate((()=>this.scheduleFetch()));if("KafkaJSNotImplemented"===n.name)return e(n);throw this.logger.debug("Error while fetching data, trying again...",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId,error:n.message,stack:n.stack,retryCount:t,retryTime:r}),n}finally{this.consuming=!1}})).catch(this.onCrash);this.logger.debug("consumer not running, exiting",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId})}autoCommitOffsets(){if(this.autoCommit)return this.consumerGroup.commitOffsets()}autoCommitOffsetsIfNecessary(){if(this.autoCommit)return this.consumerGroup.commitOffsetsIfNecessary()}commitOffsets(e){if(this.running)return this.retrier((async(t,r,n)=>{try{await this.consumerGroup.commitOffsets(e)}catch(o){if(!this.running)return void this.logger.debug("consumer not running, exiting",{error:o.message,groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId,offsets:e});if(m(o)&&(this.logger.error("The group is rebalancing, re-joining",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId,error:o.message,retryCount:r,retryTime:n}),setImmediate((()=>this.scheduleJoin())),t(new a(o))),"UNKNOWN_MEMBER_ID"===o.type&&(this.logger.error("The coordinator is not aware of this member, re-joining the group",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId,error:o.message,retryCount:r,retryTime:n}),this.consumerGroup.memberId=null,setImmediate((()=>this.scheduleJoin())),t(new a(o))),"KafkaJSNotImplemented"===o.name)return t(o);throw this.logger.debug("Error while committing offsets, trying again...",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId,error:o.message,stack:o.stack,retryCount:r,retryTime:n,offsets:e}),o}}));this.logger.debug("consumer not running, exiting",{groupId:this.consumerGroup.groupId,memberId:this.consumerGroup.memberId,offsets:e})}}},2499:e=>{e.exports=class extends Map{set(e,t,r){super.set([e,t],r)}has(e,t){return Array.from(this.keys()).some((([r,n])=>r===e&&n===t))}pop(){if(0===this.size)return;const[e,t]=this.entries().next().value;this.delete(e);const[r,n]=e;return{topic:r,partition:n,offset:t}}}},1381:e=>{const t=e=>({topic:e,paused:new Set,pauseAll:!1,resumed:new Set});e.exports=class{constructor(){this.assignedPartitionsByTopic={},this.subscriptionStatesByTopic={}}assign(e=[]){this.assignedPartitionsByTopic=e.reduce(((e,{topic:t,partitions:r=[]})=>({...e,[t]:{topic:t,partitions:r}})),{})}pause(e=[]){e.forEach((({topic:e,partitions:r})=>{const n=this.subscriptionStatesByTopic[e]||t(e);void 0===r?(n.paused.clear(),n.resumed.clear(),n.pauseAll=!0):Array.isArray(r)&&(r.forEach((e=>{n.paused.add(e),n.resumed.delete(e)})),n.pauseAll=!1),this.subscriptionStatesByTopic[e]=n}))}resume(e=[]){e.forEach((({topic:e,partitions:r})=>{const n=this.subscriptionStatesByTopic[e]||t(e);void 0===r?(n.paused.clear(),n.resumed.clear(),n.pauseAll=!1):Array.isArray(r)&&r.forEach((e=>{n.paused.delete(e),n.pauseAll&&n.resumed.add(e)})),this.subscriptionStatesByTopic[e]=n}))}assigned(){return Object.values(this.assignedPartitionsByTopic).map((({topic:e,partitions:t})=>({topic:e,partitions:t.sort()})))}active(){return Object.values(this.assignedPartitionsByTopic).map((({topic:e,partitions:t})=>({topic:e,partitions:t.filter((t=>!this.isPaused(e,t))).sort()})))}paused(){return Object.values(this.assignedPartitionsByTopic).map((({topic:e,partitions:t})=>({topic:e,partitions:t.filter((t=>this.isPaused(e,t))).sort()}))).filter((({partitions:e})=>0!==e.length))}isPaused(e,t){const r=this.subscriptionStatesByTopic[e];if(!r)return!1;const n=r.resumed.has(t),o=r.paused.has(t);return r.pauseAll&&!n||o}}},9152:e=>{e.exports=()=>({KAFKAJS_DEBUG_PROTOCOL_BUFFERS:process.env.KAFKAJS_DEBUG_PROTOCOL_BUFFERS,KAFKAJS_DEBUG_EXTENDED_PROTOCOL_BUFFERS:process.env.KAFKAJS_DEBUG_EXTENDED_PROTOCOL_BUFFERS})},9879:(e,t,r)=>{const n=r(5151);class o extends Error{constructor(e,{retriable:t=!0}={}){super(e),Error.captureStackTrace(this,this.constructor),this.message=e.message||e,this.name="KafkaJSError",this.retriable=t,this.helpUrl=e.helpUrl}}class i extends o{constructor(e){super(e,{retriable:!1}),this.name="KafkaJSNonRetriableError"}}class s extends o{constructor(e,{retriable:t=e.retriable}={}){super(e,{retriable:t}),this.type=e.type,this.code=e.code,this.name="KafkaJSProtocolError"}}class a extends o{constructor(e,{broker:t,code:r}={}){super(e),this.broker=t,this.code=r,this.name="KafkaJSConnectionError"}}class c extends o{constructor(){super(...arguments),this.name="KafkaJSMetadataNotLoaded"}}class p extends i{constructor(){super(...arguments),this.name="KafkaJSTimeout"}}const u=n.bugs.url;e.exports={KafkaJSError:o,KafkaJSNonRetriableError:i,KafkaJSPartialMessageError:class extends i{constructor(){super(...arguments),this.name="KafkaJSPartialMessageError"}},KafkaJSBrokerNotFound:class extends o{constructor(){super(...arguments),this.name="KafkaJSBrokerNotFound"}},KafkaJSProtocolError:s,KafkaJSConnectionError:a,KafkaJSConnectionClosedError:class extends a{constructor(e,{host:t,port:r}={}){super(e,{broker:`${t}:${r}`}),this.host=t,this.port=r,this.name="KafkaJSConnectionClosedError"}},KafkaJSRequestTimeoutError:class extends o{constructor(e,{broker:t,correlationId:r,createdAt:n,sentAt:o,pendingDuration:i}={}){super(e),this.broker=t,this.correlationId=r,this.createdAt=n,this.sentAt=o,this.pendingDuration=i,this.name="KafkaJSRequestTimeoutError"}},KafkaJSSASLAuthenticationError:class extends i{constructor(){super(...arguments),this.name="KafkaJSSASLAuthenticationError"}},KafkaJSNumberOfRetriesExceeded:class extends i{constructor(e,{retryCount:t,retryTime:r}){super(e),this.stack=`${this.name}\n  Caused by: ${e.stack}`,this.originalError=e,this.retryCount=t,this.retryTime=r,this.name="KafkaJSNumberOfRetriesExceeded"}},KafkaJSOffsetOutOfRange:class extends s{constructor(e,{topic:t,partition:r}){super(e),this.topic=t,this.partition=r,this.name="KafkaJSOffsetOutOfRange"}},KafkaJSMemberIdRequired:class extends s{constructor(e,{memberId:t}){super(e),this.memberId=t,this.name="KafkaJSMemberIdRequired"}},KafkaJSGroupCoordinatorNotFound:class extends i{constructor(){super(...arguments),this.name="KafkaJSGroupCoordinatorNotFound"}},KafkaJSNotImplemented:class extends i{constructor(){super(...arguments),this.name="KafkaJSNotImplemented"}},KafkaJSMetadataNotLoaded:c,KafkaJSTopicMetadataNotLoaded:class extends c{constructor(e,{topic:t}={}){super(e),this.topic=t,this.name="KafkaJSTopicMetadataNotLoaded"}},KafkaJSStaleTopicMetadataAssignment:class extends o{constructor(e,{topic:t,unknownPartitions:r}={}){super(e),this.topic=t,this.unknownPartitions=r,this.name="KafkaJSStaleTopicMetadataAssignment"}},KafkaJSDeleteGroupsError:class extends o{constructor(e,t=[]){super(e),this.groups=t,this.name="KafkaJSDeleteGroupsError"}},KafkaJSTimeout:p,KafkaJSLockTimeout:class extends p{constructor(){super(...arguments),this.name="KafkaJSLockTimeout"}},KafkaJSServerDoesNotSupportApiKey:class extends i{constructor(e,{apiKey:t,apiName:r}={}){super(e),this.apiKey=t,this.apiName=r,this.name="KafkaJSServerDoesNotSupportApiKey"}},KafkaJSUnsupportedMagicByteInMessageSet:class extends i{constructor(){super(...arguments),this.name="KafkaJSUnsupportedMagicByteInMessageSet"}},KafkaJSDeleteTopicRecordsError:class extends o{constructor({partitions:e}){super("Error while deleting records",{retriable:e.filter((({error:e})=>null!=e)).every((({error:e})=>!0===e.retriable))}),this.name="KafkaJSDeleteTopicRecordsError",this.partitions=e}},KafkaJSInvariantViolation:class extends i{constructor(e){const t=e.message||e;super(`Invariant violated: ${t}. This is likely a bug and should be reported.`),this.name="KafkaJSInvariantViolation";const r=encodeURIComponent(`Invariant violation: ${t}`);this.helpUrl=`${u}/new?assignees=&labels=bug&template=bug_report.md&title=${r}`}}}},873:(e,t,r)=>{const{createLogger:n,LEVELS:{INFO:o}}=r(354),i=r(2190),s=r(1230),a=r(8048),c=r(3798),p=r(763),u=r(5929),l=r(2845),d=r(9992),m=Symbol("private:Kafka:createCluster"),f=Symbol("private:Kafka:clusterRetry"),h=Symbol("private:Kafka:logger"),g=Symbol("private:Kafka:offsets");e.exports=class{constructor({brokers:e,ssl:t,sasl:r,clientId:i,connectionTimeout:c,authenticationTimeout:p,reauthenticationThreshold:u,requestTimeout:l,enforceRequestTimeout:v=!1,retry:y,socketFactory:b=d(),logLevel:x=o,logCreator:w=s}){this[g]=new Map,this[h]=n({level:x,logCreator:w}),this[f]=y,this[m]=({metadataMaxAge:n,allowAutoTopicCreation:o=!0,maxInFlightRequests:s=null,instrumentationEmitter:d=null,isolationLevel:m})=>new a({logger:this[h],retry:this[f],offsets:this[g],socketFactory:b,brokers:e,ssl:t,sasl:r,clientId:i,connectionTimeout:c,authenticationTimeout:p,reauthenticationThreshold:u,requestTimeout:l,enforceRequestTimeout:v,metadataMaxAge:n,instrumentationEmitter:d,allowAutoTopicCreation:o,maxInFlightRequests:s,isolationLevel:m})}producer({createPartitioner:e,retry:t,metadataMaxAge:r=3e5,allowAutoTopicCreation:n,idempotent:o,transactionalId:s,transactionTimeout:a,maxInFlightRequests:p}={}){const u=new i,l=this[m]({metadataMaxAge:r,allowAutoTopicCreation:n,maxInFlightRequests:p,instrumentationEmitter:u});return c({retry:{...this[f],...t},logger:this[h],cluster:l,createPartitioner:e,idempotent:o,transactionalId:s,transactionTimeout:a,instrumentationEmitter:u})}consumer({groupId:e,partitionAssigners:t,metadataMaxAge:r=3e5,sessionTimeout:n,rebalanceTimeout:o,heartbeatInterval:s,maxBytesPerPartition:a,minBytes:c,maxBytes:u,maxWaitTimeInMs:d,retry:g={retries:5},allowAutoTopicCreation:v,maxInFlightRequests:y,readUncommitted:b=!1,rackId:x=""}={}){const w=b?l.READ_UNCOMMITTED:l.READ_COMMITTED,I=new i,S=this[m]({metadataMaxAge:r,allowAutoTopicCreation:v,maxInFlightRequests:y,isolationLevel:w,instrumentationEmitter:I});return p({retry:{...this[f],...g},logger:this[h],cluster:S,groupId:e,partitionAssigners:t,sessionTimeout:n,rebalanceTimeout:o,heartbeatInterval:s,maxBytesPerPartition:a,minBytes:c,maxBytes:u,maxWaitTimeInMs:d,isolationLevel:w,instrumentationEmitter:I,rackId:x,metadataMaxAge:r})}admin({retry:e}={}){const t=new i,r=this[m]({allowAutoTopicCreation:!1,instrumentationEmitter:t});return u({retry:{...this[f],...e},logger:this[h],instrumentationEmitter:t,cluster:r})}logger(){return this[h]}}},2190:(e,t,r)=>{const n=r(8614),o=r(267),{KafkaJSError:i}=r(9879);e.exports=class{constructor(){this.emitter=new n}emit(e,t){if(!e)throw new i("Invalid event name",{retriable:!1});if(this.emitter.listenerCount(e)>0){const r=new o(e,t);this.emitter.emit(e,r)}}addListener(e,t){return this.emitter.addListener(e,t),()=>this.emitter.removeListener(e,t)}}},267:e=>{let t=0;e.exports=class{constructor(e,r){this.id=(t===Number.MAX_VALUE&&(t=0),t++),this.type=e,this.timestamp=Date.now(),this.payload=r}}},1429:e=>{e.exports=e=>t=>`${e}.${t}`},1230:(e,t,r)=>{const{LEVELS:n}=r(354);e.exports=()=>({namespace:e,level:t,label:r,log:o})=>{const i=e?`[${e}] `:"",s=JSON.stringify(Object.assign({level:r},o,{message:`${i}${o.message}`}));switch(t){case n.INFO:return console.info(s);case n.ERROR:return console.error(s);case n.WARN:return console.warn(s);case n.DEBUG:return console.log(s)}}},354:e=>{const{assign:t}=Object,r={NOTHING:0,ERROR:1,WARN:2,INFO:4,DEBUG:5},n=(e,r,n,o,i)=>(s,a={})=>{r>n()||i({namespace:o,level:r,label:e,log:t({timestamp:(new Date).toISOString(),logger:"kafkajs",message:s},a)})},o=e=>{const t=(process.env.KAFKAJS_LOG_LEVEL||"").toUpperCase();return null==r[t]?e:r[t]};e.exports={LEVELS:r,createLogger:({level:e=r.INFO,logCreator:i}={})=>{let s=o(e);const a=i(s),c=(e,t=null)=>{const r=o(t);return p(e,r)},p=(e,o=null)=>{const i=()=>null==o?s:o,p={info:n("INFO",r.INFO,i,e,a),error:n("ERROR",r.ERROR,i,e,a),warn:n("WARN",r.WARN,i,e,a),debug:n("DEBUG",r.DEBUG,i,e,a)};return t(p,{namespace:c,setLogLevel:e=>{s=e}})};return p()}}},2109:(e,t,r)=>{const n=r(9701),o=r(6829),i=r(2882),s=r(6341),{KafkaJSConnectionError:a,KafkaJSConnectionClosedError:c}=r(9879),{INT_32_MAX_VALUE:p}=r(3904),u=r(9152),l=r(6472),{CONNECTION_STATUS:d,CONNECTED_STATUS:m}=r(5315),f=({apiName:e,apiKey:t,apiVersion:r})=>`${e}(key: ${t}, version: ${r})`;e.exports=class{constructor({host:e,port:t,logger:r,socketFactory:o,requestTimeout:i,rack:a=null,ssl:c=null,sasl:p=null,clientId:m="kafkajs",connectionTimeout:f=1e3,enforceRequestTimeout:h=!1,maxInFlightRequests:g=null,instrumentationEmitter:v=null,retry:y={}}){this.host=e,this.port=t,this.rack=a,this.clientId=m,this.broker=`${this.host}:${this.port}`,this.logger=r.namespace("Connection"),this.socketFactory=o,this.ssl=c,this.sasl=p,this.retry=y,this.retrier=n({...this.retry}),this.requestTimeout=i,this.connectionTimeout=f,this.bytesBuffered=0,this.bytesNeeded=s.int32Size(),this.chunks=[],this.connectionStatus=d.DISCONNECTED,this.correlationId=0,this.requestQueue=new l({instrumentationEmitter:v,maxInFlightRequests:g,requestTimeout:i,enforceRequestTimeout:h,clientId:m,broker:this.broker,logger:r.namespace("RequestQueue"),isConnected:()=>this.connected}),this.authHandlers=null,this.authExpectResponse=!1;const b=e=>(t,r={})=>{(0,this.logger[e])(t,{broker:this.broker,clientId:m,...r})};this.logDebug=b("debug"),this.logError=b("error");const x=u();this.shouldLogBuffers="1"===x.KAFKAJS_DEBUG_PROTOCOL_BUFFERS,this.shouldLogFetchBuffer=this.shouldLogBuffers&&"1"===x.KAFKAJS_DEBUG_EXTENDED_PROTOCOL_BUFFERS}get connected(){return m.includes(this.connectionStatus)}connect(){return new Promise(((e,t)=>{if(this.connected)return e(!0);let r;const n=()=>{clearTimeout(r),this.connectionStatus=d.CONNECTED,this.requestQueue.scheduleRequestTimeoutCheck(),e(!0)},i=e=>{this.processData(e)},s=async()=>{clearTimeout(r);const e=this.connected;this.authHandlers?this.authHandlers.onError():e&&(this.logDebug("Kafka server has closed connection"),this.rejectRequests(new c("Closed connection",{host:this.host,port:this.port}))),await this.disconnect()},p=async e=>{clearTimeout(r);const n=new a(`Connection error: ${e.message}`,{broker:`${this.host}:${this.port}`,code:e.code});this.logError(n.message,{stack:e.stack}),this.rejectRequests(n),await this.disconnect(),t(n)},u=async()=>{const e=new a("Connection timeout",{broker:`${this.host}:${this.port}`});this.logError(e.message),this.rejectRequests(e),await this.disconnect(),t(e)};this.logDebug("Connecting",{ssl:!!this.ssl,sasl:!!this.sasl});try{r=setTimeout(u,this.connectionTimeout),this.socket=o({socketFactory:this.socketFactory,host:this.host,port:this.port,ssl:this.ssl,onConnect:n,onData:i,onEnd:s,onError:p,onTimeout:u})}catch(e){clearTimeout(r),t(new a(`Failed to connect: ${e.message}`,{broker:`${this.host}:${this.port}`}))}}))}async disconnect(){return this.connectionStatus=d.DISCONNECTING,this.logDebug("disconnecting..."),await this.requestQueue.waitForPendingRequests(),this.requestQueue.destroy(),this.socket&&(this.socket.end(),this.socket.unref()),this.connectionStatus=d.DISCONNECTED,this.logDebug("disconnected"),!0}authenticate({authExpectResponse:e=!1,request:t,response:r}){return this.authExpectResponse=e,new Promise((async(e,n)=>{this.authHandlers={onSuccess:t=>{this.authHandlers=null,this.authExpectResponse=!1,r.decode(t).then((e=>r.parse(e))).then(e).catch(n)},onError:()=>{this.authHandlers=null,this.authExpectResponse=!1,n(new a("Connection closed by the server",{broker:`${this.host}:${this.port}`}))}};try{const e=await t.encode();this.failIfNotConnected(),this.socket.write(e.buffer,"binary")}catch(e){n(e)}}))}async send({request:e,response:t,requestTimeout:r=null,logResponseError:n=!0}){this.failIfNotConnected();const o=!e.expectResponse||e.expectResponse(),{correlationId:s,size:a,entry:c,payload:p}=await(async()=>{const{clientId:t}=this,n=this.nextCorrelationId(),s=await i({request:e,correlationId:n,clientId:t}),{apiKey:a,apiName:c,apiVersion:p}=e;return this.logDebug(`Request ${f(e)}`,{correlationId:n,expectResponse:o,size:Buffer.byteLength(s.buffer)}),new Promise(((e,t)=>{try{this.failIfNotConnected();const i={apiKey:a,apiName:c,apiVersion:p,correlationId:n,resolve:e,reject:t};this.requestQueue.push({entry:i,expectResponse:o,requestTimeout:r,sendRequest:()=>{this.socket.write(s.buffer,"binary")}})}catch(e){t(e)}}))})();if(o)try{const e=await t.decode(p);this.requestQueue.maybeThrottle(e.clientSideThrottleTime);const r=await t.parse(e),n="Fetch"===c.apiName;return this.logDebug(`Response ${f(c)}`,{correlationId:s,size:a,data:n&&!this.shouldLogFetchBuffer?"[filtered]":r}),r}catch(e){n&&this.logError(`Response ${f(c)}`,{error:e.message,correlationId:s,size:a});const t=Buffer.isBuffer(p);throw this.logDebug(`Response ${f(c)}`,{error:e.message,correlationId:s,payload:t&&!this.shouldLogBuffers?{type:"Buffer",data:"[filtered]"}:p}),e}}failIfNotConnected(){if(!this.connected)throw new a("Not connected",{broker:`${this.host}:${this.port}`})}nextCorrelationId(){return this.correlationId>=p&&(this.correlationId=0),this.correlationId++}processData(e){if(this.authHandlers&&!this.authExpectResponse)return this.authHandlers.onSuccess(e);for(this.chunks.push(e),this.bytesBuffered+=Buffer.byteLength(e);this.bytesNeeded<=this.bytesBuffered;){const e=this.chunks.length>1?Buffer.concat(this.chunks):this.chunks[0],t=new s(e),r=t.readInt32();if(!t.canReadBytes(r))return this.chunks=[e],this.bytesBuffered=Buffer.byteLength(e),void(this.bytesNeeded=s.int32Size()+r);const n=new s(t.readBytes(r)),o=t.readAll();if(this.chunks=[o],this.bytesBuffered=Buffer.byteLength(o),this.bytesNeeded=s.int32Size(),this.authHandlers){const t=s.int32Size()+r,n=e.slice(0,t);return this.authHandlers.onSuccess(n)}const i=n.readInt32(),a=n.readAll();this.requestQueue.fulfillRequest({size:r,correlationId:i,payload:a})}}rejectRequests(e){this.requestQueue.rejectAll(e)}}},5315:e=>{const t={CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected"},r=[t.CONNECTED,t.DISCONNECTING];e.exports={CONNECTION_STATUS:t,CONNECTED_STATUS:r}},8202:(e,t,r)=>{const n=r(1429)("network");e.exports={NETWORK_REQUEST:n("request"),NETWORK_REQUEST_TIMEOUT:n("request_timeout"),NETWORK_REQUEST_QUEUE_SIZE:n("request_queue_size")}},6472:(e,t,r)=>{const n=r(8614),o=r(2764),i=r(8202),{KafkaJSInvariantViolation:s}=r(9879),a=Symbol("private:RequestQueue:emitQueueSizeEvent"),c=Symbol("private:RequestQueue:emitQueueEmpty"),p="requestQueueEmpty";e.exports=class extends n{constructor({instrumentationEmitter:e=null,maxInFlightRequests:t,requestTimeout:r,enforceRequestTimeout:n,clientId:o,broker:s,logger:u,isConnected:l=(()=>!0)}){super(),this.instrumentationEmitter=e,this.maxInFlightRequests=t,this.requestTimeout=r,this.enforceRequestTimeout=n,this.clientId=o,this.broker=s,this.logger=u,this.isConnected=l,this.inflight=new Map,this.pending=[],this.throttledUntil=-1,this.throttleCheckTimeoutId=null,this[c]=()=>{0===this.pending.length&&0===this.inflight.size&&this.emit(p)},this[a]=()=>{e&&e.emit(i.NETWORK_REQUEST_QUEUE_SIZE,{broker:this.broker,clientId:this.clientId,queueSize:this.pending.length}),this[c]()}}scheduleRequestTimeoutCheck(){this.enforceRequestTimeout&&(this.destroy(),this.requestTimeoutIntervalId=setInterval((()=>{this.inflight.forEach((e=>{Date.now()-e.sentAt>e.requestTimeout&&e.timeoutRequest()})),this.isConnected()||this.destroy()}),Math.min(this.requestTimeout,100)))}maybeThrottle(e){if(e){const t=Date.now()+e;this.throttledUntil=Math.max(t,this.throttledUntil)}}push(e){const{correlationId:t}=e.entry,r=this.requestTimeout,n=e.requestTimeout,i=Math.max(r,n||0),c=new o({entry:e.entry,expectResponse:e.expectResponse,broker:this.broker,clientId:this.clientId,instrumentationEmitter:this.instrumentationEmitter,requestTimeout:i,send:()=>{if(this.inflight.has(t))throw new s("Correlation id already exists");this.inflight.set(t,c),e.sendRequest()},timeout:()=>{this.inflight.delete(t),this.checkPendingRequests()}});this.canSendSocketRequestImmediately()?this.sendSocketRequest(c):(this.pending.push(c),this.scheduleCheckPendingRequests(),this.logger.debug("Request enqueued",{clientId:this.clientId,broker:this.broker,correlationId:t}),this[a]())}sendSocketRequest(e){e.send(),e.expectResponse||(this.logger.debug("Request does not expect a response, resolving immediately",{clientId:this.clientId,broker:this.broker,correlationId:e.correlationId}),this.inflight.delete(e.correlationId),e.completed({size:0,payload:null}))}fulfillRequest({correlationId:e,payload:t,size:r}){const n=this.inflight.get(e);this.inflight.delete(e),this.checkPendingRequests(),n?n.completed({size:r,payload:t}):this.logger.warn("Response without match",{clientId:this.clientId,broker:this.broker,correlationId:e}),this[c]()}rejectAll(e){const t=[...this.inflight.values(),...this.pending];for(const r of t)r.rejected(e),this.inflight.delete(r.correlationId);this.pending=[],this.inflight.clear(),this[a]()}waitForPendingRequests(){return new Promise((e=>{if(0===this.pending.length&&0===this.inflight.size)return e();this.logger.debug("Waiting for pending requests",{clientId:this.clientId,broker:this.broker,currentInflightRequests:this.inflight.size,currentPendingQueueSize:this.pending.length}),this.once(p,(()=>e()))}))}destroy(){clearInterval(this.requestTimeoutIntervalId),clearTimeout(this.throttleCheckTimeoutId),this.throttleCheckTimeoutId=null}canSendSocketRequestImmediately(){return!(null!=this.maxInFlightRequests&&this.inflight.size>=this.maxInFlightRequests||this.throttledUntil>Date.now())}checkPendingRequests(){for(;this.pending.length>0&&this.canSendSocketRequestImmediately();){const e=this.pending.shift();this.sendSocketRequest(e),this.logger.debug("Consumed pending request",{clientId:this.clientId,broker:this.broker,correlationId:e.correlationId,pendingDuration:e.pendingDuration,currentPendingQueueSize:this.pending.length}),this[a]()}this.scheduleCheckPendingRequests()}scheduleCheckPendingRequests(){const e=this.throttledUntil-Date.now();e>0&&!this.throttleCheckTimeoutId&&(this.throttleCheckTimeoutId=setTimeout((()=>{this.throttleCheckTimeoutId=null,this.checkPendingRequests()}),e))}}},2764:(e,t,r)=>{const{KafkaJSRequestTimeoutError:n,KafkaJSNonRetriableError:o}=r(9879),i=r(8202),s=Symbol("private:SocketRequest:state"),a=Symbol("private:SocketRequest:emitEvent"),c={PENDING:Symbol("PENDING"),SENT:Symbol("SENT"),COMPLETED:Symbol("COMPLETED"),REJECTED:Symbol("REJECTED")};e.exports=class{constructor({requestTimeout:e,broker:t,clientId:r,entry:n,expectResponse:o,send:i,timeout:p,instrumentationEmitter:u=null}){this.createdAt=Date.now(),this.requestTimeout=e,this.broker=t,this.clientId=r,this.entry=n,this.correlationId=n.correlationId,this.expectResponse=o,this.sendRequest=i,this.timeoutHandler=p,this.sentAt=null,this.duration=null,this.pendingDuration=null,this[s]=c.PENDING,this[a]=(e,t)=>u&&u.emit(e,t)}send(){this.throwIfInvalidState({accepted:[c.PENDING],next:c.SENT}),this.sendRequest(),this.sentAt=Date.now(),this.pendingDuration=this.sentAt-this.createdAt,this[s]=c.SENT}timeoutRequest(){const{apiName:e,apiKey:t,apiVersion:r}=this.entry,o=`${e}(key: ${t}, version: ${r})`,s={broker:this.broker,clientId:this.clientId,correlationId:this.correlationId,createdAt:this.createdAt,sentAt:this.sentAt,pendingDuration:this.pendingDuration};this.timeoutHandler(),this.rejected(new n(`Request ${o} timed out`,s)),this[a](i.NETWORK_REQUEST_TIMEOUT,{...s,apiName:e,apiKey:t,apiVersion:r})}completed({size:e,payload:t}){this.throwIfInvalidState({accepted:[c.SENT],next:c.COMPLETED});const{entry:r,correlationId:n,broker:o,clientId:p,createdAt:u,sentAt:l,pendingDuration:d}=this;this[s]=c.COMPLETED,this.duration=Date.now()-this.sentAt,r.resolve({correlationId:n,entry:r,size:e,payload:t}),this[a](i.NETWORK_REQUEST,{broker:o,clientId:p,correlationId:n,size:e,createdAt:u,sentAt:l,pendingDuration:d,duration:this.duration,apiName:r.apiName,apiKey:r.apiKey,apiVersion:r.apiVersion})}rejected(e){this.throwIfInvalidState({accepted:[c.PENDING,c.SENT],next:c.REJECTED}),this[s]=c.REJECTED,this.duration=Date.now()-this.sentAt,this.entry.reject(e)}throwIfInvalidState({accepted:e,next:t}){if(e.includes(this[s]))return;const r=this[s].toString();throw new o(`Invalid state, can't transition from ${r} to ${t.toString()}`)}}},6829:e=>{e.exports=({socketFactory:e,host:t,port:r,ssl:n,onConnect:o,onData:i,onEnd:s,onError:a,onTimeout:c})=>{const p=e({host:t,port:r,ssl:n,onConnect:o});return p.on("data",i),p.on("end",s),p.on("error",a),p.on("timeout",c),p}},9992:(e,t,r)=>{e.exports=()=>{const e=r(1631),t=r(4016);return({host:r,port:n,ssl:o,onConnect:i})=>{const s=o?t.connect(Object.assign({host:r,port:n,servername:r},o),i):e.connect({host:r,port:n},i);return s.setKeepAlive(!0,6e4),s}}},8460:e=>{e.exports=e=>e.map((({topic:e,partitions:t,messagesPerPartition:r,sequencePerPartition:n})=>({topic:e,partitions:t.map((e=>({partition:e,firstSequence:n[e],messages:r[e]})))})))},6236:(e,t,r)=>{const n=r(9701),{KafkaJSNonRetriableError:o}=r(9879),i=r(7022),s=r(1352),a=r(2357),c=r(5497),p=Math.pow(2,32),u=["NOT_COORDINATOR_FOR_GROUP","GROUP_COORDINATOR_NOT_AVAILABLE","GROUP_LOAD_IN_PROGRESS","CONCURRENT_TRANSACTIONS"],l=["UNKNOWN_TOPIC_OR_PARTITION","COORDINATOR_LOAD_IN_PROGRESS"],d=["COORDINATOR_NOT_AVAILABLE","NOT_COORDINATOR"];e.exports=({logger:e,cluster:t,transactionTimeout:r=6e4,transactional:m,transactionalId:f})=>{if(m&&!f)throw new o("Cannot manage transactions without a transactionalId");const h=n(t.retry);let g=-1,v=0,y={},b={};const x=s({logger:e});x.on("transition",(({to:e})=>{e===c.READY&&(b={})}));const w=()=>t.findGroupCoordinator({groupId:f,coordinatorType:i.TRANSACTION}),I=()=>{if(!m)throw new o("Method unavailable if non-transactional")},S=x.createGuarded({getProducerId:()=>g,getProducerEpoch:()=>v,getTransactionalId:()=>f,initProducerId:async()=>h((async(n,o,i)=>{try{await t.refreshMetadataIfNecessary();const n=await(m?w():t.findControllerBroker()),o=await n.initProducerId({transactionalId:m?f:void 0,transactionTimeout:r});x.transitionTo(c.READY),g=o.producerId,v=o.producerEpoch,y={},e.debug("Initialized producer id & epoch",{producerId:g,producerEpoch:v})}catch(t){if(u.includes(t.type))throw"CONCURRENT_TRANSACTIONS"===t.type&&e.debug("There is an ongoing transaction on this transactionId, retrying",{error:t.message,stack:t.stack,transactionalId:f,retryCount:o,retryTime:i}),t;n(t)}})),getSequence:(e,t)=>S.isInitialized()?(y[e]=y[e]||{},y[e][t]=y[e][t]||0,y[e][t]):0,updateSequence(t,r,n){if(!S.isInitialized())return;let o=S.getSequence(t,r)+n;o>=p&&(e.debug(`Sequence for ${t} ${r} exceeds max value (${o}). Rotating to 0.`),o=0),y[t][r]=o},beginTransaction(){I(),x.transitionTo(c.TRANSACTING)},async addPartitionsToTransaction(e){I();const t={};e.forEach((({topic:e,partitions:r})=>{b[e]=b[e]||{},r.forEach((({partition:r})=>{b[e][r]||(t[e]=t[e]||[],t[e].push(r))}))}));const r=Object.keys(t).map((e=>({topic:e,partitions:t[e]})));if(r.length){const e=await w();await e.addPartitionsToTxn({transactionalId:f,producerId:g,producerEpoch:v,topics:r})}r.forEach((({topic:e,partitions:t})=>{t.forEach((t=>{b[e][t]=!0}))}))},async commit(){I(),x.transitionTo(c.COMMITTING);const e=await w();await e.endTxn({producerId:g,producerEpoch:v,transactionalId:f,transactionResult:!0}),x.transitionTo(c.READY)},async abort(){I(),x.transitionTo(c.ABORTING);const e=await w();await e.endTxn({producerId:g,producerEpoch:v,transactionalId:f,transactionResult:!1}),x.transitionTo(c.READY)},isInitialized:()=>-1!==g,isTransactional:()=>m,isInTransaction:()=>x.state()===c.TRANSACTING,async sendOffsets({consumerGroupId:r,topics:n}){a(r,"Missing consumerGroupId"),a(n,"Missing offset topics");const o=await w();await o.addOffsetsToTxn({transactionalId:f,producerId:g,producerEpoch:v,groupId:r});let s=await t.findGroupCoordinator({groupId:r,coordinatorType:i.GROUP});return h((async(o,a,c)=>{try{await s.txnOffsetCommit({transactionalId:f,producerId:g,producerEpoch:v,groupId:r,topics:n})}catch(n){if(l.includes(n.type))throw e.debug("Group coordinator is not ready yet, retrying",{error:n.message,stack:n.stack,transactionalId:f,retryCount:a,retryTime:c}),n;if(d.includes(n.type)||"ECONNREFUSED"===n.code)throw e.debug("Invalid group coordinator, finding new group coordinator and retrying",{error:n.message,stack:n.stack,transactionalId:f,retryCount:a,retryTime:c}),s=await t.findGroupCoordinator({groupId:r,coordinatorType:i.GROUP}),n;o(n)}}))}},{initProducerId:{legalStates:[c.UNINITIALIZED,c.READY]},beginTransaction:{legalStates:[c.READY],async:!1},addPartitionsToTransaction:{legalStates:[c.TRANSACTING]},sendOffsets:{legalStates:[c.TRANSACTING]},commit:{legalStates:[c.TRANSACTING]},abort:{legalStates:[c.TRANSACTING]}});return S}},1352:(e,t,r)=>{const{EventEmitter:n}=r(8614),{KafkaJSNonRetriableError:o}=r(9879),i=r(5497),s={[i.UNINITIALIZED]:[i.READY],[i.READY]:[i.READY,i.TRANSACTING],[i.TRANSACTING]:[i.COMMITTING,i.ABORTING],[i.COMMITTING]:[i.READY],[i.ABORTING]:[i.READY]};e.exports=({logger:e,initialState:t=i.UNINITIALIZED})=>{let r=t;const a=Object.assign(new n,{createGuarded(e,t){const n=Object.keys(t).reduce(((n,i)=>(n[i]=((e,t,{legalStates:n,async:i=!0})=>{if(!e[t])throw new o(`Cannot add guard on missing method "${t}"`);return(...s)=>{const a=e[t];if(!n.includes(r)){const e=new o(`Transaction state exception: Cannot call "${t}" in state "${r}"`);if(i)return Promise.reject(e);throw e}return a.apply(e,s)}})(e,i,t[i]),n)),{});return{...e,...n}},transitionTo(t){if(e.debug(`Transaction state transition ${r} --\x3e ${t}`),!s[r].includes(t))throw new o(`Transaction state exception: Invalid transition ${r} --\x3e ${t}`);a.emit("transition",{to:t,from:r}),r=t},state:()=>r});return a}},5497:e=>{e.exports={UNINITIALIZED:"UNINITIALIZED",READY:"READY",TRANSACTING:"TRANSACTING",COMMITTING:"COMMITTING",ABORTING:"ABORTING"}},65:e=>{e.exports=({topic:e,partitionMetadata:t,messages:r,partitioner:n})=>0===t.length?{}:r.reduce(((r,o)=>{const i=n({topic:e,partitionMetadata:t,message:o}),s=r[i]||[];return Object.assign(r,{[i]:[...s,o]})}),{})},3798:(e,t,r)=>{const n=r(9701),{CONNECTION_STATUS:o}=r(5315),{DefaultPartitioner:i}=r(8691),s=r(2190),a=r(6236),c=r(3062),{events:p,wrap:u,unwrap:l}=r(7293),{KafkaJSNonRetriableError:d}=r(9879),{values:m,keys:f}=Object,h=m(p),g=f(p).map((e=>`producer.events.${e}`)).join(", "),{CONNECT:v,DISCONNECT:y}=p;e.exports=({cluster:e,logger:t,createPartitioner:r=i,retry:m,idempotent:f=!1,transactionalId:b,transactionTimeout:x,instrumentationEmitter:w})=>{let I=o.DISCONNECTED;if(m=m||{retries:f?Number.MAX_SAFE_INTEGER:5},f&&m.retries<1)throw new d("Idempotent producer must allow retries to protect against transient errors");const S=t.namespace("Producer");f&&m.retries<Number.MAX_SAFE_INTEGER&&S.warn("Limiting retries for the idempotent producer may invalidate EoS guarantees");const T=r(),E=n(Object.assign({},e.retry,m)),k=w||new s,C=a({logger:S,cluster:e,transactionTimeout:x,transactional:!1,transactionalId:b}),{send:A,sendBatch:O}=c({logger:S,cluster:e,partitioner:T,eosManager:C,idempotent:f,retrier:E,getConnectionStatus:()=>I});let _;return{connect:async()=>{await e.connect(),I=o.CONNECTED,k.emit(v),f&&!C.isInitialized()&&await C.initProducerId()},disconnect:async()=>{I=o.DISCONNECTING,await e.disconnect(),I=o.DISCONNECTED,k.emit(y)},isIdempotent:()=>f,events:p,on:(e,t)=>{if(!h.includes(e))throw new d(`Event name should be one of ${g}`);return k.addListener(l(e),(r=>{r.type=u(r.type),Promise.resolve(t(r)).catch((t=>{S.error(`Failed to execute listener: ${t.message}`,{eventName:e,stack:t.stack})}))}))},send:A,sendBatch:O,transaction:async()=>{if(!b)throw new d("Must provide transactional id for transactional producer");let t=!1;if(_=_||a({logger:S,cluster:e,transactionTimeout:x,transactional:!0,transactionalId:b}),_.isInTransaction())throw new d("There is already an ongoing transaction for this producer. Please end the transaction before beginning another.");_.isInitialized()||await _.initProducerId(),_.beginTransaction();const{send:r,sendBatch:n}=c({logger:S,cluster:e,partitioner:T,retrier:E,eosManager:_,idempotent:!0,getConnectionStatus:()=>I}),o=()=>_.isInTransaction()&&!t,i=e=>(...t)=>o()?e(...t):Promise.reject(new d("Cannot continue to use transaction once ended"));return{sendBatch:i(n),send:i(r),abort:i((async()=>{await _.abort(),t=!0})),commit:i((async()=>{await _.commit(),t=!0})),sendOffsets:i((async({consumerGroupId:t,topics:r})=>{await _.sendOffsets({consumerGroupId:t,topics:r});for(const n of r){const{topic:r,partitions:o}=n;for(const{partition:n,offset:i}of o)e.markOffsetAsCommitted({groupId:t,topic:r,partition:n,offset:i})}})),isActive:o}},logger:()=>S}}},7293:(e,t,r)=>{const n=r(76),o=r(8202),i=r(1429)("producer"),s={CONNECT:i("connect"),DISCONNECT:i("disconnect"),REQUEST:i(o.NETWORK_REQUEST),REQUEST_TIMEOUT:i(o.NETWORK_REQUEST_TIMEOUT),REQUEST_QUEUE_SIZE:i(o.NETWORK_REQUEST_QUEUE_SIZE)},a={[s.REQUEST]:o.NETWORK_REQUEST,[s.REQUEST_TIMEOUT]:o.NETWORK_REQUEST_TIMEOUT,[s.REQUEST_QUEUE_SIZE]:o.NETWORK_REQUEST_QUEUE_SIZE},c=n(a);e.exports={events:s,wrap:e=>c[e]||e,unwrap:e=>a[e]||e}},3062:(e,t,r)=>{const n=r(9326),{KafkaJSError:o,KafkaJSNonRetriableError:i}=r(9879),{CONNECTION_STATUS:s}=r(5315);e.exports=({logger:e,cluster:t,partitioner:r,eosManager:a,idempotent:c,retrier:p,getConnectionStatus:u})=>{const l=n({logger:e,cluster:t,retrier:p,partitioner:r,eosManager:a}),d=async({acks:e=-1,timeout:t,compression:r,topicMessages:n=[]})=>{if(n.some((({topic:e})=>!e)))throw new i("Invalid topic");if(c&&-1!==e)throw new i("Not requiring ack for all messages invalidates the idempotent producer's EoS guarantees");for(const{topic:e,messages:t}of n){if(!t)throw new i(`Invalid messages array [${t}] for topic "${e}"`);const r=t.find((e=>void 0===e.value));if(r)throw new i(`Invalid message without value for topic "${e}": ${JSON.stringify(r)}`)}(()=>{switch(u()){case s.DISCONNECTING:throw new i("The producer is disconnecting; therefore, it can't safely accept messages anymore");case s.DISCONNECTED:throw new o("The producer is disconnected")}})();const a=n.reduce(((e,{topic:t,messages:r})=>{const n=e.findIndex((({topic:e})=>t===e));return-1===n?e.push({topic:t,messages:r}):e[n].messages=[...e[n].messages,...r],e}),[]);return await l({acks:e,timeout:t,compression:r,topicMessages:a})};return{send:async({acks:e,timeout:t,compression:r,topic:n,messages:o})=>d({acks:e,timeout:t,compression:r,topicMessages:[{topic:n,messages:o}]}),sendBatch:d}}},4655:(e,t,r)=>{const n=r(9416),o=r(6854);e.exports=o(n)},9416:e=>{const t=1540483477;e.exports=e=>{const r=Buffer.isBuffer(e)?e:Buffer.from(String(e)),n=r.length;let o=2538058380^n,i=n/4;for(let e=0;e<i;e++){const n=4*e;let i=(255&r[n+0])+((255&r[n+1])<<8)+((255&r[n+2])<<16)+((255&r[n+3])<<24);i*=t,i^=i>>>24,i*=t,o*=t,o^=i}switch(n%4){case 3:o^=(255&r[2+(-4&n)])<<16;case 2:o^=(255&r[1+(-4&n)])<<8;case 1:o^=255&r[-4&n],o*=t}return o^=o>>>13,o*=t,o^=o>>>15,o}},6854:(e,t,r)=>{const n=r(3875),o=e=>2147483647&e;e.exports=e=>()=>{let t=n(32).readUInt32BE(0);return({topic:r,partitionMetadata:n,message:i})=>{const s=n.length,a=n.filter((e=>e.leader>=0)),c=a.length;return null!==i.partition&&void 0!==i.partition?i.partition:null!==i.key&&void 0!==i.key?o(e(i.key))%s:c>0?a[o(++t)%c].partitionId:o(++t)%s}}},3875:(e,t,r)=>{const{KafkaJSNonRetriableError:n}=r(9879),o=e=>({randomBytes:t=>e.getRandomValues(Buffer.allocUnsafe(t))});let i=null;global&&global.crypto?i=void 0===global.crypto.randomBytes?o(global.crypto):global.crypto:global&&global.msCrypto?i=o(global.msCrypto):global&&!global.crypto&&(i=r(6417)),e.exports=e=>{if(e>65536)throw new n(`Byte length (${e}) exceeds the max number of bytes of entropy available (65536)`);if(!i)throw new n("No available crypto implementation");return i.randomBytes(e)}},5476:(e,t,r)=>{const n=r(4953),o=r(6854);e.exports=o(n)},4953:(e,t,r)=>{const n=r(3278),o=n.fromValue(2538058380),i=n.fromValue(1540483477),s=n.fromValue(24);e.exports=e=>{const t=Buffer.isBuffer(e)?e:Buffer.from(String(e)),r=t.length;let a=n.fromValue(o.xor(r)),c=Math.floor(r/4);for(let e=0;e<c;e++){const r=4*e;let o=(255&t[r+0])+((255&t[r+1])<<8)+((255&t[r+2])<<16)+((255&t[r+3])<<24);o=n.fromValue(o),o=o.multiply(i),o=o.xor(o.toInt()>>>s),o=n.fromValue(o).multiply(i),a=a.multiply(i),a=a.xor(o)}switch(r%4){case 3:a=a.xor((255&t[2+(-4&r)])<<16);case 2:a=a.xor((255&t[1+(-4&r)])<<8);case 1:a=a.xor(255&t[-4&r]),a=a.multiply(i)}return a=a.xor(a.toInt()>>>13),a=a.multiply(i),a=a.xor(a.toInt()>>>15),a.toInt()}},8691:(e,t,r)=>{const n=r(4655),o=r(5476);e.exports={DefaultPartitioner:n,JavaCompatiblePartitioner:o}},922:(e,t,r)=>{const n=r(4358);e.exports=({topics:e})=>{const t=e.map((({topicName:e,partitions:t})=>t.map((t=>({topicName:e,...t})))));return n(t)}},9326:(e,t,r)=>{const n=r(4358),{KafkaJSMetadataNotLoaded:o}=r(9879),{staleMetadata:i}=r(1701),s=r(65),a=r(8460),c=r(922),{keys:p}=Object;e.exports=({logger:e,cluster:t,partitioner:r,eosManager:u,retrier:l})=>async({acks:d,timeout:m,compression:f,topicMessages:h})=>{const g=new Map;return l((async(l,v,y)=>{const b=h.map((({topic:e})=>e));await t.addMultipleTargetTopics(b);try{const i=await(async n=>{const i=new Map;await t.refreshMetadataIfNecessary();for(const{topic:a,messages:c}of h){const l=t.findTopicPartitionMetadata(a);if(0===l.length)throw e.debug("Producing to topic without metadata",{topic:a,targetTopics:Array.from(t.targetTopics)}),new o("Producing to topic without metadata");const d=s({topic:a,partitionMetadata:l,messages:c,partitioner:r}),m=p(d),f=m.reduce(((e,t)=>(e[t]=u.getSequence(a,t),e)),{}),h=t.findLeaderForPartitions(a,m),g=p(h);i.set(a,{partitionsPerLeader:h,messagesPerPartition:d,sequencePerPartition:f});for(const e of g){const r=await t.findBroker({nodeId:e});n.has(r)||n.set(r,null)}}return Array.from(n.keys()).filter((e=>!n.get(e))).map((async e=>{const t=Array.from(i.entries()).filter((([t,{partitionsPerLeader:r}])=>!!r[e.nodeId])).map((([t,{partitionsPerLeader:r,messagesPerPartition:n,sequencePerPartition:o}])=>({topic:t,partitions:r[e.nodeId],sequencePerPartition:o,messagesPerPartition:n}))),r=a(t);try{u.isTransactional()&&await u.addPartitionsToTransaction(r);const t=await e.produce({transactionalId:u.isTransactional()?u.getTransactionalId():void 0,producerId:u.getProducerId(),producerEpoch:u.getProducerEpoch(),acks:d,timeout:m,compression:f,topicData:r}),o=0!==d?c(t):[];o.forEach((({topicName:e,partition:t})=>{const r=i.get(e).messagesPerPartition[t].length;u.updateSequence(e,t,r)})),n.set(e,o)}catch(t){throw n.delete(e),t}}))})(g);await Promise.all(i);const l=Array.from(g.values());return n(l)}catch(r){if("KafkaJSConnectionClosedError"===r.name&&t.removeBroker({host:r.host,port:r.port}),!t.isConnected())throw e.debug(`Cluster has disconnected, reconnecting: ${r.message}`,{retryCount:v,retryTime:y}),await t.connect(),await t.refreshMetadata(),r;if(i(r)||"KafkaJSMetadataNotLoaded"===r.name||"KafkaJSConnectionError"===r.name||"KafkaJSConnectionClosedError"===r.name||"KafkaJSProtocolError"===r.name&&r.retriable)throw e.error(`Failed to send messages: ${r.message}`,{retryCount:v,retryTime:y}),await t.refreshMetadata(),r;if(e.error(`${r.message}`,{retryCount:v,retryTime:y}),r.retriable)throw r;l(r)}}))}},3595:e=>{e.exports={UNKNOWN:0,ANY:1,ALL:2,READ:3,WRITE:4,CREATE:5,DELETE:6,ALTER:7,DESCRIBE:8,CLUSTER_ACTION:9,DESCRIBE_CONFIGS:10,ALTER_CONFIGS:11,IDEMPOTENT_WRITE:12}},4517:e=>{e.exports={UNKNOWN:0,ANY:1,DENY:2,ALLOW:3}},7666:e=>{e.exports={UNKNOWN:0,ANY:1,TOPIC:2,GROUP:3,CLUSTER:4,TRANSACTIONAL_ID:5,DELEGATION_TOKEN:6}},8279:e=>{e.exports={UNKNOWN:0,TOPIC:2,BROKER:4,BROKER_LOGGER:8}},7022:e=>{e.exports={GROUP:0,TRANSACTION:1}},1574:e=>{var t=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);e.exports=e=>{const{buffer:r}=e,n=r.length;let o=-1;for(let e=0;e<n;e++)o=t[255&(o^r[e])]^o>>>8;return-1^o}},6341:(e,t,r)=>{const n=r(3278);e.exports=class e{static int32Size(){return 4}static decodeZigZag(e){return e>>>1^-(1&e)}static decodeZigZag64(e){return e.shiftRightUnsigned(1).xor(e.and(n.fromInt(1)).negate())}constructor(e){this.buffer=e,this.offset=0}readInt8(){const e=this.buffer.readInt8(this.offset);return this.offset+=1,e}canReadInt16(){return this.canReadBytes(2)}readInt16(){const e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}canReadInt32(){return this.canReadBytes(4)}readInt32(){const e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}canReadInt64(){return this.canReadBytes(8)}readInt64(){const e=this.buffer[this.offset],t=this.buffer[this.offset+7],r=(e<<24)+65536*this.buffer[this.offset+1]+256*this.buffer[this.offset+2]+this.buffer[this.offset+3],n=this.buffer[this.offset+4]*2**24+65536*this.buffer[this.offset+5]+256*this.buffer[this.offset+6]+t;return this.offset+=8,(BigInt(r)<<32n)+BigInt(n)}readString(){const e=this.readInt16();if(-1===e)return null;const t=this.buffer.slice(this.offset,this.offset+e).toString("utf8");return this.offset+=e,t}readVarIntString(){const e=this.readVarInt();if(-1===e)return null;const t=this.buffer.slice(this.offset,this.offset+e).toString("utf8");return this.offset+=e,t}canReadBytes(e){return Buffer.byteLength(this.buffer)-this.offset>=e}readBytes(e=this.readInt32()){if(-1===e)return null;const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarIntBytes(){const e=this.readVarInt();if(-1===e)return null;const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readBoolean(){return 1===this.readInt8()}readAll(){const e=this.buffer.slice(this.offset);return this.offset+=Buffer.byteLength(this.buffer),e}readArray(e){const t=this.readInt32();if(-1===t)return[];const r=new Array(t);for(let n=0;n<t;n++)r[n]=e(this);return r}readVarIntArray(e){const t=this.readVarInt();if(-1===t)return[];const r=new Array(t);for(let n=0;n<t;n++)r[n]=e(this);return r}async readArrayAsync(e){const t=this.readInt32();if(-1===t)return[];const r=new Array(t);for(let n=0;n<t;n++)r[n]=await e(this);return r}readVarInt(){let t,r=0,n=0;do{t=this.buffer[this.offset++],r+=(127&t)<<n,n+=7}while(t>=128);return e.decodeZigZag(r)}readVarLong(){let t,r=n.fromInt(0),o=0;do{t=this.buffer[this.offset++],r=r.add(n.fromInt(127&t).shiftLeft(o)),o+=7}while(t>=128);return e.decodeZigZag64(r)}slice(t){return new e(this.buffer.slice(this.offset,this.offset+t))}forward(e){this.offset+=e}}},8783:(e,t,r)=>{const n=r(3278),o=4294967168,i=0xffffffffffffff80n;e.exports=class e{static encodeZigZag(e){return e<<1^e>>31}static encodeZigZag64(e){const t=n.fromValue(e);return t.shiftLeft(1).xor(t.shiftRight(63))}static sizeOfVarInt(e){let t=this.encodeZigZag(e),r=1;for(;0!=(t&o);)r+=1,t>>>=7;return r}static sizeOfVarLong(t){let r=e.encodeZigZag64(t),o=1;for(;r.and(i).notEquals(n.fromInt(0));)o+=1,r=r.shiftRightUnsigned(7);return o}static sizeOfVarIntBytes(t){const r=null==t?-1:Buffer.byteLength(t);return r<0?e.sizeOfVarInt(-1):e.sizeOfVarInt(r)+r}static nextPowerOfTwo(e){return 1<<31-Math.clz32(e)+1}constructor(t=511){this.buf=Buffer.alloc(e.nextPowerOfTwo(t)),this.offset=0}writeBufferInternal(e){const t=e.length;this.ensureAvailable(t),e.copy(this.buf,this.offset,0),this.offset+=t}ensureAvailable(t){if(this.offset+t>this.buf.length){const r=e.nextPowerOfTwo(this.offset+t),n=Buffer.alloc(r);this.buf.copy(n,0,0,this.offset),this.buf=n}}get buffer(){return this.buf.slice(0,this.offset)}writeInt8(e){return this.ensureAvailable(1),this.buf.writeInt8(e,this.offset),this.offset+=1,this}writeInt16(e){return this.ensureAvailable(2),this.buf.writeInt16BE(e,this.offset),this.offset+=2,this}writeInt32(e){return this.ensureAvailable(4),this.buf.writeInt32BE(e,this.offset),this.offset+=4,this}writeUInt32(e){return this.ensureAvailable(4),this.buf.writeUInt32BE(e,this.offset),this.offset+=4,this}writeInt64(e){this.ensureAvailable(8);const t=n.fromValue(e);return this.buf.writeInt32BE(t.getHighBits(),this.offset),this.buf.writeInt32BE(t.getLowBits(),this.offset+4),this.offset+=8,this}writeBoolean(e){return e?this.writeInt8(1):this.writeInt8(0),this}writeString(e){if(null==e)return this.writeInt16(-1),this;const t=Buffer.byteLength(e,"utf8");return this.ensureAvailable(2+t),this.writeInt16(t),this.buf.write(e,this.offset,t,"utf8"),this.offset+=t,this}writeVarIntString(e){if(null==e)return this.writeVarInt(-1),this;const t=Buffer.byteLength(e,"utf8");return this.writeVarInt(t),this.ensureAvailable(t),this.buf.write(e,this.offset,t,"utf8"),this.offset+=t,this}writeBytes(e){if(null==e)return this.writeInt32(-1),this;if(Buffer.isBuffer(e))this.ensureAvailable(4+e.length),this.writeInt32(e.length),this.writeBufferInternal(e);else{const t=String(e),r=Buffer.byteLength(t,"utf8");this.ensureAvailable(4+r),this.writeInt32(r),this.buf.write(t,this.offset,r,"utf8"),this.offset+=r}return this}writeVarIntBytes(e){if(null==e)return this.writeVarInt(-1),this;if(Buffer.isBuffer(e))this.writeVarInt(e.length),this.writeBufferInternal(e);else{const t=String(e),r=Buffer.byteLength(t,"utf8");this.writeVarInt(r),this.ensureAvailable(r),this.buf.write(t,this.offset,r,"utf8"),this.offset+=r}return this}writeEncoder(e){if(null==e||!Buffer.isBuffer(e.buf))throw new Error("value should be an instance of Encoder");return this.writeBufferInternal(e.buffer),this}writeEncoderArray(e){if(!Array.isArray(e)||e.some((e=>null==e||!Buffer.isBuffer(e.buf))))throw new Error("all values should be an instance of Encoder[]");return e.forEach((e=>{this.writeBufferInternal(e.buffer)})),this}writeBuffer(e){if(!Buffer.isBuffer(e))throw new Error("value should be an instance of Buffer");return this.writeBufferInternal(e),this}writeNullableArray(e,t){const r=0!==e.length?e.length:-1;return this.writeArray(e,t,r),this}writeArray(e,t,r){const n=null==r?e.length:r;if(this.writeInt32(n),void 0!==t)switch(t){case"int32":case"number":e.forEach((e=>this.writeInt32(e)));break;case"string":e.forEach((e=>this.writeString(e)));break;case"object":this.writeEncoderArray(e)}else e.forEach((e=>{switch(typeof e){case"number":this.writeInt32(e);break;case"string":this.writeString(e);break;case"object":this.writeEncoder(e)}}));return this}writeVarIntArray(e,t){if("object"===t)this.writeVarInt(e.length),this.writeEncoderArray(e);else{const t=e.filter((e=>"object"==typeof e));this.writeVarInt(t.length),this.writeEncoderArray(t)}return this}writeVarInt(t){const r=[];let n=e.encodeZigZag(t);for(;0!=(n&o);)r.push(127&n|128),n>>>=7;return r.push(127&n),this.writeBufferInternal(Buffer.from(r)),this}writeVarLong(t){const r=[];let o=e.encodeZigZag64(t);for(;o.and(i).notEquals(n.fromInt(0));)r.push(o.and(127).or(128).toInt()),o=o.shiftRightUnsigned(7);return r.push(o.toInt()),this.writeBufferInternal(Buffer.from(r)),this}size(){return this.offset}toJSON(){return this.buffer.toJSON()}}},1701:(e,t,r)=>{const{KafkaJSProtocolError:n}=r(9879),o=r(6779),i=[{type:"UNKNOWN",code:-1,retriable:!1,message:"The server experienced an unexpected error when processing the request"},{type:"OFFSET_OUT_OF_RANGE",code:1,retriable:!1,message:"The requested offset is not within the range of offsets maintained by the server"},{type:"CORRUPT_MESSAGE",code:2,retriable:!0,message:"This message has failed its CRC checksum, exceeds the valid size, or is otherwise corrupt"},{type:"UNKNOWN_TOPIC_OR_PARTITION",code:3,retriable:!0,message:"This server does not host this topic-partition"},{type:"INVALID_FETCH_SIZE",code:4,retriable:!1,message:"The requested fetch size is invalid"},{type:"LEADER_NOT_AVAILABLE",code:5,retriable:!0,message:"There is no leader for this topic-partition as we are in the middle of a leadership election"},{type:"NOT_LEADER_FOR_PARTITION",code:6,retriable:!0,message:"This server is not the leader for that topic-partition"},{type:"REQUEST_TIMED_OUT",code:7,retriable:!0,message:"The request timed out"},{type:"BROKER_NOT_AVAILABLE",code:8,retriable:!1,message:"The broker is not available"},{type:"REPLICA_NOT_AVAILABLE",code:9,retriable:!1,message:"The replica is not available for the requested topic-partition"},{type:"MESSAGE_TOO_LARGE",code:10,retriable:!1,message:"The request included a message larger than the max message size the server will accept"},{type:"STALE_CONTROLLER_EPOCH",code:11,retriable:!1,message:"The controller moved to another broker"},{type:"OFFSET_METADATA_TOO_LARGE",code:12,retriable:!1,message:"The metadata field of the offset request was too large"},{type:"NETWORK_EXCEPTION",code:13,retriable:!0,message:"The server disconnected before a response was received"},{type:"GROUP_LOAD_IN_PROGRESS",code:14,retriable:!0,message:"The coordinator is loading and hence can't process requests for this group"},{type:"GROUP_COORDINATOR_NOT_AVAILABLE",code:15,retriable:!0,message:"The group coordinator is not available"},{type:"NOT_COORDINATOR_FOR_GROUP",code:16,retriable:!0,message:"This is not the correct coordinator for this group"},{type:"INVALID_TOPIC_EXCEPTION",code:17,retriable:!1,message:"The request attempted to perform an operation on an invalid topic"},{type:"RECORD_LIST_TOO_LARGE",code:18,retriable:!1,message:"The request included message batch larger than the configured segment size on the server"},{type:"NOT_ENOUGH_REPLICAS",code:19,retriable:!0,message:"Messages are rejected since there are fewer in-sync replicas than required"},{type:"NOT_ENOUGH_REPLICAS_AFTER_APPEND",code:20,retriable:!0,message:"Messages are written to the log, but to fewer in-sync replicas than required"},{type:"INVALID_REQUIRED_ACKS",code:21,retriable:!1,message:"Produce request specified an invalid value for required acks"},{type:"ILLEGAL_GENERATION",code:22,retriable:!1,message:"Specified group generation id is not valid"},{type:"INCONSISTENT_GROUP_PROTOCOL",code:23,retriable:!1,message:"The group member's supported protocols are incompatible with those of existing members"},{type:"INVALID_GROUP_ID",code:24,retriable:!1,message:"The configured groupId is invalid"},{type:"UNKNOWN_MEMBER_ID",code:25,retriable:!1,message:"The coordinator is not aware of this member"},{type:"INVALID_SESSION_TIMEOUT",code:26,retriable:!1,message:"The session timeout is not within the range allowed by the broker (as configured by group.min.session.timeout.ms and group.max.session.timeout.ms)"},{type:"REBALANCE_IN_PROGRESS",code:27,retriable:!1,message:"The group is rebalancing, so a rejoin is needed",helpUrl:o("docs/faq","what-does-it-mean-to-get-rebalance-in-progress-errors")},{type:"INVALID_COMMIT_OFFSET_SIZE",code:28,retriable:!1,message:"The committing offset data size is not valid"},{type:"TOPIC_AUTHORIZATION_FAILED",code:29,retriable:!1,message:"Not authorized to access topics: [Topic authorization failed]"},{type:"GROUP_AUTHORIZATION_FAILED",code:30,retriable:!1,message:"Not authorized to access group: Group authorization failed"},{type:"CLUSTER_AUTHORIZATION_FAILED",code:31,retriable:!1,message:"Cluster authorization failed"},{type:"INVALID_TIMESTAMP",code:32,retriable:!1,message:"The timestamp of the message is out of acceptable range"},{type:"UNSUPPORTED_SASL_MECHANISM",code:33,retriable:!1,message:"The broker does not support the requested SASL mechanism"},{type:"ILLEGAL_SASL_STATE",code:34,retriable:!1,message:"Request is not valid given the current SASL state"},{type:"UNSUPPORTED_VERSION",code:35,retriable:!1,message:"The version of API is not supported"},{type:"TOPIC_ALREADY_EXISTS",code:36,retriable:!1,message:"Topic with this name already exists"},{type:"INVALID_PARTITIONS",code:37,retriable:!1,message:"Number of partitions is invalid"},{type:"INVALID_REPLICATION_FACTOR",code:38,retriable:!1,message:"Replication-factor is invalid"},{type:"INVALID_REPLICA_ASSIGNMENT",code:39,retriable:!1,message:"Replica assignment is invalid"},{type:"INVALID_CONFIG",code:40,retriable:!1,message:"Configuration is invalid"},{type:"NOT_CONTROLLER",code:41,retriable:!0,message:"This is not the correct controller for this cluster"},{type:"INVALID_REQUEST",code:42,retriable:!1,message:"This most likely occurs because of a request being malformed by the client library or the message was sen't to an incompatible broker. See the broker logs for more details"},{type:"UNSUPPORTED_FOR_MESSAGE_FORMAT",code:43,retriable:!1,message:"The message format version on the broker does not support the request"},{type:"POLICY_VIOLATION",code:44,retriable:!1,message:"Request parameters do not satisfy the configured policy"},{type:"OUT_OF_ORDER_SEQUENCE_NUMBER",code:45,retriable:!1,message:"The broker received an out of order sequence number"},{type:"DUPLICATE_SEQUENCE_NUMBER",code:46,retriable:!1,message:"The broker received a duplicate sequence number"},{type:"INVALID_PRODUCER_EPOCH",code:47,retriable:!1,message:"Producer attempted an operation with an old epoch. Either there is a newer producer with the same transactionalId, or the producer's transaction has been expired by the broker"},{type:"INVALID_TXN_STATE",code:48,retriable:!1,message:"The producer attempted a transactional operation in an invalid state"},{type:"INVALID_PRODUCER_ID_MAPPING",code:49,retriable:!1,message:"The producer attempted to use a producer id which is not currently assigned to its transactional id"},{type:"INVALID_TRANSACTION_TIMEOUT",code:50,retriable:!1,message:"The transaction timeout is larger than the maximum value allowed by the broker (as configured by max.transaction.timeout.ms)"},{type:"CONCURRENT_TRANSACTIONS",code:51,retriable:!0,message:"The producer attempted to update a transaction while another concurrent operation on the same transaction was ongoing"},{type:"TRANSACTION_COORDINATOR_FENCED",code:52,retriable:!1,message:"Indicates that the transaction coordinator sending a WriteTxnMarker is no longer the current coordinator for a given producer"},{type:"TRANSACTIONAL_ID_AUTHORIZATION_FAILED",code:53,retriable:!1,message:"Transactional Id authorization failed"},{type:"SECURITY_DISABLED",code:54,retriable:!1,message:"Security features are disabled"},{type:"OPERATION_NOT_ATTEMPTED",code:55,retriable:!1,message:"The broker did not attempt to execute this operation. This may happen for batched RPCs where some operations in the batch failed, causing the broker to respond without trying the rest"},{type:"KAFKA_STORAGE_ERROR",code:56,retriable:!0,message:"Disk error when trying to access log file on the disk"},{type:"LOG_DIR_NOT_FOUND",code:57,retriable:!1,message:"The user-specified log directory is not found in the broker config"},{type:"SASL_AUTHENTICATION_FAILED",code:58,retriable:!1,message:"SASL Authentication failed",helpUrl:o("docs/configuration","sasl")},{type:"UNKNOWN_PRODUCER_ID",code:59,retriable:!1,message:"This exception is raised by the broker if it could not locate the producer metadata associated with the producerId in question. This could happen if, for instance, the producer's records were deleted because their retention time had elapsed. Once the last records of the producerId are removed, the producer's metadata is removed from the broker, and future appends by the producer will return this exception"},{type:"REASSIGNMENT_IN_PROGRESS",code:60,retriable:!1,message:"A partition reassignment is in progress"},{type:"DELEGATION_TOKEN_AUTH_DISABLED",code:61,retriable:!1,message:"Delegation Token feature is not enabled"},{type:"DELEGATION_TOKEN_NOT_FOUND",code:62,retriable:!1,message:"Delegation Token is not found on server"},{type:"DELEGATION_TOKEN_OWNER_MISMATCH",code:63,retriable:!1,message:"Specified Principal is not valid Owner/Renewer"},{type:"DELEGATION_TOKEN_REQUEST_NOT_ALLOWED",code:64,retriable:!1,message:"Delegation Token requests are not allowed on PLAINTEXT/1-way SSL channels and on delegation token authenticated channels"},{type:"DELEGATION_TOKEN_AUTHORIZATION_FAILED",code:65,retriable:!1,message:"Delegation Token authorization failed"},{type:"DELEGATION_TOKEN_EXPIRED",code:66,retriable:!1,message:"Delegation Token is expired"},{type:"INVALID_PRINCIPAL_TYPE",code:67,retriable:!1,message:"Supplied principalType is not supported"},{type:"NON_EMPTY_GROUP",code:68,retriable:!1,message:"The group is not empty"},{type:"GROUP_ID_NOT_FOUND",code:69,retriable:!1,message:"The group id was not found"},{type:"FETCH_SESSION_ID_NOT_FOUND",code:70,retriable:!0,message:"The fetch session ID was not found"},{type:"INVALID_FETCH_SESSION_EPOCH",code:71,retriable:!0,message:"The fetch session epoch is invalid"},{type:"LISTENER_NOT_FOUND",code:72,retriable:!0,message:"There is no listener on the leader broker that matches the listener on which metadata request was processed"},{type:"TOPIC_DELETION_DISABLED",code:73,retriable:!1,message:"Topic deletion is disabled"},{type:"FENCED_LEADER_EPOCH",code:74,retriable:!0,message:"The leader epoch in the request is older than the epoch on the broker"},{type:"UNKNOWN_LEADER_EPOCH",code:75,retriable:!0,message:"The leader epoch in the request is newer than the epoch on the broker"},{type:"UNSUPPORTED_COMPRESSION_TYPE",code:76,retriable:!1,message:"The requesting client does not support the compression type of given partition"},{type:"STALE_BROKER_EPOCH",code:77,retriable:!1,message:"Broker epoch has changed"},{type:"OFFSET_NOT_AVAILABLE",code:78,retriable:!0,message:"The leader high watermark has not caught up from a recent leader election so the offsets cannot be guaranteed to be monotonically increasing"},{type:"MEMBER_ID_REQUIRED",code:79,retriable:!1,message:"The group member needs to have a valid member id before actually entering a consumer group"},{type:"PREFERRED_LEADER_NOT_AVAILABLE",code:80,retriable:!0,message:"The preferred leader was not available"},{type:"GROUP_MAX_SIZE_REACHED",code:81,retriable:!1,message:"The consumer group has reached its max size. It already has the configured maximum number of members"},{type:"FENCED_INSTANCE_ID",code:82,retriable:!1,message:"The broker rejected this static consumer since another consumer with the same group instance id has registered with a different member id"},{type:"ELIGIBLE_LEADERS_NOT_AVAILABLE",code:83,retriable:!0,message:"Eligible topic partition leaders are not available"},{type:"ELECTION_NOT_NEEDED",code:84,retriable:!0,message:"Leader election not needed for topic partition"},{type:"NO_REASSIGNMENT_IN_PROGRESS",code:85,retriable:!1,message:"No partition reassignment is in progress"},{type:"GROUP_SUBSCRIBED_TO_TOPIC",code:86,retriable:!1,message:"Deleting offsets of a topic is forbidden while the consumer group is actively subscribed to it"},{type:"INVALID_RECORD",code:87,retriable:!1,message:"This record has failed the validation on broker and hence be rejected"},{type:"UNSTABLE_OFFSET_COMMIT",code:88,retriable:!0,message:"There are unstable offsets that need to be cleared"}],s=e=>new n(i.find((t=>t.code===e))||{type:"KAFKAJS_UNKNOWN_ERROR_CODE",code:-99,retriable:!1,message:`Unknown error code ${e}`});e.exports={failure:e=>0!==e,errorCodes:i,createErrorFromCode:s,failIfVersionNotSupported:e=>{if(35===e)throw s(35)},staleMetadata:e=>["UNKNOWN_TOPIC_OR_PARTITION","LEADER_NOT_AVAILABLE","NOT_LEADER_FOR_PARTITION"].includes(e.type)}},2845:e=>{e.exports={READ_UNCOMMITTED:0,READ_COMMITTED:1}},6332:(e,t,r)=>{const{promisify:n}=r(1669),o=r(8761),i=n(o.gzip),s=n(o.unzip);e.exports={compress:async e=>await i(e.buffer),decompress:async e=>await s(e)}},2972:(e,t,r)=>{const{KafkaJSNotImplemented:n}=r(9879),o={None:0,GZIP:1,Snappy:2,LZ4:3,ZSTD:4},i={[o.GZIP]:()=>r(6332),[o.Snappy]:()=>{throw new n("Snappy compression not implemented")},[o.LZ4]:()=>{throw new n("LZ4 compression not implemented")},[o.ZSTD]:()=>{throw new n("ZSTD compression not implemented")}};e.exports={Types:o,Codecs:i,lookupCodec:e=>i[e]?i[e]():null,lookupCodecByAttributes:e=>{const t=i[7&e];return t?t():null},COMPRESSION_CODEC_MASK:7}},2691:(e,t,r)=>{const{KafkaJSPartialMessageError:n,KafkaJSUnsupportedMagicByteInMessageSet:o}=r(9879),i=r(2650),s=r(2801);e.exports=(e,t,r)=>{const a=Buffer.byteLength(r.slice(t).buffer);if(a<t)throw new n(`Tried to decode a partial message: remainingBytes(${a}) < messageSize(${t})`);const c=r.readInt32(),p=r.readInt8(),u=((e,t)=>{switch(t){case 0:return i(e);case 1:return s(e);default:throw new o(`Unsupported MessageSet message version, magic byte: ${t}`)}})(r,p);return Object.assign({offset:e,size:t,crc:c,magicByte:p},u)}},6615:(e,t,r)=>{const n={0:r(3154),1:r(6740)};e.exports=({version:e=0})=>n[e]},2650:e=>{e.exports=e=>({attributes:e.readInt8(),key:e.readBytes(),value:e.readBytes()})},3154:(e,t,r)=>{const n=r(8783),o=r(1574),{Types:i,COMPRESSION_CODEC_MASK:s}=r(2972);e.exports=({compression:e=i.None,key:t,value:r})=>{const a=(new n).writeInt8(0).writeInt8(e&s).writeBytes(t).writeBytes(r),c=o(a);return(new n).writeInt32(c).writeEncoder(a)}},2801:e=>{e.exports=e=>({attributes:e.readInt8(),timestamp:e.readInt64().toString(),key:e.readBytes(),value:e.readBytes()})},6740:(e,t,r)=>{const n=r(8783),o=r(1574),{Types:i,COMPRESSION_CODEC_MASK:s}=r(2972);e.exports=({compression:e=i.None,timestamp:t=Date.now(),key:r,value:a})=>{const c=(new n).writeInt8(1).writeInt8(e&s).writeInt64(t).writeBytes(r).writeBytes(a),p=o(c);return(new n).writeInt32(p).writeEncoder(c)}},4321:(e,t,r)=>{const n=r(3278),o=r(6341),i=r(2691),{lookupCodecByAttributes:s}=r(2972),{KafkaJSPartialMessageError:a}=r(9879);e.exports=async(e,t=null)=>{const r=[],n=t||e.readInt32(),i=e.slice(n);for(;i.offset<n;)try{const e=p(i),t=s(e.attributes);if(t){const n=await t.decompress(e.value);r.push(...c(new o(n),e))}else r.push(e)}catch(e){if("KafkaJSPartialMessageError"===e.name)break;if("KafkaJSUnsupportedMagicByteInMessageSet"===e.name)break;throw e}return e.forward(n),r};const c=(e,t)=>{const r=[];for(;e.offset<e.buffer.length;)r.push(p(e));if(t.magicByte>0&&t.offset>=0){const e=n.fromValue(t.offset)-n.fromValue(r[r.length-1].offset);for(const t of r)t.offset=n.fromValue(t.offset).add(e).toString()}return r},p=e=>{if(!e.canReadInt64())throw new a("Tried to decode a partial message: There isn't enough bytes to read the offset");const t=e.readInt64().toString();if(!e.canReadInt32())throw new a("Tried to decode a partial message: There isn't enough bytes to read the message size");const r=e.readInt32();return i(t,r,e)}},2032:(e,t,r)=>{const n=r(8783),o=r(6615),{Types:i}=r(2972);e.exports=({messageVersion:e=0,compression:t,entries:r})=>{const s=t!==i.None,a=o({version:e}),c=new n;return r.forEach(((e,t)=>{const r=a(e);c.writeInt64(s?t:-1),c.writeInt32(r.size()),c.writeEncoder(r)})),c}},6911:e=>{e.exports=e=>{let r=-1;for(let n=0;n<e.length;n++)r=t[255&(r^e[n])]^r>>>8;return(-1^r)>>>0};var t=new Int32Array([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697])},3398:(e,t,r)=>{const n=r(6911);e.exports=e=>{return t=n(e),Uint32Array.from([t])[0];var t}},7778:e=>{e.exports=e=>({key:e.readVarIntString(),value:e.readVarIntBytes()})},9537:(e,t,r)=>{const n=r(8783);e.exports=({key:e,value:t})=>(new n).writeVarIntString(e).writeVarIntBytes(t)},1240:(e,t,r)=>{const n=r(3278),o=r(7778),i=r(2515);e.exports=(e,t={})=>{const{firstOffset:r,firstTimestamp:s,magicByte:a,isControlBatch:c=!1,timestampType:p,maxTimestamp:u}=t,l=e.readInt8(),d=e.readVarLong(),m=p===i.LOG_APPEND_TIME&&u?u:n.fromValue(s).add(d).toString(),f=e.readVarInt();return{magicByte:a,attributes:l,timestamp:m,offset:n.fromValue(r).add(f).toString(),key:e.readVarIntBytes(),value:e.readVarIntBytes(),headers:e.readVarIntArray(o).reduce(((e,{key:t,value:r})=>({...e,[t]:r})),{}),isControlRecord:c,batchContext:t}}},6575:(e,t,r)=>{const n=r(8783),o=r(9537);e.exports=({offsetDelta:e=0,timestampDelta:t=0,key:r,value:s,headers:a={}})=>{const c=Object.keys(a).map((e=>({key:e,value:a[e]}))),p=1+n.sizeOfVarLong(t)+n.sizeOfVarInt(e)+n.sizeOfVarIntBytes(r)+n.sizeOfVarIntBytes(s)+i(c);return(new n).writeVarInt(p).writeInt8(0).writeVarLong(t).writeVarInt(e).writeVarIntBytes(r).writeVarIntBytes(s).writeVarIntArray(c.map(o))};const i=e=>{let t=n.sizeOfVarInt(e.length);for(const r of e){const e=Buffer.byteLength(r.key),o=Buffer.byteLength(r.value);t+=n.sizeOfVarInt(e)+e,null===r.value?t+=n.sizeOfVarInt(-1):t+=n.sizeOfVarInt(o)+o}return t}},3294:(e,t,r)=>{const n=r(6341),{KafkaJSPartialMessageError:o}=r(9879),{lookupCodecByAttributes:i}=r(2972),s=r(1240),a=r(2515);e.exports=async e=>{const t=e.readInt64().toString(),r=e.readInt32(),n=e.slice(r);e.forward(r);const s=Buffer.byteLength(n.buffer);if(s<r)throw new o(`Tried to decode a partial record batch: remainingBytes(${s}) < recordBatchLength(${r})`);const p=n.readInt32(),u=n.readInt8(),l=(n.readInt32(),n.readInt16()),d=n.readInt32(),m=n.readInt64().toString(),f=n.readInt64().toString(),h=n.readInt64().toString(),g=n.readInt16(),v=n.readInt32(),y=(16&l)>0,b=(32&l)>0,x=(8&l)>0?a.LOG_APPEND_TIME:a.CREATE_TIME,w=i(l),I={firstOffset:t,firstTimestamp:m,partitionLeaderEpoch:p,inTransaction:y,isControlBatch:b,lastOffsetDelta:d,producerId:h,producerEpoch:g,firstSequence:v,maxTimestamp:f,timestampType:x},S=await c(w,n,{...I,magicByte:u});return{...I,records:S}};const c=async(e,t,r)=>{if(!e)return t.readArray((e=>p(e,r)));const o=t.readInt32();if(o<=0)return[];const i=t.readAll(),s=await e.decompress(i),a=new n(s),c=new Array(o);for(let e=0;e<o;e++)c[e]=p(a,r);return c},p=(e,t)=>{const r=e.readVarIntBytes();return s(new n(r),t)}},2872:(e,t,r)=>{const n=r(3278),o=r(8783),i=r(3398),{Types:s,lookupCodec:a,COMPRESSION_CODEC_MASK:c}=r(2972);e.exports={RecordBatch:async({compression:e=s.None,firstOffset:t=n.fromInt(0),firstTimestamp:r=Date.now(),maxTimestamp:p=Date.now(),partitionLeaderEpoch:u=0,lastOffsetDelta:l=0,transactional:d=!1,producerId:m=n.fromValue(-1),producerEpoch:f=0,firstSequence:h=0,records:g=[]})=>{const v=0|e&c|(d?16:0),y=(new o).writeInt16(v).writeInt32(l).writeInt64(r).writeInt64(p).writeInt64(m).writeInt16(f).writeInt32(h);if(e===s.None)g.every((e=>typeof e==typeof g[0]))?y.writeArray(g,typeof g[0]):y.writeArray(g);else{const t=await(async(e,t)=>{const r=a(e),n=new o;return n.writeEncoderArray(t),r.compress(n)})(e,g);y.writeInt32(g.length).writeBuffer(t)}const b=(new o).writeInt32(u).writeInt8(2).writeUInt32(i(y.buffer)).writeEncoder(y);return(new o).writeInt64(t).writeBytes(b.buffer)},MAGIC_BYTE:2}},2882:(e,t,r)=>{const n=r(8783);e.exports=async({correlationId:e,clientId:t,request:{apiKey:r,apiVersion:o,encode:i}})=>{const s=await i(),a=(new n).writeInt16(r).writeInt16(o).writeInt32(e).writeString(t).writeEncoder(s);return(new n).writeInt32(a.size()).writeEncoder(a)}},4530:(e,t,r)=>{const n={0:({transactionalId:e,producerId:t,producerEpoch:n,groupId:o})=>{const i=r(8831),s=r(2374);return{request:i({transactionalId:e,producerId:t,producerEpoch:n,groupId:o}),response:s}},1:({transactionalId:e,producerId:t,producerEpoch:n,groupId:o})=>{const i=r(3347),s=r(2058);return{request:i({transactionalId:e,producerId:t,producerEpoch:n,groupId:o}),response:s}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},8831:(e,t,r)=>{const n=r(8783),{AddOffsetsToTxn:o}=r(9211);e.exports=({transactionalId:e,producerId:t,producerEpoch:r,groupId:i})=>({apiKey:o,apiVersion:0,apiName:"AddOffsetsToTxn",encode:async()=>(new n).writeString(e).writeInt64(t).writeInt16(r).writeString(i)})},2374:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),o=t.readInt16();return s(o),{throttleTime:r,errorCode:o}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},3347:(e,t,r)=>{const n=r(8831);e.exports=({transactionalId:e,producerId:t,producerEpoch:r,groupId:o})=>Object.assign(n({transactionalId:e,producerId:t,producerEpoch:r,groupId:o}),{apiVersion:1})},2058:(e,t,r)=>{const{parse:n,decode:o}=r(2374);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},3350:(e,t,r)=>{const n={0:({transactionalId:e,producerId:t,producerEpoch:n,topics:o})=>{const i=r(1805),s=r(5256);return{request:i({transactionalId:e,producerId:t,producerEpoch:n,topics:o}),response:s}},1:({transactionalId:e,producerId:t,producerEpoch:n,topics:o})=>{const i=r(7919),s=r(1361);return{request:i({transactionalId:e,producerId:t,producerEpoch:n,topics:o}),response:s}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},1805:(e,t,r)=>{const n=r(8783),{AddPartitionsToTxn:o}=r(9211);e.exports=({transactionalId:e,producerId:t,producerEpoch:r,topics:s})=>({apiKey:o,apiVersion:0,apiName:"AddPartitionsToTxn",encode:async()=>(new n).writeString(e).writeInt64(t).writeInt16(r).writeArray(s.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=e=>(new n).writeInt32(e)},5256:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=async e=>({topic:e.readString(),partitionErrors:await e.readArrayAsync(a)}),a=e=>({partition:e.readInt32(),errorCode:e.readInt16()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),errors:await t.readArrayAsync(s)}},parse:async e=>{const t=e.errors.map((({partitionErrors:e})=>({partitionsWithErrors:e.filter((({errorCode:e})=>o(e)))}))).filter((({partitionsWithErrors:e})=>e.length));if(t.length>0)throw i(t[0].partitionsWithErrors[0].errorCode);return e}}},7919:(e,t,r)=>{const n=r(1805);e.exports=({transactionalId:e,producerId:t,producerEpoch:r,topics:o})=>Object.assign(n({transactionalId:e,producerId:t,producerEpoch:r,topics:o}),{apiVersion:1})},1361:(e,t,r)=>{const{parse:n,decode:o}=r(5256);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},1858:(e,t,r)=>{const n={0:({resources:e,validateOnly:t})=>{const n=r(7654),o=r(3829);return{request:n({resources:e,validateOnly:t}),response:o}},1:({resources:e,validateOnly:t})=>{const n=r(4836),o=r(9739);return{request:n({resources:e,validateOnly:t}),response:o}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},7654:(e,t,r)=>{const n=r(8783),{AlterConfigs:o}=r(9211);e.exports=({resources:e,validateOnly:t=!1})=>({apiKey:o,apiVersion:0,apiName:"AlterConfigs",encode:async()=>(new n).writeArray(e.map(i)).writeBoolean(t)});const i=({type:e,name:t,configEntries:r})=>(new n).writeInt8(e).writeString(t).writeArray(r.map(s)),s=({name:e,value:t})=>(new n).writeString(e).writeString(t)},3829:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=e=>({errorCode:e.readInt16(),errorMessage:e.readString(),resourceType:e.readInt8(),resourceName:e.readString()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),resources:t.readArray(s)}},parse:async e=>{const t=e.resources.filter((({errorCode:e})=>o(e)));if(t.length>0)throw i(t[0].errorCode);return e}}},4836:(e,t,r)=>{const n=r(7654);e.exports=({resources:e,validateOnly:t})=>Object.assign(n({resources:e,validateOnly:t}),{apiVersion:1})},9739:(e,t,r)=>{const{parse:n,decode:o}=r(3829);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},9211:e=>{e.exports={Produce:0,Fetch:1,ListOffsets:2,Metadata:3,LeaderAndIsr:4,StopReplica:5,UpdateMetadata:6,ControlledShutdown:7,OffsetCommit:8,OffsetFetch:9,GroupCoordinator:10,JoinGroup:11,Heartbeat:12,LeaveGroup:13,SyncGroup:14,DescribeGroups:15,ListGroups:16,SaslHandshake:17,ApiVersions:18,CreateTopics:19,DeleteTopics:20,DeleteRecords:21,InitProducerId:22,OffsetForLeaderEpoch:23,AddPartitionsToTxn:24,AddOffsetsToTxn:25,EndTxn:26,WriteTxnMarkers:27,TxnOffsetCommit:28,DescribeAcls:29,CreateAcls:30,DeleteAcls:31,DescribeConfigs:32,AlterConfigs:33,AlterReplicaLogDirs:34,DescribeLogDirs:35,SaslAuthenticate:36,CreatePartitions:37,CreateDelegationToken:38,RenewDelegationToken:39,ExpireDelegationToken:40,DescribeDelegationToken:41,DeleteGroups:42,ElectPreferredLeaders:43}},7020:(e,t,r)=>{const n={0:()=>{const e=r(92),t=r(2839);return{request:e(),response:t,logResponseError:!0}},1:()=>{const e=r(4778),t=r(4313);return{request:e(),response:t,logResponseError:!1}},2:()=>{const e=r(4125),t=r(3267);return{request:e(),response:t,logResponseError:!1}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},92:(e,t,r)=>{const n=r(8783),{ApiVersions:o}=r(9211);e.exports=()=>({apiKey:o,apiVersion:0,apiName:"ApiVersions",encode:async()=>new n})},2839:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701),a=e=>({apiKey:e.readInt16(),minVersion:e.readInt16(),maxVersion:e.readInt16()});e.exports={decode:async e=>{const t=new n(e),r=t.readInt16();return s(r),{errorCode:r,apiVersions:t.readArray(a)}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},4778:(e,t,r)=>{const n=r(92);e.exports=()=>({...n(),apiVersion:1})},4313:(e,t,r)=>{const n=r(6341),{failIfVersionNotSupported:o}=r(1701),{parse:i}=r(2839),s=e=>({apiKey:e.readInt16(),minVersion:e.readInt16(),maxVersion:e.readInt16()});e.exports={decode:async e=>{const t=new n(e),r=t.readInt16();return o(r),{errorCode:r,apiVersions:t.readArray(s),throttleTime:t.canReadInt32()?t.readInt32():0}},parse:i}},4125:(e,t,r)=>{const n=r(92);e.exports=()=>({...n(),apiVersion:2})},3267:(e,t,r)=>{const{parse:n,decode:o}=r(4313);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},4950:(e,t,r)=>{const n={0:({creations:e})=>{const t=r(2073),n=r(8650);return{request:t({creations:e}),response:n}},1:({creations:e})=>{const t=r(160),n=r(1274);return{request:t({creations:e}),response:n}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},2073:(e,t,r)=>{const n=r(8783),{CreateAcls:o}=r(9211),i=({resourceType:e,resourceName:t,principal:r,host:o,operation:i,permissionType:s})=>(new n).writeInt8(e).writeString(t).writeString(r).writeString(o).writeInt8(i).writeInt8(s);e.exports=({creations:e})=>({apiKey:o,apiVersion:0,apiName:"CreateAcls",encode:async()=>(new n).writeArray(e.map(i))})},8650:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=e=>({errorCode:e.readInt16(),errorMessage:e.readString()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),creationResponses:t.readArray(s)}},parse:async e=>{const t=e.creationResponses.filter((({errorCode:e})=>o(e)));if(t.length>0)throw i(t[0].errorCode);return e}}},160:(e,t,r)=>{const n=r(8783),{CreateAcls:o}=r(9211),i=({resourceType:e,resourceName:t,resourcePatternType:r,principal:o,host:i,operation:s,permissionType:a})=>(new n).writeInt8(e).writeString(t).writeInt8(r).writeString(o).writeString(i).writeInt8(s).writeInt8(a);e.exports=({creations:e})=>({apiKey:o,apiVersion:1,apiName:"CreateAcls",encode:async()=>(new n).writeArray(e.map(i))})},1274:(e,t,r)=>{const{parse:n,decode:o}=r(8650);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},4842:(e,t,r)=>{const n={0:({topicPartitions:e,timeout:t,validateOnly:n})=>{const o=r(3272),i=r(1451);return{request:o({topicPartitions:e,timeout:t,validateOnly:n}),response:i}},1:({topicPartitions:e,validateOnly:t,timeout:n})=>{const o=r(2620),i=r(1932);return{request:o({topicPartitions:e,validateOnly:t,timeout:n}),response:i}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},3272:(e,t,r)=>{const n=r(8783),{CreatePartitions:o}=r(9211);e.exports=({topicPartitions:e,validateOnly:t=!1,timeout:r=5e3})=>({apiKey:o,apiVersion:0,apiName:"CreatePartitions",encode:async()=>(new n).writeArray(e.map(i)).writeInt32(r).writeBoolean(t)});const i=({topic:e,count:t,assignments:r=[]})=>(new n).writeString(e).writeInt32(t).writeNullableArray(r.map(s)),s=e=>(new n).writeNullableArray(e)},1451:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=(e,t)=>e.topic.localeCompare(t.topic),a=e=>({topic:e.readString(),errorCode:e.readInt16(),errorMessage:e.readString()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),topicErrors:t.readArray(a).sort(s)}},parse:async e=>{const t=e.topicErrors.filter((({errorCode:e})=>o(e)));if(t.length>0)throw i(t[0].errorCode);return e}}},2620:(e,t,r)=>{const n=r(3272);e.exports=({topicPartitions:e,validateOnly:t,timeout:r})=>Object.assign(n({topicPartitions:e,validateOnly:t,timeout:r}),{apiVersion:1})},1932:(e,t,r)=>{const{parse:n,decode:o}=r(1451);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},2346:(e,t,r)=>{const n={0:({topics:e,timeout:t})=>{const n=r(9752),o=r(4108);return{request:n({topics:e,timeout:t}),response:o}},1:({topics:e,validateOnly:t,timeout:n})=>{const o=r(4098),i=r(8053);return{request:o({topics:e,validateOnly:t,timeout:n}),response:i}},2:({topics:e,validateOnly:t,timeout:n})=>{const o=r(5669),i=r(9695);return{request:o({topics:e,validateOnly:t,timeout:n}),response:i}},3:({topics:e,validateOnly:t,timeout:n})=>{const o=r(4208),i=r(9264);return{request:o({topics:e,validateOnly:t,timeout:n}),response:i}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},9752:(e,t,r)=>{const n=r(8783),{CreateTopics:o}=r(9211);e.exports=({topics:e,timeout:t=5e3})=>({apiKey:o,apiVersion:0,apiName:"CreateTopics",encode:async()=>(new n).writeArray(e.map(i)).writeInt32(t)});const i=({topic:e,numPartitions:t=1,replicationFactor:r=1,replicaAssignment:o=[],configEntries:i=[]})=>(new n).writeString(e).writeInt32(t).writeInt16(r).writeArray(o.map(s)).writeArray(i.map(a)),s=({partition:e,replicas:t})=>(new n).writeInt32(e).writeArray(t),a=({name:e,value:t})=>(new n).writeString(e).writeString(t)},4108:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=(e,t)=>e.topic.localeCompare(t.topic),a=e=>({topic:e.readString(),errorCode:e.readInt16()});e.exports={decode:async e=>({topicErrors:new n(e).readArray(a).sort(s)}),parse:async e=>{const t=e.topicErrors.filter((({errorCode:e})=>o(e)));if(t.length>0)throw i(t[0].errorCode);return e}}},4098:(e,t,r)=>{const n=r(8783),{CreateTopics:o}=r(9211);e.exports=({topics:e,validateOnly:t=!1,timeout:r=5e3})=>({apiKey:o,apiVersion:1,apiName:"CreateTopics",encode:async()=>(new n).writeArray(e.map(i)).writeInt32(r).writeBoolean(t)});const i=({topic:e,numPartitions:t=1,replicationFactor:r=1,replicaAssignment:o=[],configEntries:i=[]})=>(new n).writeString(e).writeInt32(t).writeInt16(r).writeArray(o.map(s)).writeArray(i.map(a)),s=({partition:e,replicas:t})=>(new n).writeInt32(e).writeArray(t),a=({name:e,value:t})=>(new n).writeString(e).writeString(t)},8053:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=(e,t)=>e.topic.localeCompare(t.topic),a=e=>({topic:e.readString(),errorCode:e.readInt16(),errorMessage:e.readString()});e.exports={decode:async e=>({topicErrors:new n(e).readArray(a).sort(s)}),parse:async e=>{const t=e.topicErrors.filter((({errorCode:e})=>o(e)));if(t.length>0)throw i(t[0].errorCode);return e}}},5669:(e,t,r)=>{const n=r(4098);e.exports=({topics:e,validateOnly:t,timeout:r})=>Object.assign(n({topics:e,validateOnly:t,timeout:r}),{apiVersion:2})},9695:(e,t,r)=>{const n=r(6341),{parse:o}=r(8053),i=(e,t)=>e.topic.localeCompare(t.topic),s=e=>({topic:e.readString(),errorCode:e.readInt16(),errorMessage:e.readString()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),topicErrors:t.readArray(s).sort(i)}},parse:o}},4208:(e,t,r)=>{const n=r(5669);e.exports=({topics:e,validateOnly:t,timeout:r})=>Object.assign(n({topics:e,validateOnly:t,timeout:r}),{apiVersion:3})},9264:(e,t,r)=>{const{parse:n,decode:o}=r(9695);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},1491:(e,t,r)=>{const n={0:({filters:e})=>{const t=r(6054),n=r(6061);return{request:t({filters:e}),response:n}},1:({filters:e})=>{const t=r(2349),n=r(1765);return{request:t({filters:e}),response:n}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},6054:(e,t,r)=>{const n=r(8783),{DeleteAcls:o}=r(9211),i=({resourceType:e,resourceName:t,principal:r,host:o,operation:i,permissionType:s})=>(new n).writeInt8(e).writeString(t).writeString(r).writeString(o).writeInt8(i).writeInt8(s);e.exports=({filters:e})=>({apiKey:o,apiVersion:0,apiName:"DeleteAcls",encode:async()=>(new n).writeArray(e.map(i))})},6061:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=e=>({errorCode:e.readInt16(),errorMessage:e.readString(),resourceType:e.readInt8(),resourceName:e.readString(),principal:e.readString(),host:e.readString(),operation:e.readInt8(),permissionType:e.readInt8()}),a=e=>({errorCode:e.readInt16(),errorMessage:e.readString(),matchingAcls:e.readArray(s)});e.exports={decodeMatchingAcls:s,decodeFilterResponse:a,decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),filterResponses:t.readArray(a)}},parse:async e=>{const t=e.filterResponses.filter((({errorCode:e})=>o(e)));if(t.length>0)throw i(t[0].errorCode);for(const t of e.filterResponses){const e=t.matchingAcls.filter((({errorCode:e})=>o(e)));if(e.length>0)throw i(e[0].errorCode)}return e}}},2349:(e,t,r)=>{const n=r(8783),{DeleteAcls:o}=r(9211),i=({resourceType:e,resourceName:t,resourcePatternType:r,principal:o,host:i,operation:s,permissionType:a})=>(new n).writeInt8(e).writeString(t).writeInt8(r).writeString(o).writeString(i).writeInt8(s).writeInt8(a);e.exports=({filters:e})=>({apiKey:o,apiVersion:1,apiName:"DeleteAcls",encode:async()=>(new n).writeArray(e.map(i))})},1765:(e,t,r)=>{const n=r(6341),{parse:o}=r(6061),i=e=>({errorCode:e.readInt16(),errorMessage:e.readString(),resourceType:e.readInt8(),resourceName:e.readString(),resourcePatternType:e.readInt8(),principal:e.readString(),host:e.readString(),operation:e.readInt8(),permissionType:e.readInt8()}),s=e=>({errorCode:e.readInt16(),errorMessage:e.readString(),matchingAcls:e.readArray(i)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:0,clientSideThrottleTime:t.readInt32(),filterResponses:t.readArray(s)}},parse:o}},2086:(e,t,r)=>{const n={0:e=>{const t=r(1254),n=r(5276);return{request:t(e),response:n}},1:e=>{const t=r(7967),n=r(4782);return{request:t(e),response:n}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},1254:(e,t,r)=>{const n=r(8783),{DeleteGroups:o}=r(9211);e.exports=e=>({apiKey:o,apiVersion:0,apiName:"DeleteGroups",encode:async()=>(new n).writeArray(e.map(i))});const i=e=>(new n).writeString(e)},5276:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=e=>({groupId:e.readString(),errorCode:e.readInt16()});e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),a=t.readArray(s);for(const e of a)o(e.errorCode)&&(e.error=i(e.errorCode));return{throttleTimeMs:r,results:a}},parse:async e=>e}},7967:(e,t,r)=>{const n=r(1254);e.exports=e=>Object.assign(n(e),{apiVersion:1})},4782:(e,t,r)=>{const{parse:n,decode:o}=r(5276);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},8035:(e,t,r)=>{const n={0:({topics:e,timeout:t})=>{const n=r(2970),o=r(9645);return{request:n({topics:e,timeout:t}),response:o({topics:e})}},1:({topics:e,timeout:t})=>{const n=r(8993),o=r(2328);return{request:n({topics:e,timeout:t}),response:o({topics:e})}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},2970:(e,t,r)=>{const n=r(8783),{DeleteRecords:o}=r(9211);e.exports=({topics:e,timeout:t=5e3})=>({apiKey:o,apiVersion:0,apiName:"DeleteRecords",encode:async()=>(new n).writeArray(e.map((({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map((({partition:e,offset:t})=>(new n).writeInt32(e).writeInt64(t))))))).writeInt32(t)})},9645:(e,t,r)=>{const n=r(6341),{KafkaJSDeleteTopicRecordsError:o}=r(9879),{failure:i,createErrorFromCode:s}=r(1701),a=(e,t)=>e.topic.localeCompare(t.topic),c=async e=>{const t=new n(e);return{throttleTime:t.readInt32(),topics:t.readArray((e=>({topic:e.readString(),partitions:e.readArray((e=>({partition:e.readInt32(),lowWatermark:e.readInt64(),errorCode:e.readInt16()})))}))).sort(a)}};e.exports=({topics:e})=>{return{decode:c,parse:(t=e,async e=>{const r=e.topics.map((({partitions:e})=>({partitionsWithErrors:e.filter((({errorCode:e})=>i(e)))}))).filter((({partitionsWithErrors:e})=>e.length));if(r.length>0){const[{topic:n}]=e.topics,[{partitions:i}]=t,[{partitionsWithErrors:a}]=r;throw new o({topic:n,partitions:a.map((({partition:e,errorCode:t})=>({partition:e,error:s(t),offset:i.find((t=>t.partition===e)).offset})))})}return e})};var t}},8993:(e,t,r)=>{const n=r(2970);e.exports=({topics:e,timeout:t})=>Object.assign(n({topics:e,timeout:t}),{apiVersion:1})},2328:(e,t,r)=>{const n=r(9645);e.exports=({topics:e})=>{const{parse:t,decode:r}=n({topics:e});return{decode:async e=>{const t=await r(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:t}}},9038:(e,t,r)=>{const n={0:({topics:e,timeout:t})=>{const n=r(4255),o=r(8534);return{request:n({topics:e,timeout:t}),response:o}},1:({topics:e,timeout:t})=>{const n=r(7827),o=r(7530);return{request:n({topics:e,timeout:t}),response:o}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},4255:(e,t,r)=>{const n=r(8783),{DeleteTopics:o}=r(9211);e.exports=({topics:e,timeout:t=5e3})=>({apiKey:o,apiVersion:0,apiName:"DeleteTopics",encode:async()=>(new n).writeArray(e).writeInt32(t)})},8534:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=(e,t)=>e.topic.localeCompare(t.topic),a=e=>({topic:e.readString(),errorCode:e.readInt16()});e.exports={decode:async e=>({topicErrors:new n(e).readArray(a).sort(s)}),parse:async e=>{const t=e.topicErrors.filter((({errorCode:e})=>o(e)));if(t.length>0)throw i(t[0].errorCode);return e}}},7827:(e,t,r)=>{const n=r(4255);e.exports=({topics:e,timeout:t})=>Object.assign(n({topics:e,timeout:t}),{apiVersion:1})},7530:(e,t,r)=>{const n=r(6341),{parse:o}=r(8534),i=(e,t)=>e.topic.localeCompare(t.topic),s=e=>({topic:e.readString(),errorCode:e.readInt16()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:0,clientSideThrottleTime:t.readInt32(),topicErrors:t.readArray(s).sort(i)}},parse:o}},5665:(e,t,r)=>{const n={0:({resourceType:e,resourceName:t,principal:n,host:o,operation:i,permissionType:s})=>{const a=r(1106),c=r(2590);return{request:a({resourceType:e,resourceName:t,principal:n,host:o,operation:i,permissionType:s}),response:c}},1:({resourceType:e,resourceName:t,resourcePatternType:n,principal:o,host:i,operation:s,permissionType:a})=>{const c=r(7696),p=r(7952);return{request:c({resourceType:e,resourceName:t,resourcePatternType:n,principal:o,host:i,operation:s,permissionType:a}),response:p}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},1106:(e,t,r)=>{const n=r(8783),{DescribeAcls:o}=r(9211);e.exports=({resourceType:e,resourceName:t,principal:r,host:i,operation:s,permissionType:a})=>({apiKey:o,apiVersion:0,apiName:"DescribeAcls",encode:async()=>(new n).writeInt8(e).writeString(t).writeString(r).writeString(i).writeInt8(s).writeInt8(a)})},2590:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=e=>({principal:e.readString(),host:e.readString(),operation:e.readInt8(),permissionType:e.readInt8()}),a=e=>({resourceType:e.readInt8(),resourceName:e.readString(),acls:e.readArray(s)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),errorCode:t.readInt16(),errorMessage:t.readString(),resources:t.readArray(a)}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},7696:(e,t,r)=>{const n=r(8783),{DescribeAcls:o}=r(9211);e.exports=({resourceType:e,resourceName:t,resourcePatternType:r,principal:i,host:s,operation:a,permissionType:c})=>({apiKey:o,apiVersion:1,apiName:"DescribeAcls",encode:async()=>(new n).writeInt8(e).writeString(t).writeInt8(r).writeString(i).writeString(s).writeInt8(a).writeInt8(c)})},7952:(e,t,r)=>{const{parse:n}=r(2590),o=r(6341),i=e=>({principal:e.readString(),host:e.readString(),operation:e.readInt8(),permissionType:e.readInt8()}),s=e=>({resourceType:e.readInt8(),resourceName:e.readString(),resourcePatternType:e.readInt8(),acls:e.readArray(i)});e.exports={decode:async e=>{const t=new o(e);return{throttleTime:0,clientSideThrottleTime:t.readInt32(),errorCode:t.readInt16(),errorMessage:t.readString(),resources:t.readArray(s)}},parse:n}},6450:(e,t,r)=>{const n={0:({resources:e})=>{const t=r(7511),n=r(3707);return{request:t({resources:e}),response:n}},1:({resources:e,includeSynonyms:t})=>{const n=r(4017),o=r(1636);return{request:n({resources:e,includeSynonyms:t}),response:o}},2:({resources:e,includeSynonyms:t})=>{const n=r(942),o=r(4410);return{request:n({resources:e,includeSynonyms:t}),response:o}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},7511:(e,t,r)=>{const n=r(8783),{DescribeConfigs:o}=r(9211);e.exports=({resources:e})=>({apiKey:o,apiVersion:0,apiName:"DescribeConfigs",encode:async()=>(new n).writeArray(e.map(i))});const i=({type:e,name:t,configNames:r=[]})=>(new n).writeInt8(e).writeString(t).writeNullableArray(r)},3707:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=e=>({configName:e.readString(),configValue:e.readString(),readOnly:e.readBoolean(),isDefault:e.readBoolean(),isSensitive:e.readBoolean()}),a=e=>({errorCode:e.readInt16(),errorMessage:e.readString(),resourceType:e.readInt8(),resourceName:e.readString(),configEntries:e.readArray(s)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),resources:t.readArray(a)}},parse:async e=>{const t=e.resources.filter((({errorCode:e})=>o(e)));if(t.length>0)throw i(t[0].errorCode);return e}}},4017:(e,t,r)=>{const n=r(8783),{DescribeConfigs:o}=r(9211);e.exports=({resources:e,includeSynonyms:t=!1})=>({apiKey:o,apiVersion:1,apiName:"DescribeConfigs",encode:async()=>(new n).writeArray(e.map(i)).writeBoolean(t)});const i=({type:e,name:t,configNames:r=[]})=>(new n).writeInt8(e).writeString(t).writeNullableArray(r)},1636:(e,t,r)=>{const n=r(6341),{parse:o}=r(3707),i=e=>({configName:e.readString(),configValue:e.readString(),configSource:e.readInt8()}),s=e=>({configName:e.readString(),configValue:e.readString(),readOnly:e.readBoolean(),isDefault:e.readBoolean(),isSensitive:e.readBoolean(),configSynonyms:e.readArray(i)}),a=e=>({errorCode:e.readInt16(),errorMessage:e.readString(),resourceType:e.readInt8(),resourceName:e.readString(),configEntries:e.readArray(s)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),resources:t.readArray(a)}},parse:o}},942:(e,t,r)=>{const n=r(4017);e.exports=({resources:e,includeSynonyms:t})=>Object.assign(n({resources:e,includeSynonyms:t}),{apiVersion:2})},4410:(e,t,r)=>{const{parse:n,decode:o}=r(1636);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},7927:(e,t,r)=>{const n={0:({groupIds:e})=>{const t=r(2228),n=r(3251);return{request:t({groupIds:e}),response:n}},1:({groupIds:e})=>{const t=r(6106),n=r(4332);return{request:t({groupIds:e}),response:n}},2:({groupIds:e})=>{const t=r(4106),n=r(5902);return{request:t({groupIds:e}),response:n}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},2228:(e,t,r)=>{const n=r(8783),{DescribeGroups:o}=r(9211);e.exports=({groupIds:e})=>({apiKey:o,apiVersion:0,apiName:"DescribeGroups",encode:async()=>(new n).writeArray(e)})},3251:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=e=>({memberId:e.readString(),clientId:e.readString(),clientHost:e.readString(),memberMetadata:e.readBytes(),memberAssignment:e.readBytes()}),a=e=>({errorCode:e.readInt16(),groupId:e.readString(),state:e.readString(),protocolType:e.readString(),protocol:e.readString(),members:e.readArray(s)});e.exports={decode:async e=>({groups:new n(e).readArray(a)}),parse:async e=>{const t=e.groups.filter((({errorCode:e})=>o(e)));if(t.length>0)throw i(t[0].errorCode);return e}}},6106:(e,t,r)=>{const n=r(2228);e.exports=({groupIds:e})=>Object.assign(n({groupIds:e}),{apiVersion:1})},4332:(e,t,r)=>{const n=r(6341),{parse:o}=r(3251),i=e=>({memberId:e.readString(),clientId:e.readString(),clientHost:e.readString(),memberMetadata:e.readBytes(),memberAssignment:e.readBytes()}),s=e=>({errorCode:e.readInt16(),groupId:e.readString(),state:e.readString(),protocolType:e.readString(),protocol:e.readString(),members:e.readArray(i)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),groups:t.readArray(s)}},parse:o}},4106:(e,t,r)=>{const n=r(6106);e.exports=({groupIds:e})=>Object.assign(n({groupIds:e}),{apiVersion:2})},5902:(e,t,r)=>{const{parse:n,decode:o}=r(4332);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},2059:(e,t,r)=>{const n={0:({transactionalId:e,producerId:t,producerEpoch:n,transactionResult:o})=>{const i=r(7446),s=r(1707);return{request:i({transactionalId:e,producerId:t,producerEpoch:n,transactionResult:o}),response:s}},1:({transactionalId:e,producerId:t,producerEpoch:n,transactionResult:o})=>{const i=r(5306),s=r(4786);return{request:i({transactionalId:e,producerId:t,producerEpoch:n,transactionResult:o}),response:s}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},7446:(e,t,r)=>{const n=r(8783),{EndTxn:o}=r(9211);e.exports=({transactionalId:e,producerId:t,producerEpoch:r,transactionResult:i})=>({apiKey:o,apiVersion:0,apiName:"EndTxn",encode:async()=>(new n).writeString(e).writeInt64(t).writeInt16(r).writeBoolean(i)})},1707:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),o=t.readInt16();return s(o),{throttleTime:r,errorCode:o}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},5306:(e,t,r)=>{const n=r(7446);e.exports=({transactionalId:e,producerId:t,producerEpoch:r,transactionResult:o})=>Object.assign(n({transactionalId:e,producerId:t,producerEpoch:r,transactionResult:o}),{apiVersion:1})},4786:(e,t,r)=>{const{parse:n,decode:o}=r(1707);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},8681:(e,t,r)=>{const n=r(2845),o=e=>Number.isSafeInteger(e+100)?e+100:e,i={0:({replicaId:e=-1,maxWaitTime:t,minBytes:n,topics:i})=>{const s=r(2818),a=r(3583);return{request:s({replicaId:e,maxWaitTime:t,minBytes:n,topics:i}),response:a,requestTimeout:o(t)}},1:({replicaId:e=-1,maxWaitTime:t,minBytes:n,topics:i})=>{const s=r(8087),a=r(2155);return{request:s({replicaId:e,maxWaitTime:t,minBytes:n,topics:i}),response:a,requestTimeout:o(t)}},2:({replicaId:e=-1,maxWaitTime:t,minBytes:n,topics:i})=>{const s=r(2045),a=r(7628);return{request:s({replicaId:e,maxWaitTime:t,minBytes:n,topics:i}),response:a,requestTimeout:o(t)}},3:({replicaId:e=-1,maxWaitTime:t,minBytes:n,maxBytes:i,topics:s})=>{const a=r(4704),c=r(1828);return{request:a({replicaId:e,maxWaitTime:t,minBytes:n,maxBytes:i,topics:s}),response:c,requestTimeout:o(t)}},4:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,maxWaitTime:i,minBytes:s,maxBytes:a,topics:c})=>{const p=r(7737),u=r(6668);return{request:p({replicaId:e,isolationLevel:t,maxWaitTime:i,minBytes:s,maxBytes:a,topics:c}),response:u,requestTimeout:o(i)}},5:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,maxWaitTime:i,minBytes:s,maxBytes:a,topics:c})=>{const p=r(2881),u=r(9214);return{request:p({replicaId:e,isolationLevel:t,maxWaitTime:i,minBytes:s,maxBytes:a,topics:c}),response:u,requestTimeout:o(i)}},6:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,maxWaitTime:i,minBytes:s,maxBytes:a,topics:c})=>{const p=r(4939),u=r(5646);return{request:p({replicaId:e,isolationLevel:t,maxWaitTime:i,minBytes:s,maxBytes:a,topics:c}),response:u,requestTimeout:o(i)}},7:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,sessionId:i=0,sessionEpoch:s=-1,forgottenTopics:a=[],maxWaitTime:c,minBytes:p,maxBytes:u,topics:l})=>{const d=r(3431),m=r(3456);return{request:d({replicaId:e,isolationLevel:t,sessionId:i,sessionEpoch:s,forgottenTopics:a,maxWaitTime:c,minBytes:p,maxBytes:u,topics:l}),response:m,requestTimeout:o(c)}},8:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,sessionId:i=0,sessionEpoch:s=-1,forgottenTopics:a=[],maxWaitTime:c,minBytes:p,maxBytes:u,topics:l})=>{const d=r(4427),m=r(7004);return{request:d({replicaId:e,isolationLevel:t,sessionId:i,sessionEpoch:s,forgottenTopics:a,maxWaitTime:c,minBytes:p,maxBytes:u,topics:l}),response:m,requestTimeout:o(c)}},9:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,sessionId:i=0,sessionEpoch:s=-1,forgottenTopics:a=[],maxWaitTime:c,minBytes:p,maxBytes:u,topics:l})=>{const d=r(7988),m=r(9272);return{request:d({replicaId:e,isolationLevel:t,sessionId:i,sessionEpoch:s,forgottenTopics:a,maxWaitTime:c,minBytes:p,maxBytes:u,topics:l}),response:m,requestTimeout:o(c)}},10:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,sessionId:i=0,sessionEpoch:s=-1,forgottenTopics:a=[],maxWaitTime:c,minBytes:p,maxBytes:u,topics:l})=>{const d=r(3504),m=r(3882);return{request:d({replicaId:e,isolationLevel:t,sessionId:i,sessionEpoch:s,forgottenTopics:a,maxWaitTime:c,minBytes:p,maxBytes:u,topics:l}),response:m,requestTimeout:o(c)}},11:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,sessionId:i=0,sessionEpoch:s=-1,forgottenTopics:a=[],maxWaitTime:c,minBytes:p,maxBytes:u,topics:l,rackId:d})=>{const m=r(1592),f=r(8405);return{request:m({replicaId:e,isolationLevel:t,sessionId:i,sessionEpoch:s,forgottenTopics:a,maxWaitTime:c,minBytes:p,maxBytes:u,topics:l,rackId:d}),response:f,requestTimeout:o(c)}}};e.exports={versions:Object.keys(i),protocol:({version:e})=>i[e]}},2818:(e,t,r)=>{const n=r(8783),{Fetch:o}=r(9211);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,topics:s})=>({apiKey:o,apiVersion:0,apiName:"Fetch",encode:async()=>(new n).writeInt32(e).writeInt32(t).writeInt32(r).writeArray(s.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,fetchOffset:t,maxBytes:r})=>(new n).writeInt32(e).writeInt64(t).writeInt32(r)},3583:(e,t,r)=>{const n=r(6341),{KafkaJSOffsetOutOfRange:o}=r(9879),{failure:i,createErrorFromCode:s,errorCodes:a}=r(1701),c=r(4358),p=r(4321),u=async e=>({partition:e.readInt32(),errorCode:e.readInt16(),highWatermark:e.readInt64().toString(),messages:await p(e)}),l=async e=>({topicName:e.readString(),partitions:await e.readArrayAsync(u)}),{code:d}=a.find((e=>"OFFSET_OUT_OF_RANGE"===e.type));e.exports={decode:async e=>{const t=new n(e);return{responses:await t.readArrayAsync(l)}},parse:async e=>{const t=e.responses.map((({topicName:e,partitions:t})=>t.filter((e=>i(e.errorCode))).map((t=>Object.assign({},t,{topic:e}))))),r=c(t);if(r.length>0){const{errorCode:e,topic:t,partition:n}=r[0];if(e===d)throw new o(s(e),{topic:t,partition:n});throw s(e)}return e}}},8087:(e,t,r)=>{const n=r(2818);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,topics:o})=>Object.assign(n({replicaId:e,maxWaitTime:t,minBytes:r,topics:o}),{apiVersion:1})},2155:(e,t,r)=>{const n=r(6341),{parse:o}=r(3583),i=r(4321),s=async e=>({partition:e.readInt32(),errorCode:e.readInt16(),highWatermark:e.readInt64().toString(),messages:await i(e)}),a=async e=>({topicName:e.readString(),partitions:await e.readArrayAsync(s)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),responses:await t.readArrayAsync(a)}},parse:o}},3504:(e,t,r)=>{const n=r(2845),o=r(7988);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:i,topics:s,isolationLevel:a=n.READ_COMMITTED,sessionId:c=0,sessionEpoch:p=-1,forgottenTopics:u=[]})=>Object.assign(o({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:i,topics:s,isolationLevel:a,sessionId:c,sessionEpoch:p,forgottenTopics:u}),{apiVersion:10})},3882:(e,t,r)=>{const{decode:n,parse:o}=r(9272);e.exports={decode:n,parse:o}},1592:(e,t,r)=>{const n=r(8783),{Fetch:o}=r(9211),i=r(2845);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:c,topics:p,rackId:u="",isolationLevel:l=i.READ_COMMITTED,sessionId:d=0,sessionEpoch:m=-1,forgottenTopics:f=[]})=>({apiKey:o,apiVersion:11,apiName:"Fetch",encode:async()=>(new n).writeInt32(e).writeInt32(t).writeInt32(r).writeInt32(c).writeInt8(l).writeInt32(d).writeInt32(m).writeArray(p.map(a)).writeArray(f.map(s)).writeString(u)});const s=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t),a=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(c)),c=({partition:e,currentLeaderEpoch:t=-1,fetchOffset:r,logStartOffset:o=-1,maxBytes:i})=>(new n).writeInt32(e).writeInt32(t).writeInt64(r).writeInt64(o).writeInt32(i)},8405:(e,t,r)=>{const n=r(6341),{parse:o}=r(2155),i=r(5643),s=e=>({producerId:e.readInt64().toString(),firstOffset:e.readInt64().toString()}),a=async e=>({partition:e.readInt32(),errorCode:e.readInt16(),highWatermark:e.readInt64().toString(),lastStableOffset:e.readInt64().toString(),lastStartOffset:e.readInt64().toString(),abortedTransactions:e.readArray(s),preferredReadReplica:e.readInt32(),messages:await i(e)}),c=async e=>({topicName:e.readString(),partitions:await e.readArrayAsync(a)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:0,clientSideThrottleTime:t.readInt32(),errorCode:t.readInt16(),sessionId:t.readInt32(),responses:await t.readArrayAsync(c)}},parse:o}},2045:(e,t,r)=>{const n=r(2818);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,topics:o})=>Object.assign(n({replicaId:e,maxWaitTime:t,minBytes:r,topics:o}),{apiVersion:2})},7628:(e,t,r)=>{const{decode:n,parse:o}=r(2155);e.exports={decode:n,parse:o}},4704:(e,t,r)=>{const n=r(8783),{Fetch:o}=r(9211);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:s,topics:a})=>({apiKey:o,apiVersion:3,apiName:"Fetch",encode:async()=>(new n).writeInt32(e).writeInt32(t).writeInt32(r).writeInt32(s).writeArray(a.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,fetchOffset:t,maxBytes:r})=>(new n).writeInt32(e).writeInt64(t).writeInt32(r)},1828:(e,t,r)=>{const{decode:n,parse:o}=r(2155);e.exports={decode:n,parse:o}},5643:(e,t,r)=>{const n=r(6341),o=r(4321),i=r(3294),{MAGIC_BYTE:s}=r(2872);e.exports=async e=>{const t=e.readInt32();if(t<=0||!e.canReadBytes(t))return[];const r=e.readBytes(t),a=new n(r);if(r.slice(16).readInt8(0)===s){let e=[];for(;a.canReadBytes(49);)try{const t=await i(a);e=[...e,...t.records]}catch(e){if("KafkaJSPartialMessageError"===e.name)break;throw e}return e}return o(a,t)}},7737:(e,t,r)=>{const n=r(8783),{Fetch:o}=r(9211),i=r(2845);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:a,topics:c,isolationLevel:p=i.READ_COMMITTED})=>({apiKey:o,apiVersion:4,apiName:"Fetch",encode:async()=>(new n).writeInt32(e).writeInt32(t).writeInt32(r).writeInt32(a).writeInt8(p).writeArray(c.map(s))});const s=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(a)),a=({partition:e,fetchOffset:t,maxBytes:r})=>(new n).writeInt32(e).writeInt64(t).writeInt32(r)},6668:(e,t,r)=>{const n=r(6341),{parse:o}=r(2155),i=r(5643),s=e=>({producerId:e.readInt64().toString(),firstOffset:e.readInt64().toString()}),a=async e=>({partition:e.readInt32(),errorCode:e.readInt16(),highWatermark:e.readInt64().toString(),lastStableOffset:e.readInt64().toString(),abortedTransactions:e.readArray(s),messages:await i(e)}),c=async e=>({topicName:e.readString(),partitions:await e.readArrayAsync(a)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),responses:await t.readArrayAsync(c)}},parse:o}},2881:(e,t,r)=>{const n=r(8783),{Fetch:o}=r(9211),i=r(2845);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:a,topics:c,isolationLevel:p=i.READ_COMMITTED})=>({apiKey:o,apiVersion:5,apiName:"Fetch",encode:async()=>(new n).writeInt32(e).writeInt32(t).writeInt32(r).writeInt32(a).writeInt8(p).writeArray(c.map(s))});const s=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(a)),a=({partition:e,fetchOffset:t,logStartOffset:r=-1,maxBytes:o})=>(new n).writeInt32(e).writeInt64(t).writeInt64(r).writeInt32(o)},9214:(e,t,r)=>{const n=r(6341),{parse:o}=r(2155),i=r(5643),s=e=>({producerId:e.readInt64().toString(),firstOffset:e.readInt64().toString()}),a=async e=>({partition:e.readInt32(),errorCode:e.readInt16(),highWatermark:e.readInt64().toString(),lastStableOffset:e.readInt64().toString(),lastStartOffset:e.readInt64().toString(),abortedTransactions:e.readArray(s),messages:await i(e)}),c=async e=>({topicName:e.readString(),partitions:await e.readArrayAsync(a)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),responses:await t.readArrayAsync(c)}},parse:o}},4939:(e,t,r)=>{const n=r(2845),o=r(2881);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:i,topics:s,isolationLevel:a=n.READ_COMMITTED})=>Object.assign(o({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:i,topics:s,isolationLevel:a}),{apiVersion:6})},5646:(e,t,r)=>{const{decode:n,parse:o}=r(9214);e.exports={decode:n,parse:o}},3431:(e,t,r)=>{const n=r(8783),{Fetch:o}=r(9211),i=r(2845);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:c,topics:p,isolationLevel:u=i.READ_COMMITTED,sessionId:l=0,sessionEpoch:d=-1,forgottenTopics:m=[]})=>({apiKey:o,apiVersion:7,apiName:"Fetch",encode:async()=>(new n).writeInt32(e).writeInt32(t).writeInt32(r).writeInt32(c).writeInt8(u).writeInt32(l).writeInt32(d).writeArray(p.map(a)).writeArray(m.map(s))});const s=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t),a=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(c)),c=({partition:e,fetchOffset:t,logStartOffset:r=-1,maxBytes:o})=>(new n).writeInt32(e).writeInt64(t).writeInt64(r).writeInt32(o)},3456:(e,t,r)=>{const n=r(6341),{parse:o}=r(2155),i=r(5643),s=e=>({producerId:e.readInt64().toString(),firstOffset:e.readInt64().toString()}),a=async e=>({partition:e.readInt32(),errorCode:e.readInt16(),highWatermark:e.readInt64().toString(),lastStableOffset:e.readInt64().toString(),lastStartOffset:e.readInt64().toString(),abortedTransactions:e.readArray(s),messages:await i(e)}),c=async e=>({topicName:e.readString(),partitions:await e.readArrayAsync(a)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),errorCode:t.readInt16(),sessionId:t.readInt32(),responses:await t.readArrayAsync(c)}},parse:o}},4427:(e,t,r)=>{const n=r(2845),o=r(3431);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:i,topics:s,isolationLevel:a=n.READ_COMMITTED,sessionId:c=0,sessionEpoch:p=-1,forgottenTopics:u=[]})=>Object.assign(o({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:i,topics:s,isolationLevel:a,sessionId:c,sessionEpoch:p,forgottenTopics:u}),{apiVersion:8})},7004:(e,t,r)=>{const n=r(6341),{parse:o}=r(2155),i=r(5643),s=e=>({producerId:e.readInt64().toString(),firstOffset:e.readInt64().toString()}),a=async e=>({partition:e.readInt32(),errorCode:e.readInt16(),highWatermark:e.readInt64().toString(),lastStableOffset:e.readInt64().toString(),lastStartOffset:e.readInt64().toString(),abortedTransactions:e.readArray(s),messages:await i(e)}),c=async e=>({topicName:e.readString(),partitions:await e.readArrayAsync(a)});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:0,clientSideThrottleTime:t.readInt32(),errorCode:t.readInt16(),sessionId:t.readInt32(),responses:await t.readArrayAsync(c)}},parse:o}},7988:(e,t,r)=>{const n=r(8783),{Fetch:o}=r(9211),i=r(2845);e.exports=({replicaId:e,maxWaitTime:t,minBytes:r,maxBytes:c,topics:p,isolationLevel:u=i.READ_COMMITTED,sessionId:l=0,sessionEpoch:d=-1,forgottenTopics:m=[]})=>({apiKey:o,apiVersion:9,apiName:"Fetch",encode:async()=>(new n).writeInt32(e).writeInt32(t).writeInt32(r).writeInt32(c).writeInt8(u).writeInt32(l).writeInt32(d).writeArray(p.map(a)).writeArray(m.map(s))});const s=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t),a=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(c)),c=({partition:e,currentLeaderEpoch:t=-1,fetchOffset:r,logStartOffset:o=-1,maxBytes:i})=>(new n).writeInt32(e).writeInt32(t).writeInt64(r).writeInt64(o).writeInt32(i)},9272:(e,t,r)=>{const{decode:n,parse:o}=r(7004);e.exports={decode:n,parse:o}},163:(e,t,r)=>{const n=r(7022),o={0:({groupId:e})=>{const t=r(6592),n=r(3419);return{request:t({groupId:e}),response:n}},1:({groupId:e,coordinatorType:t=n.GROUP})=>{const o=r(7664),i=r(7451);return{request:o({coordinatorKey:e,coordinatorType:t}),response:i}},2:({groupId:e,coordinatorType:t=n.GROUP})=>{const o=r(9050),i=r(8179);return{request:o({coordinatorKey:e,coordinatorType:t}),response:i}}};e.exports={versions:Object.keys(o),protocol:({version:e})=>o[e]}},6592:(e,t,r)=>{const n=r(8783),{GroupCoordinator:o}=r(9211);e.exports=({groupId:e})=>({apiKey:o,apiVersion:0,apiName:"GroupCoordinator",encode:async()=>(new n).writeString(e)})},3419:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e),r=t.readInt16();return s(r),{errorCode:r,coordinator:{nodeId:t.readInt32(),host:t.readString(),port:t.readInt32()}}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},7664:(e,t,r)=>{const n=r(8783),{GroupCoordinator:o}=r(9211);e.exports=({coordinatorKey:e,coordinatorType:t})=>({apiKey:o,apiVersion:1,apiName:"GroupCoordinator",encode:async()=>(new n).writeString(e).writeInt8(t)})},7451:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),o=t.readInt16();return s(o),{throttleTime:r,errorCode:o,errorMessage:t.readString(),coordinator:{nodeId:t.readInt32(),host:t.readString(),port:t.readInt32()}}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},9050:(e,t,r)=>{const n=r(7664);e.exports=({coordinatorKey:e,coordinatorType:t})=>Object.assign(n({coordinatorKey:e,coordinatorType:t}),{apiVersion:2})},8179:(e,t,r)=>{const{parse:n,decode:o}=r(7451);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},6641:(e,t,r)=>{const n={0:({groupId:e,groupGenerationId:t,memberId:n})=>{const o=r(7533),i=r(4732);return{request:o({groupId:e,groupGenerationId:t,memberId:n}),response:i}},1:({groupId:e,groupGenerationId:t,memberId:n})=>{const o=r(7694),i=r(1199);return{request:o({groupId:e,groupGenerationId:t,memberId:n}),response:i}},2:({groupId:e,groupGenerationId:t,memberId:n})=>{const o=r(686),i=r(2394);return{request:o({groupId:e,groupGenerationId:t,memberId:n}),response:i}},3:({groupId:e,groupGenerationId:t,memberId:n,groupInstanceId:o})=>{const i=r(34),s=r(1194);return{request:i({groupId:e,groupGenerationId:t,memberId:n,groupInstanceId:o}),response:s}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},7533:(e,t,r)=>{const n=r(8783),{Heartbeat:o}=r(9211);e.exports=({groupId:e,groupGenerationId:t,memberId:r})=>({apiKey:o,apiVersion:0,apiName:"Heartbeat",encode:async()=>(new n).writeString(e).writeInt32(t).writeString(r)})},4732:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e).readInt16();return s(t),{errorCode:t}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},7694:(e,t,r)=>{const n=r(7533);e.exports=({groupId:e,groupGenerationId:t,memberId:r})=>Object.assign(n({groupId:e,groupGenerationId:t,memberId:r}),{apiVersion:1})},1199:(e,t,r)=>{const n=r(6341),{failIfVersionNotSupported:o}=r(1701),{parse:i}=r(4732);e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),i=t.readInt16();return o(i),{throttleTime:r,errorCode:i}},parse:i}},686:(e,t,r)=>{const n=r(7694);e.exports=({groupId:e,groupGenerationId:t,memberId:r})=>Object.assign(n({groupId:e,groupGenerationId:t,memberId:r}),{apiVersion:2})},2394:(e,t,r)=>{const{parse:n,decode:o}=r(1199);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},34:(e,t,r)=>{const n=r(8783),{Heartbeat:o}=r(9211);e.exports=({groupId:e,groupGenerationId:t,memberId:r,groupInstanceId:i})=>({apiKey:o,apiVersion:3,apiName:"Heartbeat",encode:async()=>(new n).writeString(e).writeInt32(t).writeString(r).writeString(i)})},1194:(e,t,r)=>{const{parse:n,decode:o}=r(2394);e.exports={decode:o,parse:n}},3146:function(e,t,r){const n=r(9211),{KafkaJSServerDoesNotSupportApiKey:o}=r(9879),i={Produce:r(7609),Fetch:r(8681),ListOffsets:r(364),Metadata:r(1747),LeaderAndIsr:{},StopReplica:{},UpdateMetadata:{},ControlledShutdown:{},OffsetCommit:r(7789),OffsetFetch:r(1761),GroupCoordinator:r(163),JoinGroup:r(583),Heartbeat:r(6641),LeaveGroup:r(3083),SyncGroup:r(6096),DescribeGroups:r(7927),ListGroups:r(8119),SaslHandshake:r(6184),ApiVersions:r(7020),CreateTopics:r(2346),DeleteTopics:r(9038),DeleteRecords:r(8035),InitProducerId:r(6961),OffsetForLeaderEpoch:{},AddPartitionsToTxn:r(3350),AddOffsetsToTxn:r(4530),EndTxn:r(2059),WriteTxnMarkers:{},TxnOffsetCommit:r(5302),DescribeAcls:r(5665),CreateAcls:r(4950),DeleteAcls:r(1491),DescribeConfigs:r(6450),AlterConfigs:r(1858),AlterReplicaLogDirs:{},DescribeLogDirs:{},SaslAuthenticate:r(886),CreatePartitions:r(4842),CreateDelegationToken:{},RenewDelegationToken:{},ExpireDelegationToken:{},DescribeDelegationToken:{},DeleteGroups:r(2086)},s=Object.keys(n),a=Object.values(n),c=e=>s[a.indexOf(e)];e.exports={requests:i,lookup:e=>(t,r)=>{const n=e[t],i=r.versions.map(Number),s=Math.max.apply(this,i);if(!n||null==n.maxVersion)throw new o("The Kafka server does not support the requested API version",{apiKey:t,apiName:c(t)});const a=Math.min(s,n.maxVersion);return r.protocol({version:a})}}},6961:(e,t,r)=>{const n={0:({transactionalId:e,transactionTimeout:t=5e3})=>{const n=r(6862),o=r(7280);return{request:n({transactionalId:e,transactionTimeout:t}),response:o}},1:({transactionalId:e,transactionTimeout:t=5e3})=>{const n=r(5427),o=r(2826);return{request:n({transactionalId:e,transactionTimeout:t}),response:o}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},6862:(e,t,r)=>{const n=r(8783),{InitProducerId:o}=r(9211);e.exports=({transactionalId:e,transactionTimeout:t})=>({apiKey:o,apiVersion:0,apiName:"InitProducerId",encode:async()=>(new n).writeString(e).writeInt32(t)})},7280:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),o=t.readInt16();return s(o),{throttleTime:r,errorCode:o,producerId:t.readInt64().toString(),producerEpoch:t.readInt16()}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},5427:(e,t,r)=>{const n=r(6862);e.exports=({transactionalId:e,transactionTimeout:t})=>Object.assign(n({transactionalId:e,transactionTimeout:t}),{apiVersion:1})},2826:(e,t,r)=>{const{parse:n,decode:o}=r(7280);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},583:(e,t,r)=>{const n=({rebalanceTimeout:e,sessionTimeout:t})=>{const r=e||t;return Number.isSafeInteger(r+5e3)?r+5e3:r},o=e=>null!=e&&""!==e,i={0:({groupId:e,sessionTimeout:t,memberId:o,protocolType:i,groupProtocols:s})=>{const a=r(9369),c=r(259);return{request:a({groupId:e,sessionTimeout:t,memberId:o,protocolType:i,groupProtocols:s}),response:c,requestTimeout:n({rebalanceTimeout:null,sessionTimeout:t})}},1:({groupId:e,sessionTimeout:t,rebalanceTimeout:o,memberId:i,protocolType:s,groupProtocols:a})=>{const c=r(6737),p=r(9801);return{request:c({groupId:e,sessionTimeout:t,rebalanceTimeout:o,memberId:i,protocolType:s,groupProtocols:a}),response:p,requestTimeout:n({rebalanceTimeout:o,sessionTimeout:t})}},2:({groupId:e,sessionTimeout:t,rebalanceTimeout:o,memberId:i,protocolType:s,groupProtocols:a})=>{const c=r(6146),p=r(1989);return{request:c({groupId:e,sessionTimeout:t,rebalanceTimeout:o,memberId:i,protocolType:s,groupProtocols:a}),response:p,requestTimeout:n({rebalanceTimeout:o,sessionTimeout:t})}},3:({groupId:e,sessionTimeout:t,rebalanceTimeout:o,memberId:i,protocolType:s,groupProtocols:a})=>{const c=r(5318),p=r(9106);return{request:c({groupId:e,sessionTimeout:t,rebalanceTimeout:o,memberId:i,protocolType:s,groupProtocols:a}),response:p,requestTimeout:n({rebalanceTimeout:o,sessionTimeout:t})}},4:({groupId:e,sessionTimeout:t,rebalanceTimeout:i,memberId:s,protocolType:a,groupProtocols:c})=>{const p=r(5125),u=r(2285);return{request:p({groupId:e,sessionTimeout:t,rebalanceTimeout:i,memberId:s,protocolType:a,groupProtocols:c}),response:u,requestTimeout:n({rebalanceTimeout:i,sessionTimeout:t}),logResponseError:o(s)}},5:({groupId:e,sessionTimeout:t,rebalanceTimeout:i,memberId:s,groupInstanceId:a,protocolType:c,groupProtocols:p})=>{const u=r(4454),l=r(6845);return{request:u({groupId:e,sessionTimeout:t,rebalanceTimeout:i,memberId:s,groupInstanceId:a,protocolType:c,groupProtocols:p}),response:l,requestTimeout:n({rebalanceTimeout:i,sessionTimeout:t}),logResponseError:o(s)}}};e.exports={versions:Object.keys(i),protocol:({version:e})=>i[e]}},9369:(e,t,r)=>{const n=r(8783),{JoinGroup:o}=r(9211);e.exports=({groupId:e,sessionTimeout:t,memberId:r,protocolType:s,groupProtocols:a})=>({apiKey:o,apiVersion:0,apiName:"JoinGroup",encode:async()=>(new n).writeString(e).writeInt32(t).writeString(r).writeString(s).writeArray(a.map(i))});const i=({name:e,metadata:t=Buffer.alloc(0)})=>(new n).writeString(e).writeBytes(t)},259:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e),r=t.readInt16();return s(r),{errorCode:r,generationId:t.readInt32(),groupProtocol:t.readString(),leaderId:t.readString(),memberId:t.readString(),members:t.readArray((e=>({memberId:e.readString(),memberMetadata:e.readBytes()})))}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},6737:(e,t,r)=>{const n=r(8783),{JoinGroup:o}=r(9211);e.exports=({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:s,protocolType:a,groupProtocols:c})=>({apiKey:o,apiVersion:1,apiName:"JoinGroup",encode:async()=>(new n).writeString(e).writeInt32(t).writeInt32(r).writeString(s).writeString(a).writeArray(c.map(i))});const i=({name:e,metadata:t=Buffer.alloc(0)})=>(new n).writeString(e).writeBytes(t)},9801:(e,t,r)=>{const{parse:n,decode:o}=r(259);e.exports={decode:o,parse:n}},6146:(e,t,r)=>{const n=r(6737);e.exports=({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:o,protocolType:i,groupProtocols:s})=>Object.assign(n({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:o,protocolType:i,groupProtocols:s}),{apiVersion:2})},1989:(e,t,r)=>{const n=r(6341),{failIfVersionNotSupported:o}=r(1701),{parse:i}=r(259);e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),i=t.readInt16();return o(i),{throttleTime:r,errorCode:i,generationId:t.readInt32(),groupProtocol:t.readString(),leaderId:t.readString(),memberId:t.readString(),members:t.readArray((e=>({memberId:e.readString(),memberMetadata:e.readBytes()})))}},parse:i}},5318:(e,t,r)=>{const n=r(6146);e.exports=({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:o,protocolType:i,groupProtocols:s})=>Object.assign(n({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:o,protocolType:i,groupProtocols:s}),{apiVersion:3})},9106:(e,t,r)=>{const{parse:n,decode:o}=r(1989);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},5125:(e,t,r)=>{const n=r(5318);e.exports=({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:o,protocolType:i,groupProtocols:s})=>Object.assign(n({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:o,protocolType:i,groupProtocols:s}),{apiVersion:4})},2285:(e,t,r)=>{const{decode:n}=r(9106),{KafkaJSMemberIdRequired:o}=r(9879),{failure:i,createErrorFromCode:s,errorCodes:a}=r(1701),{code:c}=a.find((e=>"MEMBER_ID_REQUIRED"===e.type));e.exports={decode:n,parse:async e=>{if(i(e.errorCode)){if(e.errorCode===c)throw new o(s(e.errorCode),{memberId:e.memberId});throw s(e.errorCode)}return e}}},4454:(e,t,r)=>{const n=r(8783),{JoinGroup:o}=r(9211);e.exports=({groupId:e,sessionTimeout:t,rebalanceTimeout:r,memberId:s,groupInstanceId:a=null,protocolType:c,groupProtocols:p})=>({apiKey:o,apiVersion:5,apiName:"JoinGroup",encode:async()=>(new n).writeString(e).writeInt32(t).writeInt32(r).writeString(s).writeString(a).writeString(c).writeArray(p.map(i))});const i=({name:e,metadata:t=Buffer.alloc(0)})=>(new n).writeString(e).writeBytes(t)},6845:(e,t,r)=>{const n=r(6341),{KafkaJSMemberIdRequired:o}=r(9879),{failure:i,createErrorFromCode:s,errorCodes:a,failIfVersionNotSupported:c}=r(1701),{code:p}=a.find((e=>"MEMBER_ID_REQUIRED"===e.type));e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),o=t.readInt16();return c(o),{throttleTime:0,clientSideThrottleTime:r,errorCode:o,generationId:t.readInt32(),groupProtocol:t.readString(),leaderId:t.readString(),memberId:t.readString(),members:t.readArray((e=>({memberId:e.readString(),groupInstanceId:e.readString(),memberMetadata:e.readBytes()})))}},parse:async e=>{if(i(e.errorCode)){if(e.errorCode===p)throw new o(s(e.errorCode),{memberId:e.memberId});throw s(e.errorCode)}return e}}},3083:(e,t,r)=>{const n={0:({groupId:e,memberId:t})=>{const n=r(6413),o=r(9376);return{request:n({groupId:e,memberId:t}),response:o}},1:({groupId:e,memberId:t})=>{const n=r(885),o=r(679);return{request:n({groupId:e,memberId:t}),response:o}},2:({groupId:e,memberId:t})=>{const n=r(5191),o=r(8235);return{request:n({groupId:e,memberId:t}),response:o}},3:({groupId:e,memberId:t,groupInstanceId:n})=>{const o=r(5680),i=r(1105);return{request:o({groupId:e,members:[{memberId:t,groupInstanceId:n}]}),response:i}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},6413:(e,t,r)=>{const n=r(8783),{LeaveGroup:o}=r(9211);e.exports=({groupId:e,memberId:t})=>({apiKey:o,apiVersion:0,apiName:"LeaveGroup",encode:async()=>(new n).writeString(e).writeString(t)})},9376:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e).readInt16();return s(t),{errorCode:t}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},885:(e,t,r)=>{const n=r(6413);e.exports=({groupId:e,memberId:t})=>Object.assign(n({groupId:e,memberId:t}),{apiVersion:1})},679:(e,t,r)=>{const n=r(6341),{failIfVersionNotSupported:o}=r(1701),{parse:i}=r(9376);e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),i=t.readInt16();return o(i),{throttleTime:r,errorCode:i}},parse:i}},5191:(e,t,r)=>{const n=r(885);e.exports=({groupId:e,memberId:t})=>Object.assign(n({groupId:e,memberId:t}),{apiVersion:2})},8235:(e,t,r)=>{const{parse:n,decode:o}=r(679);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},5680:(e,t,r)=>{const n=r(8783),{LeaveGroup:o}=r(9211);e.exports=({groupId:e,members:t})=>({apiKey:o,apiVersion:3,apiName:"LeaveGroup",encode:async()=>(new n).writeString(e).writeArray(t.map((e=>i(e))))});const i=({memberId:e,groupInstanceId:t=null})=>(new n).writeString(e).writeString(t)},1105:(e,t,r)=>{const n=r(6341),{failIfVersionNotSupported:o,failure:i,createErrorFromCode:s}=r(1701),{parse:a}=r(8235),c=e=>({memberId:e.readString(),groupInstanceId:e.readString(),errorCode:e.readInt16()});e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),i=t.readInt16(),s=t.readArray(c);return o(i),{throttleTime:0,clientSideThrottleTime:r,errorCode:i,members:s}},parse:async e=>{const t=a(e),r=e.members.find((e=>i(e.errorCode)));if(r)throw s(r.errorCode);return t}}},8119:(e,t,r)=>{const n={0:()=>{const e=r(1660),t=r(1356);return{request:e(),response:t}},1:()=>{const e=r(740),t=r(9644);return{request:e(),response:t}},2:()=>{const e=r(3058),t=r(7225);return{request:e(),response:t}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},1660:(e,t,r)=>{const n=r(8783),{ListGroups:o}=r(9211);e.exports=()=>({apiKey:o,apiVersion:0,apiName:"ListGroups",encode:async()=>new n})},1356:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=e=>({groupId:e.readString(),protocolType:e.readString()});e.exports={decodeGroup:s,decode:async e=>{const t=new n(e);return{errorCode:t.readInt16(),groups:t.readArray(s)}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},740:(e,t,r)=>{const n=r(1660);e.exports=()=>Object.assign(n(),{apiVersion:1})},9644:(e,t,r)=>{const n=r(1356),o=r(6341);e.exports={decode:async e=>{const t=new o(e);return{throttleTime:t.readInt32(),errorCode:t.readInt16(),groups:t.readArray(n.decodeGroup)}},parse:n.parse}},3058:(e,t,r)=>{const n=r(740);e.exports=()=>Object.assign(n(),{apiVersion:2})},7225:(e,t,r)=>{const{parse:n,decode:o}=r(9644);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},364:(e,t,r)=>{const n=r(2845),o={0:({replicaId:e=-1,topics:t})=>{const n=r(130),o=r(9440);return{request:n({replicaId:e,topics:t}),response:o}},1:({replicaId:e=-1,topics:t})=>{const n=r(1452),o=r(2922);return{request:n({replicaId:e,topics:t}),response:o}},2:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,topics:o})=>{const i=r(8246),s=r(156);return{request:i({replicaId:e,isolationLevel:t,topics:o}),response:s}},3:({replicaId:e=-1,isolationLevel:t=n.READ_COMMITTED,topics:o})=>{const i=r(330),s=r(2004);return{request:i({replicaId:e,isolationLevel:t,topics:o}),response:s}}};e.exports={versions:Object.keys(o),protocol:({version:e})=>o[e]}},130:(e,t,r)=>{const n=r(8783),{ListOffsets:o}=r(9211);e.exports=({replicaId:e,topics:t})=>({apiKey:o,apiVersion:0,apiName:"ListOffsets",encode:async()=>(new n).writeInt32(e).writeArray(t.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,timestamp:t=-1,maxNumOffsets:r=1})=>(new n).writeInt32(e).writeInt64(t).writeInt32(r)},9440:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=r(4358),a=e=>({topic:e.readString(),partitions:e.readArray(c)}),c=e=>({partition:e.readInt32(),errorCode:e.readInt16(),offsets:e.readArray(p)}),p=e=>e.readInt64().toString();e.exports={decode:async e=>({responses:new n(e).readArray(a)}),parse:async e=>{const t=e.responses.map((e=>e.partitions.filter((e=>o(e.errorCode))))),r=s(t)[0];if(r)throw i(r.errorCode);return e}}},1452:(e,t,r)=>{const n=r(8783),{ListOffsets:o}=r(9211);e.exports=({replicaId:e,topics:t})=>({apiKey:o,apiVersion:1,apiName:"ListOffsets",encode:async()=>(new n).writeInt32(e).writeArray(t.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,timestamp:t=-1})=>(new n).writeInt32(e).writeInt64(t)},2922:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=r(4358),a=e=>({topic:e.readString(),partitions:e.readArray(c)}),c=e=>({partition:e.readInt32(),errorCode:e.readInt16(),timestamp:e.readInt64().toString(),offset:e.readInt64().toString()});e.exports={decode:async e=>({responses:new n(e).readArray(a)}),parse:async e=>{const t=e.responses.map((e=>e.partitions.filter((e=>o(e.errorCode))))),r=s(t)[0];if(r)throw i(r.errorCode);return e}}},8246:(e,t,r)=>{const n=r(8783),{ListOffsets:o}=r(9211);e.exports=({replicaId:e,isolationLevel:t,topics:r})=>({apiKey:o,apiVersion:2,apiName:"ListOffsets",encode:async()=>(new n).writeInt32(e).writeInt8(t).writeArray(r.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,timestamp:t=-1})=>(new n).writeInt32(e).writeInt64(t)},156:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=r(4358),a=e=>({topic:e.readString(),partitions:e.readArray(c)}),c=e=>({partition:e.readInt32(),errorCode:e.readInt16(),timestamp:e.readInt64().toString(),offset:e.readInt64().toString()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),responses:t.readArray(a)}},parse:async e=>{const t=e.responses.map((e=>e.partitions.filter((e=>o(e.errorCode))))),r=s(t)[0];if(r)throw i(r.errorCode);return e}}},330:(e,t,r)=>{const n=r(8246);e.exports=({replicaId:e,isolationLevel:t,topics:r})=>Object.assign(n({replicaId:e,isolationLevel:t,topics:r}),{apiVersion:3})},2004:(e,t,r)=>{const{parse:n,decode:o}=r(156);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},1747:(e,t,r)=>{const n={0:({topics:e})=>{const t=r(8838),n=r(7995);return{request:t({topics:e}),response:n}},1:({topics:e})=>{const t=r(4063),n=r(8972);return{request:t({topics:e}),response:n}},2:({topics:e})=>{const t=r(9853),n=r(3248);return{request:t({topics:e}),response:n}},3:({topics:e})=>{const t=r(6067),n=r(626);return{request:t({topics:e}),response:n}},4:({topics:e,allowAutoTopicCreation:t})=>{const n=r(227),o=r(1901);return{request:n({topics:e,allowAutoTopicCreation:t}),response:o}},5:({topics:e,allowAutoTopicCreation:t})=>{const n=r(5620),o=r(2068);return{request:n({topics:e,allowAutoTopicCreation:t}),response:o}},6:({topics:e,allowAutoTopicCreation:t})=>{const n=r(4234),o=r(4771);return{request:n({topics:e,allowAutoTopicCreation:t}),response:o}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},8838:(e,t,r)=>{const n=r(8783),{Metadata:o}=r(9211);e.exports=({topics:e})=>({apiKey:o,apiVersion:0,apiName:"Metadata",encode:async()=>(new n).writeArray(e)})},7995:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=r(4358),a=e=>({nodeId:e.readInt32(),host:e.readString(),port:e.readInt32()}),c=e=>({topicErrorCode:e.readInt16(),topic:e.readString(),partitionMetadata:e.readArray(p)}),p=e=>({partitionErrorCode:e.readInt16(),partitionId:e.readInt32(),leader:e.readInt32(),replicas:e.readArray((e=>e.readInt32())),isr:e.readArray((e=>e.readInt32()))});e.exports={decode:async e=>{const t=new n(e);return{brokers:t.readArray(a),topicMetadata:t.readArray(c)}},parse:async e=>{const t=e.topicMetadata.filter((e=>o(e.topicErrorCode)));if(t.length>0){const{topicErrorCode:e}=t[0];throw i(e)}const r=e.topicMetadata.map((e=>e.partitionMetadata.filter((e=>o(e.partitionErrorCode))))),n=s(r);if(n.length>0){const{partitionErrorCode:e}=n[0];throw i(e)}return e}}},4063:(e,t,r)=>{const n=r(8838);e.exports=({topics:e})=>Object.assign(n({topics:e}),{apiVersion:1})},8972:(e,t,r)=>{const n=r(6341),{parse:o}=r(7995),i=e=>({nodeId:e.readInt32(),host:e.readString(),port:e.readInt32(),rack:e.readString()}),s=e=>({topicErrorCode:e.readInt16(),topic:e.readString(),isInternal:e.readBoolean(),partitionMetadata:e.readArray(a)}),a=e=>({partitionErrorCode:e.readInt16(),partitionId:e.readInt32(),leader:e.readInt32(),replicas:e.readArray((e=>e.readInt32())),isr:e.readArray((e=>e.readInt32()))});e.exports={decode:async e=>{const t=new n(e);return{brokers:t.readArray(i),controllerId:t.readInt32(),topicMetadata:t.readArray(s)}},parse:o}},9853:(e,t,r)=>{const n=r(8838);e.exports=({topics:e})=>Object.assign(n({topics:e}),{apiVersion:2})},3248:(e,t,r)=>{const n=r(6341),{parse:o}=r(7995),i=e=>({nodeId:e.readInt32(),host:e.readString(),port:e.readInt32(),rack:e.readString()}),s=e=>({topicErrorCode:e.readInt16(),topic:e.readString(),isInternal:e.readBoolean(),partitionMetadata:e.readArray(a)}),a=e=>({partitionErrorCode:e.readInt16(),partitionId:e.readInt32(),leader:e.readInt32(),replicas:e.readArray((e=>e.readInt32())),isr:e.readArray((e=>e.readInt32()))});e.exports={decode:async e=>{const t=new n(e);return{brokers:t.readArray(i),clusterId:t.readString(),controllerId:t.readInt32(),topicMetadata:t.readArray(s)}},parse:o}},6067:(e,t,r)=>{const n=r(8838);e.exports=({topics:e})=>Object.assign(n({topics:e}),{apiVersion:3})},626:(e,t,r)=>{const n=r(6341),{parse:o}=r(7995),i=e=>({nodeId:e.readInt32(),host:e.readString(),port:e.readInt32(),rack:e.readString()}),s=e=>({topicErrorCode:e.readInt16(),topic:e.readString(),isInternal:e.readBoolean(),partitionMetadata:e.readArray(a)}),a=e=>({partitionErrorCode:e.readInt16(),partitionId:e.readInt32(),leader:e.readInt32(),replicas:e.readArray((e=>e.readInt32())),isr:e.readArray((e=>e.readInt32()))});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),brokers:t.readArray(i),clusterId:t.readString(),controllerId:t.readInt32(),topicMetadata:t.readArray(s)}},parse:o}},227:(e,t,r)=>{const n=r(8783),{Metadata:o}=r(9211);e.exports=({topics:e,allowAutoTopicCreation:t=!0})=>({apiKey:o,apiVersion:4,apiName:"Metadata",encode:async()=>(new n).writeNullableArray(e).writeBoolean(t)})},1901:(e,t,r)=>{const{parse:n,decode:o}=r(626);e.exports={parse:n,decode:o}},5620:(e,t,r)=>{const n=r(227);e.exports=({topics:e,allowAutoTopicCreation:t=!0})=>Object.assign(n({topics:e,allowAutoTopicCreation:t}),{apiVersion:5})},2068:(e,t,r)=>{const n=r(6341),{parse:o}=r(7995),i=e=>({nodeId:e.readInt32(),host:e.readString(),port:e.readInt32(),rack:e.readString()}),s=e=>({topicErrorCode:e.readInt16(),topic:e.readString(),isInternal:e.readBoolean(),partitionMetadata:e.readArray(a)}),a=e=>({partitionErrorCode:e.readInt16(),partitionId:e.readInt32(),leader:e.readInt32(),replicas:e.readArray((e=>e.readInt32())),isr:e.readArray((e=>e.readInt32())),offlineReplicas:e.readArray((e=>e.readInt32()))});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),brokers:t.readArray(i),clusterId:t.readString(),controllerId:t.readInt32(),topicMetadata:t.readArray(s)}},parse:o}},4234:(e,t,r)=>{const n=r(5620);e.exports=({topics:e,allowAutoTopicCreation:t=!0})=>Object.assign(n({topics:e,allowAutoTopicCreation:t}),{apiVersion:6})},4771:(e,t,r)=>{const{parse:n,decode:o}=r(2068);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},7789:(e,t,r)=>{const n={0:({groupId:e,topics:t})=>{const n=r(204),o=r(6941);return{request:n({groupId:e,topics:t}),response:o}},1:({groupId:e,groupGenerationId:t,memberId:n,topics:o})=>{const i=r(8698),s=r(6);return{request:i({groupId:e,groupGenerationId:t,memberId:n,topics:o}),response:s}},2:({groupId:e,groupGenerationId:t,memberId:n,retentionTime:o=-1,topics:i})=>{const s=r(4078),a=r(3865);return{request:s({groupId:e,groupGenerationId:t,memberId:n,retentionTime:o,topics:i}),response:a}},3:({groupId:e,groupGenerationId:t,memberId:n,retentionTime:o=-1,topics:i})=>{const s=r(7344),a=r(4369);return{request:s({groupId:e,groupGenerationId:t,memberId:n,retentionTime:o,topics:i}),response:a}},4:({groupId:e,groupGenerationId:t,memberId:n,retentionTime:o=-1,topics:i})=>{const s=r(161),a=r(3831);return{request:s({groupId:e,groupGenerationId:t,memberId:n,retentionTime:o,topics:i}),response:a}},5:({groupId:e,groupGenerationId:t,memberId:n,topics:o})=>{const i=r(4024),s=r(434);return{request:i({groupId:e,groupGenerationId:t,memberId:n,topics:o}),response:s}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},204:(e,t,r)=>{const n=r(8783),{OffsetCommit:o}=r(9211);e.exports=({groupId:e,topics:t})=>({apiKey:o,apiVersion:0,apiName:"OffsetCommit",encode:async()=>(new n).writeString(e).writeArray(t.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,offset:t,metadata:r=null})=>(new n).writeInt32(e).writeInt64(t).writeString(r)},6941:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=r(4358),a=e=>({topic:e.readString(),partitions:e.readArray(c)}),c=e=>({partition:e.readInt32(),errorCode:e.readInt16()});e.exports={decode:async e=>({responses:new n(e).readArray(a)}),parse:async e=>{const t=e.responses.map((e=>e.partitions.filter((e=>o(e.errorCode))))),r=s(t)[0];if(r)throw i(r.errorCode);return e}}},8698:(e,t,r)=>{const n=r(8783),{OffsetCommit:o}=r(9211);e.exports=({groupId:e,groupGenerationId:t,memberId:r,topics:s})=>({apiKey:o,apiVersion:1,apiName:"OffsetCommit",encode:async()=>(new n).writeString(e).writeInt32(t).writeString(r).writeArray(s.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,offset:t,timestamp:r=Date.now(),metadata:o=null})=>(new n).writeInt32(e).writeInt64(t).writeInt64(r).writeString(o)},6:(e,t,r)=>{const{parse:n,decode:o}=r(6941);e.exports={decode:o,parse:n}},4078:(e,t,r)=>{const n=r(8783),{OffsetCommit:o}=r(9211);e.exports=({groupId:e,groupGenerationId:t,memberId:r,retentionTime:s,topics:a})=>({apiKey:o,apiVersion:2,apiName:"OffsetCommit",encode:async()=>(new n).writeString(e).writeInt32(t).writeString(r).writeInt64(s).writeArray(a.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,offset:t,metadata:r=null})=>(new n).writeInt32(e).writeInt64(t).writeString(r)},3865:(e,t,r)=>{const{parse:n,decode:o}=r(6941);e.exports={decode:o,parse:n}},7344:(e,t,r)=>{const n=r(4078);e.exports=({groupId:e,groupGenerationId:t,memberId:r,retentionTime:o,topics:i})=>Object.assign(n({groupId:e,groupGenerationId:t,memberId:r,retentionTime:o,topics:i}),{apiVersion:3})},4369:(e,t,r)=>{const n=r(6341),{parse:o}=r(6941),i=e=>({topic:e.readString(),partitions:e.readArray(s)}),s=e=>({partition:e.readInt32(),errorCode:e.readInt16()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),responses:t.readArray(i)}},parse:o}},161:(e,t,r)=>{const n=r(7344);e.exports=({groupId:e,groupGenerationId:t,memberId:r,retentionTime:o,topics:i})=>Object.assign(n({groupId:e,groupGenerationId:t,memberId:r,retentionTime:o,topics:i}),{apiVersion:4})},3831:(e,t,r)=>{const{parse:n,decode:o}=r(4369);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},4024:(e,t,r)=>{const n=r(8783),{OffsetCommit:o}=r(9211);e.exports=({groupId:e,groupGenerationId:t,memberId:r,topics:s})=>({apiKey:o,apiVersion:5,apiName:"OffsetCommit",encode:async()=>(new n).writeString(e).writeInt32(t).writeString(r).writeArray(s.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,offset:t,metadata:r=null})=>(new n).writeInt32(e).writeInt64(t).writeString(r)},434:(e,t,r)=>{const{parse:n,decode:o}=r(3831);e.exports={decode:o,parse:n}},1761:(e,t,r)=>{const n={1:({groupId:e,topics:t})=>{const n=r(8047),o=r(2522);return{request:n({groupId:e,topics:t}),response:o}},2:({groupId:e,topics:t})=>{const n=r(9519),o=r(7269);return{request:n({groupId:e,topics:t}),response:o}},3:({groupId:e,topics:t})=>{const n=r(1640),o=r(8414);return{request:n({groupId:e,topics:t}),response:o}},4:({groupId:e,topics:t})=>{const n=r(633),o=r(2871);return{request:n({groupId:e,topics:t}),response:o}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},8047:(e,t,r)=>{const n=r(8783),{OffsetFetch:o}=r(9211);e.exports=({groupId:e,topics:t})=>({apiKey:o,apiVersion:1,apiName:"OffsetFetch",encode:async()=>(new n).writeString(e).writeArray(t.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e})=>(new n).writeInt32(e)},2522:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=r(4358),a=e=>({topic:e.readString(),partitions:e.readArray(c)}),c=e=>({partition:e.readInt32(),offset:e.readInt64().toString(),metadata:e.readString(),errorCode:e.readInt16()});e.exports={decode:async e=>({responses:new n(e).readArray(a)}),parse:async e=>{const t=e.responses.map((e=>e.partitions.filter((e=>o(e.errorCode))))),r=s(t)[0];if(r)throw i(r.errorCode);return e}}},9519:(e,t,r)=>{const n=r(8047);e.exports=({groupId:e,topics:t})=>Object.assign(n({groupId:e,topics:t}),{apiVersion:2})},7269:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=r(4358),a=e=>({topic:e.readString(),partitions:e.readArray(c)}),c=e=>({partition:e.readInt32(),offset:e.readInt64().toString(),metadata:e.readString(),errorCode:e.readInt16()});e.exports={decode:async e=>{const t=new n(e);return{responses:t.readArray(a),errorCode:t.readInt16()}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);const t=e.responses.map((e=>e.partitions.filter((e=>o(e.errorCode))))),r=s(t)[0];if(r)throw i(r.errorCode);return e}}},1640:(e,t,r)=>{const n=r(8783),{OffsetFetch:o}=r(9211);e.exports=({groupId:e,topics:t})=>({apiKey:o,apiVersion:3,apiName:"OffsetFetch",encode:async()=>(new n).writeString(e).writeNullableArray(t.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e})=>(new n).writeInt32(e)},8414:(e,t,r)=>{const n=r(6341),{parse:o}=r(7269),i=e=>({topic:e.readString(),partitions:e.readArray(s)}),s=e=>({partition:e.readInt32(),offset:e.readInt64().toString(),metadata:e.readString(),errorCode:e.readInt16()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),responses:t.readArray(i),errorCode:t.readInt16()}},parse:o}},633:(e,t,r)=>{const n=r(1640);e.exports=({groupId:e,topics:t})=>Object.assign(n({groupId:e,topics:t}),{apiVersion:4})},2871:(e,t,r)=>{const{parse:n,decode:o}=r(8414);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},7609:(e,t,r)=>{const n={0:({acks:e,timeout:t,topicData:n})=>{const o=r(5127),i=r(2615);return{request:o({acks:e,timeout:t,topicData:n}),response:i}},1:({acks:e,timeout:t,topicData:n})=>{const o=r(6807),i=r(8683);return{request:o({acks:e,timeout:t,topicData:n}),response:i}},2:({acks:e,timeout:t,topicData:n,compression:o})=>{const i=r(749),s=r(5468);return{request:i({acks:e,timeout:t,compression:o,topicData:n}),response:s}},3:({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a})=>{const c=r(6088),p=r(4635);return{request:c({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a}),response:p}},4:({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a})=>{const c=r(9221),p=r(4206);return{request:c({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a}),response:p}},5:({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a})=>{const c=r(5353),p=r(4708);return{request:c({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a}),response:p}},6:({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a})=>{const c=r(1392),p=r(1988);return{request:c({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a}),response:p}},7:({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a})=>{const c=r(637),p=r(5250);return{request:c({acks:e,timeout:t,compression:n,topicData:o,transactionalId:i,producerId:s,producerEpoch:a}),response:p}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},5127:(e,t,r)=>{const n=r(8783),{Produce:o}=r(9211),i=r(2032);e.exports=({acks:e,timeout:t,topicData:r})=>({apiKey:o,apiVersion:0,apiName:"Produce",expectResponse:()=>0!==e,encode:async()=>(new n).writeInt16(e).writeInt32(t).writeArray(r.map(s))});const s=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(a)),a=({partition:e,messages:t})=>{const r=i({messageVersion:0,entries:t});return(new n).writeInt32(e).writeInt32(r.size()).writeEncoder(r)}},2615:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=r(4358),a=e=>({partition:e.readInt32(),errorCode:e.readInt16(),offset:e.readInt64().toString()});e.exports={decode:async e=>({topics:new n(e).readArray((e=>({topicName:e.readString(),partitions:e.readArray(a)})))}),parse:async e=>{const t=e.topics.map((e=>e.partitions.filter((e=>o(e.errorCode))))),r=s(t);if(r.length>0){const{errorCode:e}=r[0];throw i(e)}return e}}},6807:(e,t,r)=>{const n=r(5127);e.exports=({acks:e,timeout:t,topicData:r})=>Object.assign(n({acks:e,timeout:t,topicData:r}),{apiVersion:1})},8683:(e,t,r)=>{const n=r(6341),{parse:o}=r(2615),i=e=>({partition:e.readInt32(),errorCode:e.readInt16(),offset:e.readInt64().toString()});e.exports={decode:async e=>{const t=new n(e);return{topics:t.readArray((e=>({topicName:e.readString(),partitions:e.readArray(i)}))),throttleTime:t.readInt32()}},parse:o}},749:(e,t,r)=>{const n=r(8783),{Produce:o}=r(9211),i=r(2032),{Types:s,lookupCodec:a}=r(2972);e.exports=({acks:e,timeout:t,compression:r=s.None,topicData:i})=>({apiKey:o,apiVersion:2,apiName:"Produce",expectResponse:()=>0!==e,encode:async()=>{const o=c(r),s=[];for(const e of i)s.push(await o(e));return(new n).writeInt16(e).writeInt32(t).writeArray(s)}});const c=e=>{const t=p(e);return async({topic:e,partitions:r})=>{const o=[];for(const e of r)o.push(await t(e));return(new n).writeString(e).writeArray(o)}},p=e=>async({partition:t,messages:r})=>{const o=i({messageVersion:1,compression:e,entries:r});if(e===s.None)return(new n).writeInt32(t).writeInt32(o.size()).writeEncoder(o);const c=r[0].timestamp||Date.now(),p=a(e),u=await p.compress(o),l=i({messageVersion:1,entries:[{compression:e,timestamp:c,value:u}]});return(new n).writeInt32(t).writeInt32(l.size()).writeEncoder(l)}},5468:(e,t,r)=>{const n=r(6341),{parse:o}=r(2615),i=e=>({partition:e.readInt32(),errorCode:e.readInt16(),offset:e.readInt64().toString(),timestamp:e.readInt64().toString()});e.exports={decode:async e=>{const t=new n(e);return{topics:t.readArray((e=>({topicName:e.readString(),partitions:e.readArray(i)}))),throttleTime:t.readInt32()}},parse:o}},6088:(e,t,r)=>{const n=r(3278),o=r(8783),{Produce:i}=r(9211),{Types:s}=r(2972),a=r(6575),{RecordBatch:c}=r(2872);e.exports=({acks:e,timeout:t,transactionalId:r=null,producerId:a=n.fromInt(-1),producerEpoch:c=0,compression:u=s.None,topicData:l})=>({apiKey:i,apiVersion:3,apiName:"Produce",expectResponse:()=>0!==e,encode:async()=>{const n=p(u),i=[];for(const e of l)i.push(await n({...e,transactionalId:r,producerId:a,producerEpoch:c}));return(new o).writeString(r).writeInt16(e).writeInt32(t).writeArray(i)}});const p=e=>async({topic:t,partitions:r,transactionalId:n,producerId:i,producerEpoch:s})=>{const a=u(e),c=[];for(const e of r)c.push(await a({...e,transactionalId:n,producerId:i,producerEpoch:s}));return(new o).writeString(t).writeArray(c)},u=e=>async({partition:t,messages:r,transactionalId:n,firstSequence:i,producerId:s,producerEpoch:p})=>{const u=Date.now(),l=r.map((e=>e.timestamp)).filter((e=>null!=e)).sort(),d=0===l.length?[u]:l,m=d[0],f=d[d.length-1],h=r.map(((e,t)=>a({...e,offsetDelta:t,timestampDelta:(e.timestamp||u)-m}))),g=await c({compression:e,records:h,firstTimestamp:m,maxTimestamp:f,producerId:s,producerEpoch:p,firstSequence:i,transactional:!!n,lastOffsetDelta:h.length-1});return(new o).writeInt32(t).writeInt32(g.size()).writeEncoder(g)}},4635:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=r(4358),a=e=>({partition:e.readInt32(),errorCode:e.readInt16(),baseOffset:e.readInt64().toString(),logAppendTime:e.readInt64().toString()});e.exports={decode:async e=>{const t=new n(e);return{topics:t.readArray((e=>({topicName:e.readString(),partitions:e.readArray(a)}))),throttleTime:t.readInt32()}},parse:async e=>{const t=e.topics.map((e=>e.partitions.filter((e=>o(e.errorCode))))),r=s(t);if(r.length>0){const{errorCode:e}=r[0];throw i(e)}return e}}},9221:(e,t,r)=>{const n=r(6088);e.exports=({acks:e,timeout:t,transactionalId:r,producerId:o,producerEpoch:i,compression:s,topicData:a})=>Object.assign(n({acks:e,timeout:t,transactionalId:r,producerId:o,producerEpoch:i,compression:s,topicData:a}),{apiVersion:4})},4206:(e,t,r)=>{const{decode:n,parse:o}=r(4635);e.exports={decode:n,parse:o}},5353:(e,t,r)=>{const n=r(6088);e.exports=({acks:e,timeout:t,transactionalId:r,producerId:o,producerEpoch:i,compression:s,topicData:a})=>Object.assign(n({acks:e,timeout:t,transactionalId:r,producerId:o,producerEpoch:i,compression:s,topicData:a}),{apiVersion:5})},4708:(e,t,r)=>{const n=r(6341),{parse:o}=r(4635),i=e=>({partition:e.readInt32(),errorCode:e.readInt16(),baseOffset:e.readInt64().toString(),logAppendTime:e.readInt64().toString(),logStartOffset:e.readInt64().toString()});e.exports={decode:async e=>{const t=new n(e);return{topics:t.readArray((e=>({topicName:e.readString(),partitions:e.readArray(i)}))),throttleTime:t.readInt32()}},parse:o}},1392:(e,t,r)=>{const n=r(5353);e.exports=({acks:e,timeout:t,transactionalId:r,producerId:o,producerEpoch:i,compression:s,topicData:a})=>Object.assign(n({acks:e,timeout:t,transactionalId:r,producerId:o,producerEpoch:i,compression:s,topicData:a}),{apiVersion:6})},1988:(e,t,r)=>{const{parse:n,decode:o}=r(4708);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},637:(e,t,r)=>{const n=r(1392);e.exports=({acks:e,timeout:t,transactionalId:r,producerId:o,producerEpoch:i,compression:s,topicData:a})=>Object.assign(n({acks:e,timeout:t,transactionalId:r,producerId:o,producerEpoch:i,compression:s,topicData:a}),{apiVersion:7})},5250:(e,t,r)=>{const{decode:n,parse:o}=r(1988);e.exports={decode:n,parse:o}},886:(e,t,r)=>{const n={0:({authBytes:e})=>{const t=r(7383),n=r(9305);return{request:t({authBytes:e}),response:n}},1:({authBytes:e})=>{const t=r(8439),n=r(5986);return{request:t({authBytes:e}),response:n}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},7383:(e,t,r)=>{const n=r(8783),{SaslAuthenticate:o}=r(9211);e.exports=({authBytes:e})=>({apiKey:o,apiVersion:0,apiName:"SaslAuthenticate",encode:async()=>(new n).writeBuffer(e)})},9305:(e,t,r)=>{const n=r(6341),o=r(8783),{failure:i,createErrorFromCode:s,failIfVersionNotSupported:a,errorCodes:c}=r(1701),{KafkaJSProtocolError:p}=r(9879),u=c.find((e=>58===e.code));e.exports={decode:async e=>{const t=new n(e),r=t.readInt16();return a(r),{errorCode:r,errorMessage:t.readString(),authBytes:(new o).writeBytes(t.readBytes()).buffer}},parse:async e=>{if(58===e.errorCode&&e.errorMessage)throw new p({...u,message:e.errorMessage});if(i(e.errorCode))throw s(e.errorCode);return e}}},8439:(e,t,r)=>{const n=r(7383);e.exports=({authBytes:e})=>Object.assign(n({authBytes:e}),{apiVersion:1})},5986:(e,t,r)=>{const n=r(6341),o=r(8783),{parse:i}=r(9305),{failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e),r=t.readInt16();return s(r),{errorCode:r,errorMessage:t.readString(),authBytes:(new o).writeBytes(t.readBytes()).buffer,sessionLifetimeMs:t.readInt64().toString()}},parse:i}},6184:(e,t,r)=>{const n={0:({mechanism:e})=>{const t=r(8143),n=r(6190);return{request:t({mechanism:e}),response:n}},1:({mechanism:e})=>{const t=r(5389),n=r(525);return{request:t({mechanism:e}),response:n}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},8143:(e,t,r)=>{const n=r(8783),{SaslHandshake:o}=r(9211);e.exports=({mechanism:e})=>({apiKey:o,apiVersion:0,apiName:"SaslHandshake",encode:async()=>(new n).writeString(e)})},6190:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e),r=t.readInt16();return s(r),{errorCode:r,enabledMechanisms:t.readArray((e=>e.readString()))}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},5389:(e,t,r)=>{const n=r(8143);e.exports=({mechanism:e})=>({...n({mechanism:e}),apiVersion:1})},525:(e,t,r)=>{const{decode:n,parse:o}=r(6190);e.exports={decode:n,parse:o}},6096:(e,t,r)=>{const n={0:({groupId:e,generationId:t,memberId:n,groupAssignment:o})=>{const i=r(2322),s=r(5509);return{request:i({groupId:e,generationId:t,memberId:n,groupAssignment:o}),response:s}},1:({groupId:e,generationId:t,memberId:n,groupAssignment:o})=>{const i=r(2596),s=r(3155);return{request:i({groupId:e,generationId:t,memberId:n,groupAssignment:o}),response:s}},2:({groupId:e,generationId:t,memberId:n,groupAssignment:o})=>{const i=r(8039),s=r(15);return{request:i({groupId:e,generationId:t,memberId:n,groupAssignment:o}),response:s}},3:({groupId:e,generationId:t,memberId:n,groupInstanceId:o,groupAssignment:i})=>{const s=r(7203),a=r(2745);return{request:s({groupId:e,generationId:t,memberId:n,groupInstanceId:o,groupAssignment:i}),response:a}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},2322:(e,t,r)=>{const n=r(8783),{SyncGroup:o}=r(9211);e.exports=({groupId:e,generationId:t,memberId:r,groupAssignment:s})=>({apiKey:o,apiVersion:0,apiName:"SyncGroup",encode:async()=>(new n).writeString(e).writeInt32(t).writeString(r).writeArray(s.map(i))});const i=({memberId:e,memberAssignment:t})=>(new n).writeString(e).writeBytes(t)},5509:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i,failIfVersionNotSupported:s}=r(1701);e.exports={decode:async e=>{const t=new n(e),r=t.readInt16();return s(r),{errorCode:r,memberAssignment:t.readBytes()}},parse:async e=>{if(o(e.errorCode))throw i(e.errorCode);return e}}},2596:(e,t,r)=>{const n=r(2322);e.exports=({groupId:e,generationId:t,memberId:r,groupAssignment:o})=>Object.assign(n({groupId:e,generationId:t,memberId:r,groupAssignment:o}),{apiVersion:1})},3155:(e,t,r)=>{const n=r(6341),{failIfVersionNotSupported:o}=r(1701),{parse:i}=r(5509);e.exports={decode:async e=>{const t=new n(e),r=t.readInt32(),i=t.readInt16();return o(i),{throttleTime:r,errorCode:i,memberAssignment:t.readBytes()}},parse:i}},8039:(e,t,r)=>{const n=r(2596);e.exports=({groupId:e,generationId:t,memberId:r,groupAssignment:o})=>Object.assign(n({groupId:e,generationId:t,memberId:r,groupAssignment:o}),{apiVersion:2})},15:(e,t,r)=>{const{parse:n,decode:o}=r(3155);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},7203:(e,t,r)=>{const n=r(8783),{SyncGroup:o}=r(9211);e.exports=({groupId:e,generationId:t,memberId:r,groupInstanceId:s=null,groupAssignment:a})=>({apiKey:o,apiVersion:3,apiName:"SyncGroup",encode:async()=>(new n).writeString(e).writeInt32(t).writeString(r).writeString(s).writeArray(a.map(i))});const i=({memberId:e,memberAssignment:t})=>(new n).writeString(e).writeBytes(t)},2745:(e,t,r)=>{const{decode:n,parse:o}=r(15);e.exports={decode:n,parse:o}},5302:(e,t,r)=>{const n={0:({transactionalId:e,groupId:t,producerId:n,producerEpoch:o,topics:i})=>{const s=r(4021),a=r(4272);return{request:s({transactionalId:e,groupId:t,producerId:n,producerEpoch:o,topics:i}),response:a}},1:({transactionalId:e,groupId:t,producerId:n,producerEpoch:o,topics:i})=>{const s=r(2944),a=r(9560);return{request:s({transactionalId:e,groupId:t,producerId:n,producerEpoch:o,topics:i}),response:a}}};e.exports={versions:Object.keys(n),protocol:({version:e})=>n[e]}},4021:(e,t,r)=>{const n=r(8783),{TxnOffsetCommit:o}=r(9211);e.exports=({transactionalId:e,groupId:t,producerId:r,producerEpoch:s,topics:a})=>({apiKey:o,apiVersion:0,apiName:"TxnOffsetCommit",encode:async()=>(new n).writeString(e).writeString(t).writeInt64(r).writeInt16(s).writeArray(a.map(i))});const i=({topic:e,partitions:t})=>(new n).writeString(e).writeArray(t.map(s)),s=({partition:e,offset:t,metadata:r})=>(new n).writeInt32(e).writeInt64(t).writeString(r)},4272:(e,t,r)=>{const n=r(6341),{failure:o,createErrorFromCode:i}=r(1701),s=async e=>({topic:e.readString(),partitions:await e.readArrayAsync(a)}),a=e=>({partition:e.readInt32(),errorCode:e.readInt16()});e.exports={decode:async e=>{const t=new n(e);return{throttleTime:t.readInt32(),topics:await t.readArrayAsync(s)}},parse:async e=>{const t=e.topics.map((({partitions:e})=>({partitionsWithErrors:e.filter((({errorCode:e})=>o(e)))}))).filter((({partitionsWithErrors:e})=>e.length));if(t.length>0)throw i(t[0].partitionsWithErrors[0].errorCode);return e}}},2944:(e,t,r)=>{const n=r(4021);e.exports=({transactionalId:e,groupId:t,producerId:r,producerEpoch:o,topics:i})=>Object.assign(n({transactionalId:e,groupId:t,producerId:r,producerEpoch:o,topics:i}),{apiVersion:1})},9560:(e,t,r)=>{const{parse:n,decode:o}=r(4272);e.exports={decode:async e=>{const t=await o(e);return{...t,throttleTime:0,clientSideThrottleTime:t.throttleTime}},parse:n}},8203:e=>{e.exports={UNKNOWN:0,ANY:1,MATCH:2,LITERAL:3,PREFIXED:4}},5320:(e,t,r)=>{const n=r(7666);e.exports=n},1128:(e,t,r)=>{e.exports={request:r(326),response:r(1391)}},326:(e,t,r)=>{const n=r(8783);e.exports=({authorizationIdentity:e,accessKeyId:t,secretAccessKey:r,sessionToken:o=""})=>({encode:async()=>(new n).writeBytes([e,t,r,o].join("\0"))})},1391:e=>{e.exports={decode:async()=>!0,parse:async()=>!0}},3860:(e,t,r)=>{e.exports={request:r(8824),response:r(5196)}},8824:(e,t,r)=>{const n=r(8783);e.exports=async({authorizationIdentity:e=null},t)=>{const r=null==e?"":`"a=${e}`;let o=function(e){let t="";if(null==e)return t;let r="";for(const n in e)t+=`${r}${n}=${e[n]}`,r="";return t}(t.extensions);o.length>0&&(o=`${o}`);const i=`n,${r},auth=Bearer ${t.value}${o}`;return{encode:async()=>(new n).writeBytes(Buffer.from(i))}}},5196:e=>{e.exports={decode:async()=>!0,parse:async()=>!0}},7733:(e,t,r)=>{e.exports={request:r(7985),response:r(7914)}},7985:(e,t,r)=>{const n=r(8783);e.exports=({authorizationIdentity:e=null,username:t,password:r})=>({encode:async()=>(new n).writeBytes([e,t,r].join("\0"))})},7914:e=>{e.exports={decode:async()=>!0,parse:async()=>!0}},9410:(e,t,r)=>{const n=r(8783);e.exports=({finalMessage:e})=>({encode:async()=>(new n).writeBytes(e)})},776:(e,t,r)=>{e.exports=r(8703)},1224:(e,t,r)=>{const n=r(8783);e.exports=({clientFirstMessage:e})=>({encode:async()=>(new n).writeBytes(e)})},8703:(e,t,r)=>{const n=r(6341),o=/^([rsiev])=(.*)$/;e.exports={decode:async e=>new n(e).readBytes(),parse:async e=>{const t=e.toString().split(",").map((e=>{const[t,r,n]=e.match(o);return[r,n]})).reduce(((e,t)=>({...e,[t[0]]:t[1]})),{});return{original:e.toString(),...t}}}},2337:(e,t,r)=>{e.exports={firstMessage:{request:r(1224),response:r(8703)},finalMessage:{request:r(9410),response:r(776)}}},2515:e=>{e.exports={NO_TIMESTAMP:-1,CREATE_TIME:0,LOG_APPEND_TIME:1}},7727:e=>{e.exports={maxRetryTime:3e4,initialRetryTime:300,factor:.2,multiplier:2,retries:5}},6045:e=>{e.exports={maxRetryTime:1e3,initialRetryTime:50,factor:.02,multiplier:1.5,retries:15}},9701:(e,t,r)=>{const{KafkaJSNumberOfRetriesExceeded:n}=r(9879),o=r(7727),i=(e,t)=>{const r=e*t;return Math.ceil((n=t-r,o=t+r,Math.random()*(o-n)+n));var n,o},s=["RangeError","ReferenceError","SyntaxError","TypeError"],a=(e,t,r,o)=>{let a=!1;const{factor:c,multiplier:p,maxRetryTime:u,retries:l}=e,d=e=>{a=!0,r(e||new Error("Aborted"))},m=(e,f=0)=>{if(a)return;const h=(e=>Math.min(i(c,e)*p,u))(e),g=f<l;o(d,f,e).then(t).catch((t=>{g&&(e=>{return(e.retriable||!1!==e.retriable)&&(t=e,!s.includes(t.name));var t})(t)?setTimeout((()=>m(h,f+1)),e):r(new n(t,{retryCount:f,retryTime:e}))}))};return m};e.exports=(e={})=>t=>new Promise(((r,n)=>{const s=Object.assign({},o,e);a(s,r,n,t)(i(s.factor,s.initialRetryTime))}))},8351:e=>{e.exports=(e,t)=>{const r=[],n=e.length;let o=0;for(;o<n;)-1===t.indexOf(e[o])&&r.push(e[o]),o+=1;return r}},5002:e=>{const t=e=>{throw e};e.exports=function*(e,r=t){const n=[],o=[];for(e.forEach((e=>{let t,i;n.push(new Promise(((e,r)=>{t=e,i=r}))),o.push({resolve:t,reject:i}),e.then((e=>{const{resolve:t}=o.pop();t(e)}),(async e=>{const{reject:t}=o.pop();try{await r(e),t(e)}catch(e){t(e)}}))}));n.length>0;){const e=n.pop();yield e}}},4230:(e,t,r)=>{const{KafkaJSNonRetriableError:n}=r(9879),o=new n("Queued function aborted due to earlier promise rejection");function i(){}e.exports=({limit:e,onChange:t=i}={})=>{if(isNaN(e)||"number"!=typeof e||e<1)throw new n('"limit" cannot be less than 1');let r=[],s=0;const a=(e,n,i)=>{s++,t(s),e().then((e=>{n(e),s--,t(s),r.length>0&&r.shift()()})).catch((e=>{i(e),(()=>{for(const e of r)e(((e,t,r)=>r(o)));r=[],s=0})()}))};return t=>new Promise(((n,o)=>((t,n,o)=>{s<e?a(t,n,o):r.push((e=>{(e||a)(t,n,o)}))})(t,n,o)))}},4358:e=>{e.exports=function(e){return[].concat.apply([],e)}},3163:e=>{e.exports=async(e,t)=>{const r=new Map;for(const n of e){const e=await Promise.resolve(t(n));r.set(e,r.has(e)?[...r.get(e),n]:[n])}return r}},4105:(e,t,r)=>{const{format:n}=r(1669),{KafkaJSLockTimeout:o}=r(9879),i=Symbol("private:Lock:locked"),s=Symbol("private:Lock:timeout"),a=Symbol("private:Lock:waiting"),c=Symbol("private:Lock:timeoutErrorMessage");e.exports=class{constructor({timeout:e,description:t=null}={}){if("number"!=typeof e)throw new TypeError(`'timeout' is not a number, received '${typeof e}'`);this[i]=!1,this[s]=e,this[a]=new Set,this[c]=()=>{const e=n("Timeout while acquiring lock (%d waiting locks)",this[a].size);return t?`${e}: "${t}"`:e}}async acquire(){return new Promise(((e,t)=>{if(!this[i])return this[i]=!0,e();let r=null;const n=async()=>{if(!this[i])return this[i]=!0,clearTimeout(r),this[a].delete(n),e()};this[a].add(n),r=setTimeout((()=>{const e=new o(this[c]());this[a].delete(n),t(e)}),this[s])}))}async release(){this[i]=!1;const e=this[a].values().next().value;if(e)return e()}}},3278:e=>{class t{constructor(e){this.value=e}static isLong(e){return"bigint"==typeof e.value}static fromBits(e){return new t(BigInt(e))}static fromInt(e){return isNaN(e)?t.ZERO:new t(BigInt.asIntN(64,BigInt(e)))}static fromNumber(e){return isNaN(e)?t.ZERO:new t(BigInt(e))}static fromValue(e){return"number"==typeof e?this.fromNumber(e):"string"==typeof e?this.fromString(e):"bigint"==typeof e?new t(e):this.isLong(e)?new t(BigInt(e.value)):new t(BigInt(e))}static fromString(e){if(0===e.length)throw Error("empty string");return"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e?t.ZERO:new t(BigInt(e))}isZero(){return this.value===BigInt(0)}isNegative(){return this.value<BigInt(0)}toString(){return String(this.value)}toNumber(){return Number(this.value)}toInt(){return Number(BigInt.asIntN(32,this.value))}shiftLeft(e){return new t(this.value<<BigInt(e))}shiftRight(e){return new t(this.value>>BigInt(e))}or(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.value|e.value)}xor(e){return t.isLong(e)||(e=t.fromValue(e)),new t(this.value^e.value)}and(e){return t.isLong(e)||(e=t.fromValue(e)),new t(this.value&e.value)}not(){return new t(~this.value)}shiftRightUnsigned(e){return new t(this.value>>BigInt.asUintN(64,BigInt(e)))}equals(e){return t.isLong(e)||(e=t.fromValue(e)),this.value===e.value}greaterThanOrEqual(e){return t.isLong(e)||(e=t.fromValue(e)),this.value>=e.value}gte(e){return this.greaterThanOrEqual(e)}notEquals(e){return t.isLong(e)||(e=t.fromValue(e)),!this.equals(e)}add(e){return t.isLong(e)||(e=t.fromValue(e)),new t(this.value+e.value)}subtract(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.negate())}multiply(e){return this.isZero()?t.ZERO:(t.isLong(e)||(e=t.fromValue(e)),new t(this.value*e.value))}divide(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");return new t(this.value/e.value)}compare(e){return t.isLong(e)||(e=t.fromValue(e)),this.value===e.value?0:this.value>e.value?1:e.value>this.value?-1:void 0}lessThan(e){return t.isLong(e)||(e=t.fromValue(e)),this.value<e.value}negate(){return this.equals(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)}getHighBits(){return Number(BigInt.asIntN(32,this.value>>BigInt(32)))}getLowBits(){return Number(BigInt.asIntN(32,this.value))}}t.MIN_VALUE=new t(BigInt("-9223372036854775808")),t.MAX_VALUE=new t(BigInt("9223372036854775807")),t.ZERO=t.fromInt(0),t.ONE=t.fromInt(1),e.exports=t},2464:e=>{e.exports=e=>{if(!Array.isArray(e))throw new TypeError("'array' is not an array");if(e.length<2)return e;const t=e.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}},4742:e=>{e.exports=e=>new Promise((t=>{setTimeout(t,e)}))},76:e=>{const{keys:t}=Object;e.exports=e=>t(e).reduce(((t,r)=>({...t,[e[r]]:r})),{})},6335:(e,t,r)=>{const n=r(4742),{KafkaJSTimeout:o}=r(9879);e.exports=(e,{delay:t=50,maxWait:r=1e4,timeoutMessage:i="Timeout",ignoreTimeout:s=!1}={})=>{let a,c=0,p=!1;const u=async(r,o)=>{c+=t,await n(t);try{const t=await e(c);if(t)return p=!0,clearTimeout(a),r(t);u(r,o)}catch(e){p=!0,clearTimeout(a),o(e)}};return new Promise(((e,t)=>{u(e,t),s||(a=setTimeout((()=>{if(!p)return t(new o(i))}),r))}))}},6779:e=>{e.exports=(e,t)=>`https://kafka.js.org/${e}${t?"#"+t:""}`},3313:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["ecma","es"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/mrb-publish+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["keynote"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana"},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana"},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana"},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shex":{"extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana"},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},5234:(e,t,r)=>{e.exports=r(3313)},983:(e,t,r)=>{"use strict";var n,o,i,s=r(5234),a=r(5622).extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,p=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=c.exec(e),r=t&&s[t[1].toLowerCase()];return r&&r.charset?r.charset:!(!t||!p.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var r=-1===e.indexOf("/")?t.lookup(e):e;if(!r)return!1;if(-1===r.indexOf("charset")){var n=t.charset(r);n&&(r+="; charset="+n.toLowerCase())}return r},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var r=c.exec(e),n=r&&t.extensions[r[1].toLowerCase()];return!(!n||!n.length)&&n[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var r=a("x."+e).toLowerCase().substr(1);return r&&t.types[r]||!1},t.types=Object.create(null),n=t.extensions,o=t.types,i=["nginx","apache",void 0,"iana"],Object.keys(s).forEach((function(e){var t=s[e],r=t.extensions;if(r&&r.length){n[e]=r;for(var a=0;a<r.length;a++){var c=r[a];if(o[c]){var p=i.indexOf(s[o[c]].source),u=i.indexOf(t.source);if("application/octet-stream"!==o[c]&&(p>u||p===u&&"application/"===o[c].substr(0,12)))continue}o[c]=e}}}))},159:(e,t,r)=>{"use strict";var n=Object.create(null);function o(e){if(!(this instanceof o))return new o(e);this.request=e}function i(e){var t=n[e];if(void 0!==t)return t;switch(e){case"charset":t=r(8558);break;case"encoding":t=r(4328);break;case"language":t=r(8871);break;case"mediaType":t=r(4097);break;default:throw new Error("Cannot find module '"+e+"'")}return n[e]=t,t}e.exports=o,e.exports.Negotiator=o,o.prototype.charset=function(e){var t=this.charsets(e);return t&&t[0]},o.prototype.charsets=function(e){return(0,i("charset").preferredCharsets)(this.request.headers["accept-charset"],e)},o.prototype.encoding=function(e){var t=this.encodings(e);return t&&t[0]},o.prototype.encodings=function(e){return(0,i("encoding").preferredEncodings)(this.request.headers["accept-encoding"],e)},o.prototype.language=function(e){var t=this.languages(e);return t&&t[0]},o.prototype.languages=function(e){return(0,i("language").preferredLanguages)(this.request.headers["accept-language"],e)},o.prototype.mediaType=function(e){var t=this.mediaTypes(e);return t&&t[0]},o.prototype.mediaTypes=function(e){return(0,i("mediaType").preferredMediaTypes)(this.request.headers.accept,e)},o.prototype.preferredCharset=o.prototype.charset,o.prototype.preferredCharsets=o.prototype.charsets,o.prototype.preferredEncoding=o.prototype.encoding,o.prototype.preferredEncodings=o.prototype.encodings,o.prototype.preferredLanguage=o.prototype.language,o.prototype.preferredLanguages=o.prototype.languages,o.prototype.preferredMediaType=o.prototype.mediaType,o.prototype.preferredMediaTypes=o.prototype.mediaTypes},8558:e=>{"use strict";e.exports=o,e.exports.preferredCharsets=o;var t=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var o=n[1],i=1;if(n[2])for(var s=n[2].split(";"),a=0;a<s.length;a++){var c=s[a].trim().split("=");if("q"===c[0]){i=parseFloat(c[1]);break}}return{charset:o,q:i,i:r}}function n(e,t,r){var n=0;if(t.charset.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.charset)return null;return{i:r,o:t.i,q:t.q,s:n}}function o(e,t){var o=function(e){for(var t=e.split(","),n=0,o=0;n<t.length;n++){var i=r(t[n].trim(),n);i&&(t[o++]=i)}return t.length=o,t}(void 0===e?"*":e||"");if(!t)return o.filter(a).sort(i).map(s);var c=t.map((function(e,t){return function(e,t,r){for(var o={o:-1,q:0,s:0},i=0;i<t.length;i++){var s=n(e,t[i],r);s&&(o.s-s.s||o.q-s.q||o.o-s.o)<0&&(o=s)}return o}(e,o,t)}));return c.filter(a).sort(i).map((function(e){return t[c.indexOf(e)]}))}function i(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.charset}function a(e){return e.q>0}},4328:e=>{"use strict";e.exports=o,e.exports.preferredEncodings=o;var t=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var o=n[1],i=1;if(n[2])for(var s=n[2].split(";"),a=0;a<s.length;a++){var c=s[a].trim().split("=");if("q"===c[0]){i=parseFloat(c[1]);break}}return{encoding:o,q:i,i:r}}function n(e,t,r){var n=0;if(t.encoding.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.encoding)return null;return{i:r,o:t.i,q:t.q,s:n}}function o(e,t){var o=function(e){for(var t=e.split(","),o=!1,i=1,s=0,a=0;s<t.length;s++){var c=r(t[s].trim(),s);c&&(t[a++]=c,o=o||n("identity",c),i=Math.min(i,c.q||1))}return o||(t[a++]={encoding:"identity",q:i,i:s}),t.length=a,t}(e||"");if(!t)return o.filter(a).sort(i).map(s);var c=t.map((function(e,t){return function(e,t,r){for(var o={o:-1,q:0,s:0},i=0;i<t.length;i++){var s=n(e,t[i],r);s&&(o.s-s.s||o.q-s.q||o.o-s.o)<0&&(o=s)}return o}(e,o,t)}));return c.filter(a).sort(i).map((function(e){return t[c.indexOf(e)]}))}function i(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.encoding}function a(e){return e.q>0}},8871:e=>{"use strict";e.exports=o,e.exports.preferredLanguages=o;var t=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var o=n[1],i=n[2],s=o;i&&(s+="-"+i);var a=1;if(n[3])for(var c=n[3].split(";"),p=0;p<c.length;p++){var u=c[p].split("=");"q"===u[0]&&(a=parseFloat(u[1]))}return{prefix:o,suffix:i,q:a,i:r,full:s}}function n(e,t,n){var o=r(e);if(!o)return null;var i=0;if(t.full.toLowerCase()===o.full.toLowerCase())i|=4;else if(t.prefix.toLowerCase()===o.full.toLowerCase())i|=2;else if(t.full.toLowerCase()===o.prefix.toLowerCase())i|=1;else if("*"!==t.full)return null;return{i:n,o:t.i,q:t.q,s:i}}function o(e,t){var o=function(e){for(var t=e.split(","),n=0,o=0;n<t.length;n++){var i=r(t[n].trim(),n);i&&(t[o++]=i)}return t.length=o,t}(void 0===e?"*":e||"");if(!t)return o.filter(a).sort(i).map(s);var c=t.map((function(e,t){return function(e,t,r){for(var o={o:-1,q:0,s:0},i=0;i<t.length;i++){var s=n(e,t[i],r);s&&(o.s-s.s||o.q-s.q||o.o-s.o)<0&&(o=s)}return o}(e,o,t)}));return c.filter(a).sort(i).map((function(e){return t[c.indexOf(e)]}))}function i(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.full}function a(e){return e.q>0}},4097:e=>{"use strict";e.exports=o,e.exports.preferredMediaTypes=o;var t=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var o=Object.create(null),i=1,s=n[2],a=n[1];if(n[3])for(var u=function(e){for(var t=e.split(";"),r=1,n=0;r<t.length;r++)c(t[n])%2==0?t[++n]=t[r]:t[n]+=";"+t[r];for(t.length=n+1,r=0;r<t.length;r++)t[r]=t[r].trim();return t}(n[3]).map(p),l=0;l<u.length;l++){var d=u[l],m=d[0].toLowerCase(),f=d[1],h=f&&'"'===f[0]&&'"'===f[f.length-1]?f.substr(1,f.length-2):f;if("q"===m){i=parseFloat(h);break}o[m]=h}return{type:a,subtype:s,params:o,q:i,i:r}}function n(e,t,n){var o=r(e),i=0;if(!o)return null;if(t.type.toLowerCase()==o.type.toLowerCase())i|=4;else if("*"!=t.type)return null;if(t.subtype.toLowerCase()==o.subtype.toLowerCase())i|=2;else if("*"!=t.subtype)return null;var s=Object.keys(t.params);if(s.length>0){if(!s.every((function(e){return"*"==t.params[e]||(t.params[e]||"").toLowerCase()==(o.params[e]||"").toLowerCase()})))return null;i|=1}return{i:n,o:t.i,q:t.q,s:i}}function o(e,t){var o=function(e){for(var t=function(e){for(var t=e.split(","),r=1,n=0;r<t.length;r++)c(t[n])%2==0?t[++n]=t[r]:t[n]+=","+t[r];return t.length=n+1,t}(e),n=0,o=0;n<t.length;n++){var i=r(t[n].trim(),n);i&&(t[o++]=i)}return t.length=o,t}(void 0===e?"*/*":e||"");if(!t)return o.filter(a).sort(i).map(s);var p=t.map((function(e,t){return function(e,t,r){for(var o={o:-1,q:0,s:0},i=0;i<t.length;i++){var s=n(e,t[i],r);s&&(o.s-s.s||o.q-s.q||o.o-s.o)<0&&(o=s)}return o}(e,o,t)}));return p.filter(a).sort(i).map((function(e){return t[p.indexOf(e)]}))}function i(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.type+"/"+e.subtype}function a(e){return e.q>0}function c(e){for(var t=0,r=0;-1!==(r=e.indexOf('"',r));)t++,r++;return t}function p(e){var t,r,n=e.indexOf("=");return-1===n?t=e:(t=e.substr(0,n),r=e.substr(n+1)),[t,r]}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var s,a,c=o(e),p=1;p<arguments.length;p++){for(var u in s=Object(arguments[p]))r.call(s,u)&&(c[u]=s[u]);if(t){a=t(s);for(var l=0;l<a.length;l++)n.call(s,a[l])&&(c[a[l]]=s[a[l]])}}return c}},7840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Adapter=void 0;const n=r(8614);class o extends n.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}addAll(e,t){for(const r of t)this.sids.has(e)||this.sids.set(e,new Set),this.sids.get(e).add(r),this.rooms.has(r)||this.rooms.set(r,new Set),this.rooms.get(r).add(e)}del(e,t){this.sids.has(e)&&this.sids.get(e).delete(t),this.rooms.has(t)&&(this.rooms.get(t).delete(e),0===this.rooms.get(t).size&&this.rooms.delete(t))}delAll(e){if(this.sids.has(e)){for(const t of this.sids.get(e))this.rooms.has(t)&&(this.rooms.get(t).delete(e),0===this.rooms.get(t).size&&this.rooms.delete(t));this.sids.delete(e)}}broadcast(e,t){const r=t.rooms,n=t.except||new Set,o=t.flags||{},i={preEncoded:!0,volatile:o.volatile,compress:o.compress},s=new Set;e.nsp=this.nsp.name;const a=this.encoder.encode(e);if(r.size){for(const e of r)if(this.rooms.has(e))for(const t of this.rooms.get(e)){if(s.has(t)||n.has(t))continue;const e=this.nsp.sockets.get(t);e&&(e.packet(a,i),s.add(t))}}else for(const[e]of this.sids){if(n.has(e))continue;const t=this.nsp.sockets.get(e);t&&t.packet(a,i)}}sockets(e){const t=new Set;if(e.size){for(const r of e)if(this.rooms.has(r))for(const e of this.rooms.get(r))this.nsp.sockets.has(e)&&t.add(e)}else for(const[e]of this.sids)this.nsp.sockets.has(e)&&t.add(e);return Promise.resolve(t)}socketRooms(e){return this.sids.get(e)}}t.Adapter=o},7719:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const n=r(2986);function o(e,t){if(!e)return e;if(n.isBinary(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=o(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const n in e)e.hasOwnProperty(n)&&(r[n]=o(e[n],t));return r}return e}function i(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=i(e[r],t);else if("object"==typeof e)for(const r in e)e.hasOwnProperty(r)&&(e[r]=i(e[r],t));return e}t.deconstructPacket=function(e){const t=[],r=e.data,n=e;return n.data=o(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=i(e.data,t),e.attachments=void 0,e}},5485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const n=r(8767),o=r(7719),i=r(2986),s=r(3810)("socket.io-parser");var a;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(a=t.PacketType||(t.PacketType={})),t.Encoder=class{encode(e){return s("encoding packet %j",e),e.type!==a.EVENT&&e.type!==a.ACK||!i.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===a.EVENT?a.BINARY_EVENT:a.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==a.BINARY_EVENT&&e.type!==a.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),s("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=o.deconstructPacket(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}};class c extends n{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===a.BINARY_EVENT||t.type===a.BINARY_ACK?(this.reconstructor=new p(t),0===t.attachments&&super.emit("decoded",t)):super.emit("decoded",t);else{if(!i.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emit("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===a[r.type])throw new Error("unknown packet type "+r.type);if(r.type===a.BINARY_EVENT||r.type===a.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(n,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!c.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return s("decoded %s as %j",e,r),r}static isPayloadValid(e,t){switch(e){case a.CONNECT:return"object"==typeof t;case a.DISCONNECT:return void 0===t;case a.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case a.EVENT:case a.BINARY_EVENT:return Array.isArray(t)&&"string"==typeof t[0];case a.ACK:case a.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=c;class p{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},2986:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const r="function"==typeof ArrayBuffer,n=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),i="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);function s(e){return r&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||o&&e instanceof Blob||i&&e instanceof File}t.isBinary=s,t.hasBinary=function e(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(e(t[r]))return!0;return!1}if(s(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}},1618:(e,t,r)=>{t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(5224)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},5224:(e,t,r)=>{e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function s(...e){if(!s.enabled)return;const t=s,o=Number(new Date),i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return r;a++;const i=n.formatters[o];if("function"==typeof i){const n=e[a];r=i.call(t,n),e.splice(a,1),a--}return r})),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=o,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function o(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map((e=>"-"+e))].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(8896),Object.keys(e).forEach((t=>{n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},3810:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(1618):e.exports=r(5080)},5080:(e,t,r)=>{const n=r(3867),o=r(1669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=r(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(5224)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},8896:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,p=typeof e;if("string"===p&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===p&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const n=r(5485),o=r(2586)("socket.io:client");t.Client=class{constructor(e,t){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=t,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=t.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout((()=>{0===this.nsps.size?(o("no namespace joined yet, close the client"),this.close()):o("the client has already joined a namespace, nothing to do")}),this.server._connectTimeout)}connect(e,t={}){if(this.server._nsps.has(e))return o("connecting to namespace %s",e),this.doConnect(e,t);this.server._checkNamespace(e,t,(r=>{r?(o("dynamic namespace %s was created",r.name),this.doConnect(e,t)):(o("creation of namespace %s was denied",e),this._packet({type:n.PacketType.CONNECT_ERROR,nsp:e,data:{message:"Invalid namespace"}}))}))}doConnect(e,t){this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=null);const r=this.server.of(e),n=r._add(this,t,(()=>{this.sockets.set(n.id,n),this.nsps.set(r.name,n)}))}_disconnect(){for(const e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){if(this.sockets.has(e.id)){const t=this.sockets.get(e.id).nsp.name;this.sockets.delete(e.id),this.nsps.delete(t)}else o("ignoring remove for %s",e.id)}close(){"open"==this.conn.readyState&&(o("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,t){t=t||{};const r=this;function n(e){if(!t.volatile||r.conn.transport.writable)for(let n=0;n<e.length;n++)r.conn.write(e[n],{compress:t.compress})}"open"==this.conn.readyState?(o("writing packet %j",e),t.preEncoded?n(e):n(this.encoder.encode(e))):o("ignoring packet write %j",e)}ondata(e){try{this.decoder.add(e)}catch(e){this.onerror(e)}}ondecoded(e){if(n.PacketType.CONNECT==e.type)this.connect(e.nsp,e.data);else{const t=this.nsps.get(e.nsp);t?process.nextTick((function(){t._onpacket(e)})):o("no socket for namespace %s",e.nsp)}}onerror(e){for(const t of this.sockets.values())t._onerror(e);this.conn.close()}onclose(e){o("client close with reason %s",e),this.destroy();for(const t of this.sockets.values())t._onclose(e);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded)}}},2730:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=t.Socket=t.Server=void 0;const a=r(8605),c=r(5747),p=r(8761),u=r(9078),l=r(2413),d=r(5622),m=r(2731),f=r(2783),h=r(8614),g=r(1984);Object.defineProperty(t,"Namespace",{enumerable:!0,get:function(){return g.Namespace}});const v=r(1255),y=r(7840),b=i(r(5485)),x=s(r(2586)),w=r(7121);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return w.Socket}});const I=x.default("socket.io:server"),S=r(7865).i8,T=/\.map/;class E extends h.EventEmitter{constructor(e,t={}){super(),this._nsps=new Map,this.parentNsps=new Map,"object"==typeof e&&e instanceof Object&&!e.listen&&(t=e,e=null),this.path(t.path||"/socket.io"),this.connectTimeout(t.connectTimeout||45e3),this.serveClient(!1!==t.serveClient),this._parser=t.parser||b,this.encoder=new this._parser.Encoder,this.adapter(t.adapter||y.Adapter),this.sockets=this.of("/"),this.opts=t,e&&this.attach(e)}serveClient(e){return arguments.length?(this._serveClient=e,this):this._serveClient}_checkNamespace(e,t,r){if(0===this.parentNsps.size)return r(!1);const n=this.parentNsps.keys(),o=()=>{let i=n.next();if(i.done)return r(!1);i.value(e,t,((t,n)=>{t||!n?o():r(this.parentNsps.get(i.value).createChild(e))}))};o()}path(e){if(!arguments.length)return this._path;this._path=e.replace(/\/$/,"");const t=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+t+"/socket\\.io(\\.min|\\.msgpack\\.min)?\\.js(\\.map)?$"),this}connectTimeout(e){return void 0===e?this._connectTimeout:(this._connectTimeout=e,this)}adapter(e){if(!arguments.length)return this._adapter;this._adapter=e;for(const e of this._nsps.values())e._initAdapter();return this}listen(e,t={}){return this.attach(e,t)}attach(e,t={}){if("function"==typeof e)throw new Error("You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.");if(Number(e)==e&&(e=Number(e)),"number"==typeof e){I("creating http server and binding to %d",e);const t=e;(e=a.createServer(((e,t)=>{t.writeHead(404),t.end()}))).listen(t)}return Object.assign(t,this.opts),t.path=t.path||this._path,this.initEngine(e,t),this}initEngine(e,t){I("creating engine.io instance with opts %j",t),this.eio=m.attach(e,t),this._serveClient&&this.attachServe(e),this.httpServer=e,this.bind(this.eio)}attachServe(e){I("attaching client serving req handler");const t=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("request",((r,n)=>{if(this.clientPathRegex.test(r.url))this.serve(r,n);else for(let o=0;o<t.length;o++)t[o].call(e,r,n)}))}serve(e,t){const r=e.url.replace(this._path,""),n=T.test(r),o=n?"map":"source",i='"'+S+'"',s=e.headers["if-none-match"];if(s&&i==s)return I("serve client %s 304",o),t.writeHead(304),void t.end();I("serve client %s",o),t.setHeader("Cache-Control","public, max-age=0"),t.setHeader("Content-Type","application/"+(n?"json":"javascript")),t.setHeader("ETag",i),n||t.setHeader("X-SourceMap",r.substring(1)+".map"),E.sendFile(r,e,t)}static sendFile(e,t,r){const n=c.createReadStream(d.join(__dirname,"../client-dist/",e)),o=e=>{e&&r.end()};switch(u(t).encodings(["br","gzip","deflate"])){case"br":r.writeHead(200,{"content-encoding":"br"}),n.pipe(p.createBrotliCompress()).pipe(r),l.pipeline(n,p.createBrotliCompress(),r,o);break;case"gzip":r.writeHead(200,{"content-encoding":"gzip"}),l.pipeline(n,p.createGzip(),r,o);break;case"deflate":r.writeHead(200,{"content-encoding":"deflate"}),l.pipeline(n,p.createDeflate(),r,o);break;default:r.writeHead(200),l.pipeline(n,r,o)}}bind(e){return this.engine=e,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(e){return I("incoming connection with id %s",e.id),new f.Client(this,e),this}of(e,t){if("function"==typeof e||e instanceof RegExp){const r=new v.ParentNamespace(this);return I("initializing parent namespace %s",r.name),"function"==typeof e?this.parentNsps.set(e,r):this.parentNsps.set(((t,r,n)=>n(null,e.test(t))),r),t&&r.on("connect",t),r}"/"!==String(e)[0]&&(e="/"+e);let r=this._nsps.get(e);return r||(I("initializing namespace %s",e),r=new g.Namespace(this,e),this._nsps.set(e,r)),t&&r.on("connect",t),r}close(e){for(const e of this.sockets.sockets.values())e._onclose("server shutting down");this.engine.close(),this.httpServer?this.httpServer.close(e):e&&e()}use(e){return this.sockets.use(e),this}to(e){return this.sockets.to(e),this}in(e){return this.sockets.in(e),this}send(...e){return e.unshift("message"),this.sockets.emit.apply(this.sockets,e),this}write(...e){return e.unshift("message"),this.sockets.emit.apply(this.sockets,e),this}allSockets(){return this.sockets.allSockets()}compress(e){return this.sockets.compress(e),this}get volatile(){return this.sockets.volatile,this}get local(){return this.sockets.local,this}}t.Server=E,Object.keys(h.EventEmitter.prototype).filter((function(e){return"function"==typeof h.EventEmitter.prototype[e]})).forEach((function(e){E.prototype[e]=function(){return this.sockets[e].apply(this.sockets,arguments)}})),e.exports=(e,t)=>new E(e,t),e.exports.Server=E},1984:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=void 0;const o=r(7121),i=r(8614),s=r(5485),a=n(r(2586)).default("socket.io:namespace");class c extends i.EventEmitter{constructor(e,t){super(),this.sockets=new Map,this._fns=[],this._rooms=new Set,this._flags={},this._ids=0,this.server=e,this.name=t,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(e){return this._fns.push(e),this}run(e,t){const r=this._fns.slice(0);if(!r.length)return t(null);!function n(o){r[o](e,(function(e){return e?t(e):r[o+1]?void n(o+1):t(null)}))}(0)}to(e){return this._rooms.add(e),this}in(e){return this._rooms.add(e),this}_add(e,t,r){a("adding socket to nsp %s",this.name);const n=new o.Socket(this,e,t);return this.run(n,(t=>{process.nextTick((()=>{if("open"==e.conn.readyState){if(t)return n._error({message:t.message,data:t.data});this.sockets.set(n.id,n),n._onconnect(),r&&r(),super.emit("connect",n),super.emit("connection",n)}else a("next called after client was closed - ignoring socket")}))})),n}_remove(e){this.sockets.has(e.id)?this.sockets.delete(e.id):a("ignoring remove for %s",e.id)}emit(e,...t){if(o.RESERVED_EVENTS.has(e))throw new Error(`"${e}" is a reserved event name`);t.unshift(e);const r={type:s.PacketType.EVENT,data:t};if("function"==typeof t[t.length-1])throw new Error("Callbacks are not supported when broadcasting");const n=new Set(this._rooms),i=Object.assign({},this._flags);return this._rooms.clear(),this._flags={},this.adapter.broadcast(r,{rooms:n,flags:i}),!0}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}write(...e){return e.unshift("message"),this.emit.apply(this,e),this}allSockets(){if(!this.adapter)throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?");const e=new Set(this._rooms);return this._rooms.clear(),this.adapter.sockets(e)}compress(e){return this._flags.compress=e,this}get volatile(){return this._flags.volatile=!0,this}get local(){return this._flags.local=!0,this}}t.Namespace=c},1255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParentNamespace=void 0;const n=r(1984);class o extends n.Namespace{constructor(e){super(e,"/_"+o.count++),this.children=new Set}_initAdapter(){}emit(...e){return this.children.forEach((t=>{t._rooms=this._rooms,t._flags=this._flags,t.emit.apply(t,e)})),this._rooms.clear(),this._flags={},!0}createChild(e){const t=new n.Namespace(this.server,e);return t._fns=this._fns.slice(0),this.listeners("connect").forEach((e=>t.on("connect",e))),this.listeners("connection").forEach((e=>t.on("connection",e))),this.children.add(t),this.server._nsps.set(e,t),t}}t.ParentNamespace=o,o.count=0},7121:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.RESERVED_EVENTS=void 0;const o=r(8614),i=r(5485),s=r(8835),a=n(r(2586)),c=n(r(7936)),p=a.default("socket.io:socket");t.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"]);class u extends o.EventEmitter{constructor(e,t,r){super(),this.nsp=e,this.client=t,this.acks=new Map,this.fns=[],this.flags={},this._rooms=new Set,this.server=e.server,this.adapter=this.nsp.adapter,this.id=c.default.generateId(),this.connected=!0,this.disconnected=!1,this.handshake=this.buildHandshake(r)}buildHandshake(e){return{headers:this.request.headers,time:new Date+"",address:this.conn.remoteAddress,xdomain:!!this.request.headers.origin,secure:!!this.request.connection.encrypted,issued:+new Date,url:this.request.url,query:s.parse(this.request.url,!0).query,auth:e}}emit(e,...r){if(t.RESERVED_EVENTS.has(e))throw new Error(`"${e}" is a reserved event name`);r.unshift(e);const n={type:i.PacketType.EVENT,data:r};if("function"==typeof r[r.length-1]){if(this._rooms.size||this.flags.broadcast)throw new Error("Callbacks are not supported when broadcasting");p("emitting packet with ack id %d",this.nsp._ids),this.acks.set(this.nsp._ids,r.pop()),n.id=this.nsp._ids++}const o=new Set(this._rooms),s=Object.assign({},this.flags);return this._rooms.clear(),this.flags={},o.size||s.broadcast?this.adapter.broadcast(n,{except:new Set([this.id]),rooms:o,flags:s}):this.packet(n,s),!0}to(e){return this._rooms.add(e),this}in(e){return this._rooms.add(e),this}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}write(...e){return e.unshift("message"),this.emit.apply(this,e),this}packet(e,t={}){e.nsp=this.nsp.name,t.compress=!1!==t.compress,this.client._packet(e,t)}join(e){return p("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return p("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){p("socket connected - writing packet"),this.join(this.id),this.packet({type:i.PacketType.CONNECT,data:{sid:this.id}})}_onpacket(e){switch(p("got packet %j",e),e.type){case i.PacketType.EVENT:case i.PacketType.BINARY_EVENT:this.onevent(e);break;case i.PacketType.ACK:case i.PacketType.BINARY_ACK:this.onack(e);break;case i.PacketType.DISCONNECT:this.ondisconnect();break;case i.PacketType.CONNECT_ERROR:this._onerror(new Error(e.data))}}onevent(e){const t=e.data||[];if(p("emitting event %j",t),null!=e.id&&(p("attaching ack callback to event"),t.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const r of e)r.apply(this,t)}super.emit.apply(this,t)}ack(e){const t=this;let r=!1;return function(){if(r)return;const n=Array.prototype.slice.call(arguments);p("sending ack %j",n),t.packet({id:e,type:i.PacketType.ACK,data:n}),r=!0}}onack(e){const t=this.acks.get(e.id);"function"==typeof t?(p("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),this.acks.delete(e.id)):p("bad ack %s",e.id)}ondisconnect(){p("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.listeners("error").length?super.emit("error",e):(console.error("Missing error handler on `socket`."),console.error(e.stack))}_onclose(e){if(!this.connected)return this;p("closing socket - reason %s",e),super.emit("disconnecting",e),this.leaveAll(),this.nsp._remove(this),this.client._remove(this),this.connected=!1,this.disconnected=!0,super.emit("disconnect",e)}_error(e){this.packet({type:i.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected?(e?this.client._disconnect():(this.packet({type:i.PacketType.DISCONNECT}),this._onclose("server namespace disconnect")),this):this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.flags.broadcast=!0,this}get local(){return this.flags.local=!0,this}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}t.Socket=u},5617:(e,t,r)=>{t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(2382)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2382:(e,t,r)=>{e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function s(...e){if(!s.enabled)return;const t=s,o=Number(new Date),i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return r;a++;const i=n.formatters[o];if("function"==typeof i){const n=e[a];r=i.call(t,n),e.splice(a,1),a--}return r})),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=o,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function o(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map((e=>"-"+e))].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(6467),Object.keys(e).forEach((t=>{n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},2586:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(5617):e.exports=r(6833)},6833:(e,t,r)=>{const n=r(3867),o=r(1669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=r(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(2382)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},6467:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,p=typeof e;if("string"===p&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===p&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7865:e=>{"use strict";e.exports={i8:"3.0.4"}},2130:(e,t,r)=>{"use strict";const n=r(2087),o=r(6560),i=process.env;let s;function a(e){return 0!==(t=function(e){if(!1===s)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((e=>e in i))||"codeship"===i.CI_NAME?1:t;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:(i.TERM,t)}(e))&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3};var t}o("no-color")||o("no-colors")||o("color=false")?s=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(s=!0),"FORCE_COLOR"in i&&(s=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},5877:(e,t,r)=>{var n=r(3570),o=r(1171),i=o;i.v1=n,i.v4=o,e.exports=i},5327:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,o=t;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},556:(e,t,r)=>{var n=r(6417);e.exports=function(){return n.randomBytes(16)}},3570:(e,t,r)=>{var n,o,i=r(556),s=r(5327),a=0,c=0;e.exports=function(e,t,r){var p=t&&r||0,u=t||[],l=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:o;if(null==l||null==d){var m=i();null==l&&(l=n=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==d&&(d=o=16383&(m[6]<<8|m[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:c+1,g=f-a+(h-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||f>a)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,c=h,o=d;var v=(1e4*(268435455&(f+=122192928e5))+h)%4294967296;u[p++]=v>>>24&255,u[p++]=v>>>16&255,u[p++]=v>>>8&255,u[p++]=255&v;var y=f/4294967296*1e4&268435455;u[p++]=y>>>8&255,u[p++]=255&y,u[p++]=y>>>24&15|16,u[p++]=y>>>16&255,u[p++]=d>>>8|128,u[p++]=255&d;for(var b=0;b<6;++b)u[p+b]=l[b];return t||s(u)}},1171:(e,t,r)=>{var n=r(556),o=r(5327);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},5181:e=>{"use strict";e.exports=function(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var n=e.getHeader("Vary")||"",o=Array.isArray(n)?n.join(", "):String(n);(n=r(o,t))&&e.setHeader("Vary",n)},e.exports.append=r;var t=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function r(e,r){if("string"!=typeof e)throw new TypeError("header argument is required");if(!r)throw new TypeError("field argument is required");for(var o=Array.isArray(r)?r:n(String(r)),i=0;i<o.length;i++)if(!t.test(o[i]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var s=e,a=n(e.toLowerCase());if(-1!==o.indexOf("*")||-1!==a.indexOf("*"))return"*";for(var c=0;c<o.length;c++){var p=o[c].toLowerCase();-1===a.indexOf(p)&&(a.push(p),s=s?s+", "+o[c]:o[c])}return s}function n(e){for(var t=0,r=[],n=0,o=0,i=e.length;o<i;o++)switch(e.charCodeAt(o)){case 32:n===t&&(n=t=o+1);break;case 44:r.push(e.substring(n,t)),n=t=o+1;break;default:t=o+1}return r.push(e.substring(n,t)),r}},8777:(e,t,r)=>{"use strict";const n=r(8762);n.createWebSocketStream=r(404),n.Server=r(9284),n.Receiver=r(2957),n.Sender=r(7330),e.exports=n},977:(e,t,r)=>{"use strict";const{EMPTY_BUFFER:n}=r(1872);function o(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let o=0;for(let t=0;t<e.length;t++){const n=e[t];r.set(n,o),o+=n.length}return o<t?r.slice(0,o):r}function i(e,t,r,n,o){for(let i=0;i<o;i++)r[n+i]=e[i]^t[3&i]}function s(e,t){const r=e.length;for(let n=0;n<r;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=r(6772),n=t.BufferUtil||t;e.exports={concat:o,mask(e,t,r,o,s){s<48?i(e,t,r,o,s):n.mask(e,t,r,o,s)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?s(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:o,mask:i,toArrayBuffer:a,toBuffer:c,unmask:s}}},1872:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},62:e=>{"use strict";class t{constructor(e,t){this.target=t,this.type=e}}class r extends t{constructor(e,t){super("message",t),this.data=e}}class n extends t{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class o extends t{constructor(e){super("open",e)}}class i extends t{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const s={addEventListener(e,t,s){if("function"!=typeof t)return;function a(e){t.call(this,new r(e,this))}function c(e,r){t.call(this,new n(e,r,this))}function p(e){t.call(this,new i(e,this))}function u(){t.call(this,new o(this))}const l=s&&s.once?"once":"on";"message"===e?(a._listener=t,this[l](e,a)):"close"===e?(c._listener=t,this[l](e,c)):"error"===e?(p._listener=t,this[l](e,p)):"open"===e?(u._listener=t,this[l](e,u)):this[l](e,t)},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=s},1503:e=>{"use strict";const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>[t].concat(Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const n=Object.create(null);if(void 0===e||""===e)return n;let o,i,s=Object.create(null),a=!1,c=!1,p=!1,u=-1,l=-1,d=0;for(;d<e.length;d++){const m=e.charCodeAt(d);if(void 0===o)if(-1===l&&1===t[m])-1===u&&(u=d);else if(32===m||9===m)-1===l&&-1!==u&&(l=d);else{if(59!==m&&44!==m)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${d}`);-1===l&&(l=d);const t=e.slice(u,l);44===m?(r(n,t,s),s=Object.create(null)):o=t,u=l=-1}}else if(void 0===i)if(-1===l&&1===t[m])-1===u&&(u=d);else if(32===m||9===m)-1===l&&-1!==u&&(l=d);else if(59===m||44===m){if(-1===u)throw new SyntaxError(`Unexpected character at index ${d}`);-1===l&&(l=d),r(s,e.slice(u,l),!0),44===m&&(r(n,o,s),s=Object.create(null),o=void 0),u=l=-1}else{if(61!==m||-1===u||-1!==l)throw new SyntaxError(`Unexpected character at index ${d}`);i=e.slice(u,d),u=l=-1}else if(c){if(1!==t[m])throw new SyntaxError(`Unexpected character at index ${d}`);-1===u?u=d:a||(a=!0),c=!1}else if(p)if(1===t[m])-1===u&&(u=d);else if(34===m&&-1!==u)p=!1,l=d;else{if(92!==m)throw new SyntaxError(`Unexpected character at index ${d}`);c=!0}else if(34===m&&61===e.charCodeAt(d-1))p=!0;else if(-1===l&&1===t[m])-1===u&&(u=d);else if(-1===u||32!==m&&9!==m){if(59!==m&&44!==m)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${d}`);-1===l&&(l=d);let t=e.slice(u,l);a&&(t=t.replace(/\\/g,""),a=!1),r(s,i,t),44===m&&(r(n,o,s),s=Object.create(null),o=void 0),i=void 0,u=l=-1}}else-1===l&&(l=d)}if(-1===u||p)throw new SyntaxError("Unexpected end of input");-1===l&&(l=d);const m=e.slice(u,l);return void 0===o?r(n,m,s):(void 0===i?r(s,m,!0):r(s,i,a?m.replace(/\\/g,""):m),r(n,o,s)),n}}},305:e=>{"use strict";const t=Symbol("kDone"),r=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},3558:(e,t,r)=>{"use strict";const n=r(8761),o=r(977),i=r(305),{kStatusCode:s,NOOP:a}=r(1872),c=Buffer.from([0,0,255,255]),p=Symbol("permessage-deflate"),u=Symbol("total-length"),l=Symbol("callback"),d=Symbol("buffers"),m=Symbol("error");let f;function h(e){this[d].push(e),this[u]+=e.length}function g(e){this[u]+=e.length,this[p]._maxPayload<1||this[u]<=this[p]._maxPayload?this[d].push(e):(this[m]=new RangeError("Max payload size exceeded"),this[m][s]=1009,this.removeListener("data",g),this.reset())}function v(e){this[p]._inflate=null,e[s]=1007,this[l](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new i(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[l];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r}))})),e}decompress(e,t,r){f.add((n=>{this._decompress(e,t,((e,t)=>{n(),r(e,t)}))}))}compress(e,t,r){f.add((n=>{this._compress(e,t,((e,t)=>{n(),r(e,t)}))}))}_decompress(e,t,r){const i=this._isServer?"client":"server";if(!this._inflate){const e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[p]=this,this._inflate[u]=0,this._inflate[d]=[],this._inflate.on("error",v),this._inflate.on("data",g)}this._inflate[l]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush((()=>{const e=this._inflate[m];if(e)return this._inflate.close(),this._inflate=null,void r(e);const n=o.concat(this._inflate[d],this._inflate[u]);t&&this.params[`${i}_no_context_takeover`]?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[d]=[]),r(null,n)}))}_compress(e,t,r){const i=this._isServer?"server":"client";if(!this._deflate){const e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[d]=[],this._deflate.on("error",a),this._deflate.on("data",h)}this._deflate[l]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=o.concat(this._deflate[d],this._deflate[u]);t&&(e=e.slice(0,e.length-4)),this._deflate[l]=null,t&&this.params[`${i}_no_context_takeover`]?(this._deflate.close(),this._deflate=null):(this._deflate[u]=0,this._deflate[d]=[]),r(null,e)}))}}},2957:(e,t,r)=>{"use strict";const{Writable:n}=r(2413),o=r(3558),{BINARY_TYPES:i,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=r(1872),{concat:p,toArrayBuffer:u,unmask:l}=r(977),{isValidStatusCode:d,isValidUTF8:m}=r(9683);function f(e,t,r,n){const o=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,f),o[a]=n,o}e.exports=class extends n{constructor(e,t,r,n){super(),this._binaryType=e||i[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!r,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,f(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[o.extensionName])return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,f(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,f(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,f(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,f(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,f(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,f(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&l(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,((e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(f(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(r)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?p(t,e):"arraybuffer"===this._binaryType?u(p(t,e)):t,this.emit("message",r)}else{const r=p(t,e);if(!m(r))return this._loop=!1,f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",r.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return f(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!d(t))return f(RangeError,`invalid status code ${t}`,!0,1002);const r=e.slice(2);if(!m(r))return f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,r.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},7330:(e,t,r)=>{"use strict";const{randomFillSync:n}=r(6417),o=r(3558),{EMPTY_BUFFER:i}=r(1872),{isValidStatusCode:s}=r(9683),{mask:a,toBuffer:c}=r(977),p=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const r=t.mask&&t.readOnly;let o=t.mask?6:2,i=e.length;e.length>=65536?(o+=8,i=127):e.length>125&&(o+=2,i=126);const s=Buffer.allocUnsafe(r?e.length+o:o);return s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),s[1]=i,126===i?s.writeUInt16BE(e.length,2):127===i&&(s.writeUInt32BE(0,2),s.writeUInt32BE(e.length,6)),t.mask?(n(p,0,4),s[1]|=128,s[o-4]=p[0],s[o-3]=p[1],s[o-2]=p[2],s[o-1]=p[3],r?(a(e,p,s,o,e.length),[s]):(a(e,p,e,0,e.length),[s,e])):[s,e]}close(e,t,r,n){let o;if(void 0===e)o=i;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{const r=Buffer.byteLength(t);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+r),o.writeUInt16BE(e,0),o.write(t,2)}}this._deflating?this.enqueue([this.doClose,o,r,n]):this.doClose(o,r,n)}doClose(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,t,c.readOnly,r]):this.doPing(n,t,c.readOnly,r)}doPing(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}),n)}pong(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,t,c.readOnly,r]):this.doPong(n,t,c.readOnly,r)}doPong(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}),n)}send(e,t,r){const n=c(e),i=this._extensions[o.extensionName];let s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&i&&(a=n.length>=i._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),i){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,r]):this.dispatch(n,this._compress,e,r)}else this.sendFrame(u.frame(n,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:c.readOnly}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(u.frame(e,r),n);const i=this._extensions[o.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,i.compress(e,r.fin,((t,o)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t][4];"function"==typeof r&&r(e)}}else this._bufferedBytes-=e.length,this._deflating=!1,r.readOnly=!1,this.sendFrame(u.frame(o,r),n),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},404:(e,t,r)=>{"use strict";const{Duplex:n}=r(2413);function o(e){e.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(r=!1,e._socket.pause())})),e.once("error",(function(e){c.destroyed||c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(o,c);let n=!1;e.once("error",(function(e){n=!0,r(e)})),e.once("close",(function(){n||r(t),process.nextTick(o,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),c._readableState.endEmitted&&c.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){c._write(t,r,n)}))},c.on("end",i),c.on("error",s),c}},9683:(e,t,r)=>{"use strict";try{const e=r(6993);t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},9284:(e,t,r)=>{"use strict";const n=r(8614),{createHash:o}=r(6417),{createServer:i,STATUS_CODES:s}=r(8605),a=r(3558),c=r(8762),{format:p,parse:u}=r(1503),{GUID:l,kWebSocket:d}=r(1872),m=/^[+/0-9A-Za-z]{22}==$/;function f(e){e.emit("close")}function h(){this.destroy()}function g(e,t,r,n){e.writable&&(r=r||s[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${s[t]}\r\n`+Object.keys(n).map((e=>`${e}: ${n[e]}`)).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",h),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i(((e,t)=>{const r=s[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close((()=>this.emit("close"))):process.nextTick(f,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",h);const o=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),i=+e.headers["sec-websocket-version"],s={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!o||!m.test(o)||8!==i&&13!==i||!this.shouldHandle(e))return g(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),s[a.extensionName]=r)}catch(e){return g(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[8===i?"sec-websocket-origin":"origin"],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,((i,a,c,p)=>{if(!i)return g(t,a||401,c,p);this.completeUpgrade(o,s,e,t,r,n)}));if(!this.options.verifyClient(a))return g(t,401)}this.completeUpgrade(o,s,e,t,r,n)}completeUpgrade(e,t,r,n,i,s){if(!n.readable||!n.writable)return n.destroy();if(n[d])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");const u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${o("sha1").update(e+l).digest("base64")}`],m=new c(null);let f=r.headers["sec-websocket-protocol"];if(f&&(f=f.trim().split(/ *, */),f=this.options.handleProtocols?this.options.handleProtocols(f,r):f[0],f&&(u.push(`Sec-WebSocket-Protocol: ${f}`),m._protocol=f)),t[a.extensionName]){const e=t[a.extensionName].params,r=p({[a.extensionName]:[e]});u.push(`Sec-WebSocket-Extensions: ${r}`),m._extensions=t}this.emit("headers",u,r),n.write(u.concat("\r\n").join("\r\n")),n.removeListener("error",h),m.setSocket(n,i,this.options.maxPayload),this.clients&&(this.clients.add(m),m.on("close",(()=>this.clients.delete(m)))),s(m,r)}}},8762:(e,t,r)=>{"use strict";const n=r(8614),o=r(7211),i=r(8605),s=r(1631),a=r(4016),{randomBytes:c,createHash:p}=r(6417),{URL:u}=r(8835),l=r(3558),d=r(2957),m=r(7330),{BINARY_TYPES:f,EMPTY_BUFFER:h,GUID:g,kStatusCode:v,kWebSocket:y,NOOP:b}=r(1872),{addEventListener:x,removeEventListener:w}=r(62),{format:I,parse:S}=r(1503),{toBuffer:T}=r(977),E=["CONNECTING","OPEN","CLOSING","CLOSED"],k=[8,13];class C extends n{constructor(e,t,r){super(),this._binaryType=f[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=C.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(r=t,t=void 0),A(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){f.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){const n=new d(this.binaryType,this._extensions,this._isServer,r);this._sender=new m(e,this._extensions),this._receiver=n,this._socket=e,n[y]=this,e[y]=this,n.on("conclude",P),n.on("drain",L),n.on("error",M),n.on("message",j),n.on("ping",D),n.on("pong",q),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",F),e.on("data",z),e.on("end",V),e.on("error",U),this._readyState=C.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=C.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[l.extensionName]&&this._extensions[l.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=C.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==C.CLOSED){if(this.readyState===C.CONNECTING){const e="WebSocket was closed before the connection was established";return N(this,this._req,e)}this.readyState!==C.CLOSING?(this._readyState=C.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,r){if(this.readyState===C.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===C.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||h,t,r)):R(this,e,r)}pong(e,t,r){if(this.readyState===C.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===C.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||h,t,r)):R(this,e,r)}send(e,t,r){if(this.readyState===C.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==C.OPEN)return void R(this,e,r);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[l.extensionName]||(n.compress=!1),this._sender.send(e||h,n,r)}terminate(){if(this.readyState!==C.CLOSED){if(this.readyState===C.CONNECTING){const e="WebSocket was closed before the connection was established";return N(this,this._req,e)}this._socket&&(this._readyState=C.CLOSING,this._socket.destroy())}}}function A(e,t,r,n){const s={protocolVersion:k[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!k.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${k.join(", ")})`);let a;t instanceof u?(a=t,e._url=t.href):(a=new u(t),e._url=t);const d="ws+unix:"===a.protocol;if(!(a.host||d&&a.pathname))throw new Error(`Invalid URL: ${e.url}`);const m="wss:"===a.protocol||"https:"===a.protocol,f=m?443:80,h=c(16).toString("base64"),v=m?o.get:i.get;let y;if(s.createConnection=m?_:O,s.defaultPort=s.defaultPort||f,s.port=a.port||f,s.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,s.headers={"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":h,Connection:"Upgrade",Upgrade:"websocket",...s.headers},s.path=a.pathname+a.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(y=new l(!0!==s.perMessageDeflate?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=I({[l.extensionName]:y.offer()})),r&&(s.headers["Sec-WebSocket-Protocol"]=r),s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(a.username||a.password)&&(s.auth=`${a.username}:${a.password}`),d){const e=s.path.split(":");s.socketPath=e[0],s.path=e[1]}let b=e._req=v(s);s.timeout&&b.on("timeout",(()=>{N(e,b,"Opening handshake has timed out")})),b.on("error",(t=>{null===b||b.aborted||(b=e._req=null,e._readyState=C.CLOSING,e.emit("error",t),e.emitClose())})),b.on("response",(o=>{const i=o.headers.location,a=o.statusCode;if(i&&s.followRedirects&&a>=300&&a<400){if(++e._redirects>s.maxRedirects)return void N(e,b,"Maximum redirects exceeded");b.abort();const o=new u(i,t);A(e,o,r,n)}else e.emit("unexpected-response",b,o)||N(e,b,`Unexpected server response: ${o.statusCode}`)})),b.on("upgrade",((t,n,o)=>{if(e.emit("upgrade",t),e.readyState!==C.CONNECTING)return;b=e._req=null;const i=p("sha1").update(h+g).digest("base64");if(t.headers["sec-websocket-accept"]!==i)return void N(e,n,"Invalid Sec-WebSocket-Accept header");const a=t.headers["sec-websocket-protocol"],c=(r||"").split(/, */);let u;if(!r&&a?u="Server sent a subprotocol but none was requested":r&&!a?u="Server sent no subprotocol":a&&!c.includes(a)&&(u="Server sent an invalid subprotocol"),u)N(e,n,u);else{if(a&&(e._protocol=a),y)try{const r=S(t.headers["sec-websocket-extensions"]);r[l.extensionName]&&(y.accept(r[l.extensionName]),e._extensions[l.extensionName]=y)}catch(t){return void N(e,n,"Invalid Sec-WebSocket-Extensions header")}e.setSocket(n,o,s.maxPayload)}}))}function O(e){return e.path=e.socketPath,s.connect(e)}function _(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=e.host),a.connect(e)}function N(e,t,r){e._readyState=C.CLOSING;const n=new Error(r);Error.captureStackTrace(n,N),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function R(e,t,r){if(t){const r=T(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}r&&r(new Error(`WebSocket is not open: readyState ${e.readyState} (${E[e.readyState]})`))}function P(e,t){const r=this[y];r._socket.removeListener("data",z),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,1005===e?r.close():r.close(e,t)}function L(){this[y]._socket.resume()}function M(e){const t=this[y];t._socket.removeListener("data",z),t._readyState=C.CLOSING,t._closeCode=e[v],t.emit("error",e),t._socket.destroy()}function B(){this[y].emitClose()}function j(e){this[y].emit("message",e)}function D(e){const t=this[y];t.pong(e,!t._isServer,b),t.emit("ping",e)}function q(e){this[y].emit("pong",e)}function F(){const e=this[y];this.removeListener("close",F),this.removeListener("end",V),e._readyState=C.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",z),this[y]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",B),e._receiver.on("finish",B))}function z(e){this[y]._receiver.write(e)||this.pause()}function V(){const e=this[y];e._readyState=C.CLOSING,e._receiver.end(),this.end()}function U(){const e=this[y];this.removeListener("error",U),this.on("error",b),e&&(e._readyState=C.CLOSING,this.destroy())}E.forEach(((e,t)=>{const r={enumerable:!0,value:t};Object.defineProperty(C.prototype,e,r),Object.defineProperty(C,e,r)})),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach((e=>{Object.defineProperty(C.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(C.prototype,`on${e}`,{configurable:!0,enumerable:!0,get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const r=this.listeners(e);for(let t=0;t<r.length;t++)r[t]._listener&&this.removeListener(e,r[t]);this.addEventListener(e,t)}})})),C.prototype.addEventListener=x,C.prototype.removeEventListener=w,e.exports=C},2357:e=>{"use strict";e.exports=require("assert")},6772:t=>{"use strict";if(void 0===e){var r=new Error("Cannot find module 'bufferutil'");throw r.code="MODULE_NOT_FOUND",r}t.exports=e},6417:e=>{"use strict";e.exports=require("crypto")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},1191:e=>{"use strict";e.exports=require("querystring")},2413:e=>{"use strict";e.exports=require("stream")},4016:e=>{"use strict";e.exports=require("tls")},3867:e=>{"use strict";e.exports=require("tty")},8835:e=>{"use strict";e.exports=require("url")},6993:e=>{"use strict";if(void 0===t){var r=new Error("Cannot find module 'utf-8-validate'");throw r.code="MODULE_NOT_FOUND",r}e.exports=t},1669:e=>{"use strict";e.exports=require("util")},8761:e=>{"use strict";e.exports=require("zlib")}},n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={exports:{}};return r[e].call(t.exports,t,t.exports,o),t.exports}return o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(6746)})()}));